<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>AC3Filter</title>
<meta name="author" content="Alexander Vigovsky">
<meta name="keywords" content="AC3Filter AC3 DTS DolbyDigital">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link href="design.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- ==========================================================================
                                    Header
=========================================================================== -->

<!-- AC3Filter title & Source forge logo -->

<table width="100%">
  <tr>
    <td><h1><b>AC3Filter</b><small><i> ver $ver</i></small></h1></td>
    <td style="text-align: right;"><a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=66022&amp;type=5"
    alt="SourceForge Logo" border="0" height="62" width="210"></a> </td>
  </tr>
</table>

<!-- Language selection -->

<table>
  <tr>
    <td><a href="ac3filter_eng.html"><img src="pic/flag_eng.gif" border="0">English</a>&nbsp;&nbsp;&nbsp;</td>
    <td><img src="pic/flag_rus.gif" border="0"><b>Russian</b>&nbsp;&nbsp;&nbsp;</td>
    <td><a href="ac3filter_ita.html"><img src="pic/flag_ita.gif" border="0">Italian</a>&nbsp;&nbsp;&nbsp;</td>
  </tr>
</table>

<!-- Top-level links -->

<table width="100%">
  <tr>
    <td><a href="http://order.kagi.com/?6CZJZ">Donate!</a></td>
    <td><a href="$download_bin">Download</a></td>
    <td><a href="http://sourceforge.net/forum/?group_id=66022">Forum</a></td>
    <td><a href="http://sourceforge.net/projects/ac3filter">Source forge project</a></td>
  </tr>
</table>

<!-- ==========================================================================
                                  Description
=========================================================================== -->

<div class="chapter" lang="ru">
  <p>AC3Filter - это высококачественный бесплатный DirectShow фильтр предназначенный для декодирования и обработки звука в реальном
    времени. Приоритет на широкую функциональность и удобство настройки. Декодирование
    форматов AC3/DTS/MPEG Audio. Поддержка многоканального и цифрового (SPDIF) выхода. </p>
</div>

<!-- ==========================================================================
                                   Features
=========================================================================== -->

<div id="features" class="chapter" lang="ru">
  <h2><a name="features">Основные особенности:</a></h2>

  <ul>
    <li>Декодирование форматов AC3/DTS/MPEG1/2 Audio Layer I/II</li>
    <li>Поддержка DVD, AVI/AC3, AVI/DTS, WAV/AC3 и WAV/DTS</li>
    <li>Обработка звука из любого источника</li>
    <li>Разложение любого стереоисточника на 5 каналов</li>
    <li>Полная информация о формате звуковой дорожки</li>
    <li>Поддержка режима SPDIF passthrough</li>
    <li>Вывод многоканального звука на SPDIF из любого источника (кодирование в AC3 на лету)</li>
    <li>Поканальное усиление для всех входных/выходных каналов</li>
    <li>Поканальные задержки (для компенсации разного расстояния до колонок)</li>
    <li>Автоматическая регулировка усиления</li>
    <li>Клиппинг</li>
    <li>Сжатие динамического диапазона (Dynamic Range Compression, DRC)</li>
    <li>Индикация уровней входных и выходных каналов</li>
    <li>Матричный микшер и возможность напрямую изменять матрицу микширования.</li>
    <li>Микширование в Dolby Surround / Pro Logic / Pro Logic II</li>
  </ul>
</div>

<!-- ==========================================================================
                                  Contents
=========================================================================== -->

<div id="contents" class="chapter" lang="ru">
  <h2><a name="contents">Содержание</a></h2>

  <ol>
    <li> <a href="#download">Скачать</a></li>
    <li> <a href="#install">Установка</a></li>
    <li> <a href="#uninstall">Удаление</a></li>
    <li> <a href="#system_setup">Настройка системы</a>
      <ol>
        <li><a href="#system_setup_windows">Windows</a></li>
        <li><a href="#system_setup_multichannel">Настройки для многоканального режима</a></li>
        <li><a href="#system_setup_spdif">Настройки для режима SPDIF (цифровой выход)</a></li>
        <li><a href="#system_setup_subwoofer">Настройки для низкочастотного канала (сабвуфера)</a></li>
        <li><a href="#system_setup_filter">Настройка фильтра</a></li>
      </ol>
    </li>
    <li> <a href="#player_setup">Настройка плеера</a>
      <ol>
        <li><a href="#player_setup_table">Таблица совместимости</a></li>
        <li><a href="#player_setup_mpc">Media Player Classics</a></li>
        <li><a href="#player_setup_wmp64">Windows Media Player 6.4</a></li>
        <li><a href="#player_setup_wmp7">Windows Media Player 7+</a></li>
        <li><a href="#player_setup_bsp">BSPlayer</a></li>
        <li><a href="#player_setup_zp">ZoomPlayer</a></li>
        <li><a href="#player_setup_la">LightAlloy</a></li>
      </ol>
    </li>
    <li> <a href="#filter_setup">Настройки фильтра</a>
      <ol>
        <li><a href="#filter_setup_settings">Вызов окна настроек фильтра </a></li>
        <li><a href="#filter_setup_main">Основные настройки </a></li>
        <li><a href="#filter_setup_mixer">Настройки микшера</a></li>
        <li><a href="#filter_setup_gains">Уровни</a></li>
        <li><a href="#filter_setup_system">Системные настройки</a></li>
      </ol>
    </li>
    <li><a href="#theory">Теоретические сведения</a>
      <ol>
        <li><a href="#theory_loudness">Громкость и динамический диапазон</a></li>
        <li><a href="#theory_lfe">Что такое LFE?</a></li>
        <li><a href="#theory_spdif">SPDIF</a></li>
      </ol>
    </li>
    <li><a href="#troubleshooting">Решение проблем</a></li>
    <li>Технические подробности</li>
  </ol>
</div>


<!-- ==========================================================================
                                  Projects
=========================================================================== -->
<!-- rus -->
<div id="download" class="chapter" lang="ru">
  <h2><a name="download">1. Скачать.</a></h2>

  <b>ac3filter ver $ver:</b> <a href="$download_bin">$download_bin</a><br>
  <b>Все версии:</b> <a href="http://sourceforge.net/projects/ac3filter/">http://sourceforge.net/projects/ac3filter</a><br>
  <br>
  Новые версии программы всегда можно найти на сайте:<br>
  <a href="http://ac3filter.sourceforge.net">http://ac3filter.sourceforge.net</a> - официальный сайт
  проекта.<br>
  <a href="http://sourceforge.net/forum/?group_id=66022">http://sourceforge.net/forum/?group_id=66022</a> -
  форум AC3Filter<br>
  <a href="http://sourceforge.net/projects/ac3filter">http://sourceforge.net/projects/ac3filter</a> -
  страница проекта на Source forge - ошибки, пожелания...<br>
</div>

<!-- ==========================================================================
                                  Install
=========================================================================== -->

<div id="install" class="chapter" lang="ru">
  <h2><a name="install">2. Установка.</a></h2>

  <p>Запустить программу установки и следовать инструкциям. Для использования многоканальных режимов
    и режима цифрового выхода после установки могут потребоваться дополнительные настройки системы. (см. <a href="#system_setup">4.
    Настройки системы</a>).</p>
</div>

<!-- ==========================================================================
                                  Uninstall
=========================================================================== -->

<div id="uninstall" class="chapter" lang="ru">
  <h2><a name="uninstall">3. Удаление.</a></h2>

  <p>Запустить программу удаления из меню Пуск или из Панели Управления.</p>

  <p class="warning">Все записанные настройки матриц, эквалайзеров и т.д. будут удалены! </p>

  <p>Фильтр может быть установлен вместе с другими программами (кодек-паки, плееры...). В таком случае
    фильтр может быть удален только вместе с этой программой. Если Вы не знаете, вместе с какой программой
    был установлен фильтр, или хотите удалить фильтр без деинсталляции программы то удалить фильтр самостоятельно
    можно следующим способом:</p>

  <ul>
    <li>Скачать пакет установки с официального сайта: <a href="$download_bin">$download_bin</a></li>
    <li>Установить его. После этого фильтр появится в списке установленных программ в Панели Управления.</li>
    <li>Деинсталлировать фильтр из Панели Управления. Фильтр будет удален из системы.</li>
  </ul>
</div>

<!-- ==========================================================================
                                  System setup
=========================================================================== -->

<div id="system_setup" class="chapter">
  <h2 lang="ru"><a name="system_setup">4. Настройка системы</a></h2>

  <p lang="ru">В этом разделе будут описаны единоразовые настройки, которые необходимо выполнить после
    установки фильтра. Наиболее совместимым режимом работы является режим стерео 16 бит (не многоканальный)
    в котором фильтр работает по умолчанию. Этот режим совместим со всеми версиями Windows и любыми звуковыми
    картами. Для работы в этом режиме в дополнительных настройках нет необходимости. Для работы в многоканальных
    режимах или в режиме цифровой передачи могут потребоваться некоторые настройки системы.</p>

  <!-- ------------------------------ Windows ------------------------------- -->

  <div id="system_setup_windows" class="subchapter" lang="ru">
    <h3><a name="system_setup_windows">4.1. Windows</a></h3>

    <table style="text-align: center;" border="1" cellpadding="2" cellspacing="2">
      <caption>
      Таблица совместимости
      </caption>
      <tr>
        <th align="left"></th>
        <th>Win95, Win98</th>
        <th>Win98SE</th>
        <th>WinNT <a href="#system_setup_note3">(3)</a></th>
        <th>Win2000</th>
        <th>WinXP</th>
      </tr>
      <tr>
        <th align="left">моно/стерео 16 бит</th>
        <td>+</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
      </tr>
      <tr>
        <th align="left">многоканальный режим</th>
        <td>- (?)</td>
        <td>WaveOut <a href="#system_setup_note1">(1)</a></td>
        <td>SP6</td>
        <td>+</td>
        <td>+</td>
      </tr>
      <tr>
        <th align="left">SPDIF</th>
        <td>- (?)</td>
        <td>WaveOut <a href="#system_setup_note1">(1)</a> + патч <a href="#system_setup_note2">(2)</a></td>
        <td>- (?)</td>
        <td>SP2</td>
        <td>+</td>
      </tr>
    </table>

    <div style="font-size:80%"> <a name="system_setup_note1"></a>1) см. <a href="#filter_setup_system">6.5.
        Системные настройки</a><br>
      <a name="system_setup_note2"></a>2) cкачать патч можно здесь:<br>
      <div style="margin-left: 40px;"> <b>server1:</b><a href="http://ac3filter.sourceforge.net/download/269601USA8.EXE">http://ac3filter.sourceforge.net/download/269601USA8.EXE</a><br>
        <b>server2:</b><a href="ftp://download.intel.com/design/motherbd/bt2/269601USA8.EXE">ftp://download.intel.com/design/motherbd/bt2/269601USA8.EXE</a><br>
        <b>server3:</b><a href="ftp://ftp.asus.com.tw/pub/ASUS/beta/mb/driver/269601USA8.EXE">ftp://ftp.asus.com.tw/pub/ASUS/beta/mb/driver/269601USA8.EXE</a><br>
        Действие этого патча описано в <a href="http://www.microsoft.com/hwdev/tech/audio/Non-PCM.asp">http://www.microsoft.com/hwdev/tech/audio/Non-PCM.asp</a>.<br>
      </div>
      <a name="system_setup_note3"></a>3) звуковая карта должна поддерживать режим вывода 48кГц <br>
    </div>
  </div>

  <!-- ------------------------------ Multichannel -------------------------- -->

  <div id="system_setup_multichannel" class="subchapter" lang="ru">
    <h3><a name="system_setup_multichannel">4.2. Настройки для многоканального режима.</a></h3>

    <p>Установить конфигурацию колонок в настройках фильтра (см. <a href="#filter_setup_main">6.2. Основные
      настройки</a>). Некоторые звуковые карты работают некорректно с <em>нечетным</em> количеством
      колонок (например, <span class="value">2/2+SW 4.1 quadro</span> или <span class="value">3/0 3 front</span>). Поэтому таких режимов
      следует по возможности избегать. Режимы <span class="value">Dolby
      Surround/ProLogic</span> и <span class="value">Doby ProLogic2</span> <em>не являются</em> многоканальными
      режимами. Не следует также использовать режимы с сабвуфером (<span class="value">2/0+SW 2.1 stereo</span>,
      <span class="value">4/0+SW 4.1 quadro</span>) если аукстика не имеет <em>отдельного</em> входа для
      сабвуфера (см. <a href="#theory_lfe">7.2.
      Что такое LFE?</a>).</p>

    <p>Установить режим колонок в Панели Управления: <span class="action">Control Panel-&gt;Sounds and
      Multimedia-&gt;Audio-&gt;Sound Playback-&gt;Advanced</span>. Кроме того, часто драйвера звуковой
      карты имеют собственные утилиты для переключения конфигурации колонок. Необходимо установить
      нужную конфигурацию в обоих местах - и в настройках драйверов звуковой карты и в Панели Управления.</p>

    <p>Для звуковых карт Creative <em>необходимо</em> отключить все звуковые эффекты и эквалайзеры -
      в противном случае возможно пропадание центрального/тыловых каналов.</p>

    <p>Звуковая карта может работать в двух режимах: DirectSound и WaveOut. В некоторых случаях многоканальный
      режим может работать только в одном из этих режимов и не работать в другом. В этом случае необходимо
      изменить устройство вывода в настройках плеера. Поддерживает ли плеер изменение устройства вывода
      можно узнать в таблице совместимости в разделе <a href="#player_setup">5. Настройка плеера</a> (колонка
      Renderer). Если плеер не имеет такой настройки то можно изменить системное устройство вывода по
      умолчанию (см. <a href="#filter_setup_system">6.5.
      Системные настройки</a>). Однако эта опция изменяет <em>глобальные</em> настройки системы, поэтому
      пользоваться ей рекомендуется <em>только</em> в случае, если плеер не поддерживает данную возможность.</p>
  </div>

  <!-- ------------------------------ SPDIF --------------------------------- -->

  <div id="system_setup_spdif" class="subchapter" lang="ru">
    <h3><a name="system_setup_spdif">4.3. Настройки для режима SPDIF (цифровой выход)</a></h3>
    <small>(рекомендуется предварительно ознакомиться с разделом <a href="#theory_spdif">7.3 SPDIF</a>)</small>

    <p>Режим SPDIF необходим <em>только</em> при цифровом подключении и наличии внешнего декодера/ресивера.
      Важно предварительно убедиться в правильности подключения ресивера (см. документацию на звуковую
      карту и ресивер).</p>

    <p>Чтобы включить режим SPDIF в настройках фильтра необходимо отметить флажок <span class="option">SPDIF</span> (см. <a href="#filter_setup_main">6.2.
      Основные настройки</a>)</p>

    <p>Цифровое соединение поддерживает разные форматы передачи данных (PCM, AC3, DTS, MPEG Audio). В
      документации на ресивер необходимо узнать форматы, поддерживаемые ресивером. В большинстве случаев
      поддерживается только формат AC3 - в этом случае никаких дополнительных настроек не нужно (он включен
      по умолчанию). Если ресивер поддерживает другие форматы, то их можно указать в настройках фильтра
      (см. <a href="#filter_setup_system">6.5. Системные настройки</a>).</p>

    <p>Некоторые драйверы обладают возможностью декодирования AC3. Если такая опция присутствует, ее
      необходимо отключить (см. руководство по звуковой карте).</p>

    <p>Звуковая карта может работать в двух режимах: DirectSound и WaveOut. В некоторых случаях многоканальный
      режим может работать только в одном из этих режимов и не работать в другом. В этом случае необходимо
      изменить устройство вывода в настройках плеера. Поддерживает ли плеер изменение устройства вывода
      можно узнать в разделе <a href="#player_setup">5. Настройка плеера</a> (колонка Renderer). Если
      плеер не имеет такой настройки то можно изменить системное устройство вывода по умолчанию (см. <a href="#filter_setup_system">6.5.
      Системные настройки</a>). Однако эта опция изменяет <em>глобальные</em> настройки системы, поэтому
      пользоваться ей рекомендуется <em>только</em> в случае, если плеер не поддерживает данную возможность.</p>

    <p>Некоторые звуковые карты неспособны работать в режиме цифровой передачи с частотой дискретизации
      44100Гц. Поэтому в некоторых случаях цифровая передача невозможна вообще. Текущий режим цифрового
      вывода во время просмотра можно посмотреть в настройках фильтра на главной странице (см. <a href="#filter_setup_main">6.2.
      Основные настройки</a>)</p>
  </div>

  <!-- ------------------------------ Subwoofer ----------------------------- -->

  <div id="system_setup_subwoofer" class="subchapter" lang="ru">
    <h3><a name="system_setup_subwoofer">4.4. Настройки для низкочастотного канала (сабвуфера)</a></h3>
    <small>(рекомендуется предварительно ознакомиться с разделом <a href="#theory_lfe">7.2. Что такое
    LFE?</a>)</small>

    <p>Не следует использовать режимы с сабвуфером (2/0+SW, 4/0+SW) если аукстика не имеет <em>отдельного</em> входа
      для сабвуфера (см. <a href="#theory_lfe">7.2. Что такое LFE?</a>).</p>

    <p>Для режимов с сабвуфером рекомендуется включить перенаправление басов. В документации на акустику
      необходимо найти информацию о частоте пропускания колонок и сабвуфера; частоту среза рекомендуется
      установить равной нижнему пределу для колонок и верхнему для сабвуфера. Например, если частотный
      диапазон колонок равен 100Гц-20кГц, а сабвуфера - 30Гц-100Гц, то частоту среза необходимо установить
      равной 100Гц. В большинстве случаев подходит настройка установленная по умолчанию, поэтому ничего
      изменять не требуется.</p>

    <p>Некоторые звуковые карты имеют собственные настройки по управлению перенаправлением басов. <em>Нельзя</em> включать
      обе опции одновременно! Это может привести к значительным искажениям. Перенаправление басов должно
      быть включено либо <em>только</em> в фильтре либо <em>только</em> в настройках звуковой карты.</p>
  </div>

  <!-- ------------------------------ Filter -------------------------------- -->

  <div id="system_setup_filter" class="subchapter" lang="ru">
    <h3><a name="system_setup_filter">4.5. Настройка фильтра</a></h3>

    <p>После установки фильтр уже настроен и, в общем случае, не требует дополнительной настройки. Поэтому
      если Вы неуверены или не разбираетесь во всей этой ерунде, то все будет работать и так. Изменять
      настройки рекомендуется только в случае проблем со звуком. Однако, если Вы любознательны и любите
      покрутить настройки, то для более полного понимания настроек настоятельно рекомендуется ознакомиться
      с разделом <a href="#theory">7. Теоретические сведения</a>.</p>
  </div>

</div>
<!-- ==========================================================================
                                  Player setup
=========================================================================== -->
<div id="player_setup" class="chapter">
  <h2 lang="ru"><a name="player_setup">5. Настройка плеера.</a></h2>

  <p lang="ru"> В этом разделе будут кратко рассмотрены наиболее распространенные плееры и возможность
    их работы совместно с AC3Filter'ом - возможности самих плееров и необходимые настройки.</p>

  <div id="player_setup_table" class="subchapter" lang="ru">
    <h3><a name="player_setup_table">5.1 Таблица совместимости</a></h3>

    <table bgcolor="#ccffcc" border="1" cellpadding="2" cellspacing="2">
      <tr align="center">
        <th bgcolor="#66ff99">Плеер</th>
        <th bgcolor="#66ff99">Сокр</th>
        <th bgcolor="#66ff99">Сайт</th>
        <th bgcolor="#66ff99">Лицензия</th>
        <th bgcolor="#66ff99">AVI</th>
        <th bgcolor="#66ff99">DVD</th>
        <th bgcolor="#66ff99">Filters</th>
        <th bgcolor="#66ff99">Renderer</th>
        <th bgcolor="#66ff99">Decoder</th>
        <th bgcolor="#66ff99">Supported</th>
        <th bgcolor="#66ff99">Подробности</th>
      </tr>
      <tr align="center">
        <td>Media Player Classics</td>
        <td>MPC</td>
        <td><a href="http://sourceforge.net/projects/guliverkli">(site)</a></td>
        <td bgcolor="#66ffff">OpenSource</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_mpc">(details)</a></td>
      </tr>
      <tr align="center">
        <td>Windows Media Player v6.4</td>
        <td>WMP64</td>
        <td><a href="http://download.microsoft.com">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_wmp64">(details)</a></td>
      </tr>
      <tr align="center">
        <td>Windows Media Player 7+</td>
        <td>WMP7+</td>
        <td><a href="http://download.microsoft.com">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_wmp7"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>BSPlayer</td>
        <td>BSP</td>
        <td><a href="http://www.bsplayer.org/">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_bsp">(details)</a></td>
      </tr>
      <tr align="center">
        <td>ZoomPlayer</td>
        <td>ZP</td>
        <td><a href="http://www.inmatrix.com/">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_zp"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>ZoomPlayerPro</td>
        <td>ZPP</td>
        <td><a href="http://www.inmatrix.com/">(site)</a></td>
        <td bgcolor="#ffcf00">Shareware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_zp"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>LightAlloy</td>
        <td>LA</td>
        <td><a href="http://www.softella.com/index.en.htm">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_la"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>PowerDVD<br>WinDVD</td>
        <td>PDVD<br>WDVD</td>
        <td><a href="http://www.gocyberlink.com">(site)</a><br>
            <a href="http://www.intervideo.com">(site)</a></td>
        <td bgcolor="#ffcf00">Shareware<br>Shareware</td>
        <td bgcolor="#33ff33">+<br>+</td>
        <td bgcolor="#33ff33">+<br>+</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#ce0000">AVI only<br>AVI only</td>
        <td><a href="#player_setup_pdvd">(details)</a></td>
      </tr>
    </table>

    <div style="font-size:80%">
      Сокр - сокращенное название плеера<br>
      AVI - возможность проигрывания AVI файлов<br>
      DVD - возможность проигрывания DVD<br>
      Filters - плеер поддерживает возможность конфигурирования фильтров<br>
      Renderer - плеер поддерживает возможность смены устройства вывода<br>
      Decoder - плеер поддерживает возможность смены декодера<br>
      Supported - плеер имеет возможность использовать AC3Filter<br>
    </div>

    <p>Разумеется, таблица далеко неполна, поэтому любые поправки и дополнения всячески приветствуются.</p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_mpc" class="subchapter" lang="ru">
    <h3><a name="player_setup_mpc">5.2. Media Player Classics</a></h3>

    <p>Один из самых многофункциональных плееров. Несмотря на непритязательный внешний вид и скромный размер
      (~1Mb) плеер по функциональности уступает лишь ZoomPlayer'у, а кроме того имеет огромное количество
      встроенных декодеров (отпадает необходимость в установке кодек-паков и других внешних декодеров).
      Поддерживает проигрывание DVD, Flash-анимации (причем с возможностью перемотки!), RealVideo/RealAudio,
      QuickTime, и многого другого. Надежный, стабильный и непритязательный к ресурсам. <small>(мой любимый
      плеер :-).</small></p>

    <p>Во время просмотра настройки фильтра вызываются щелчком правой кнопкой мыши на кадре и далее в выпадающем
      меню выбрать <span class="action">Filters-&gt;AC3Filter</span>:</p>

    <div class="image">
      <img alt="" src="pic/players/mpc_filters.png" height="401" width="500">
    </div>

    <p>Настройки плеера вызываются в меню <span class="action">View-&gt;Options</span>. Для того, чтобы плеер использовал AC3Filter
      необходимо изменить настройки плеера как показано на рисунке:</p>

    <div class="image">
      <img alt="" src="pic/players/mpc_options1.png" height="424" width="620">
    </div>

    <p>Если в системе было установлено несколько декодеров, то будет использоваться декодер, имеющий наивысший
      приоритет. Для изменения приоритета фильтра см. <a href="#filter_setup_system">6.5. Системные настройки</a>.
      Плеер можно настроить так, чтобы AC3Filter использовался всегда, независимо от текущих настроек системы.
      Для этого в настройках плеера в разделе Overrides нажать кнопку <span class="action">AddFilter</span> и
      в открывшемся списке выбрать <span class="action">AC3Filter</span>. Должно получиться следующее:</p>

    <div class="image">
      <img alt="" src="pic/players/mpc_options2.png" height="424" width="620">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_wmp64" class="subchapter" lang="ru">
    <h3><a name="player_setup_wmp64">5.3. Windows Media Player 6.4</a></h3>

    <p>Простенький плеер, поставляемый со <em>всеми</em> версиями Windows начиная в Win98 (Win98, WinME,
      Win2000, WinXP, ...). Плеер находится в каталоге <span class="file">C:\Program files\Windows Media
      Player\mplayer2.exe</span>. Плеер крайне надежен, нетребователен к ресурсам и использует только стандартные
      методы проигрывания, поэтому незаменим для выявления разнообразных проблем. Отсутствуют многие функции,
      однако с главной задачей - проигрывание файлов справляется отлично. При возникновении проблем с проигрыванием
      файлов в других плеерах рекомендуется попробовать этот плеер. </p>

    <p>Во время просмотра настройки фильтра вызываются в меню <span class="action">File-&gt;Properties-&gt;Advanced</span>:</p>

    <div class="image">
      <img alt="" src="pic/players/wmp64_filters.png" height="482" width="457">
    </div>

    <p>Плеер не имеет настроек для того, чтобы использовался именно AC3Filter, поэтому если в системе было
      установлено несколько декодеров, то будет использоваться декодер, имеющий наивысший приоритет. Для
      изменения приоритета фильтра см. <a href="#filter_setup_system">6.5. Системные настройки</a>.</p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_wmp7" class="subchapter" lang="ru">
    <h3><a name="player_setup_wmp7">5.4. Windows Media Player 7+</a></h3>

    <p>У всего семейства плееров нет возможности вызвать настройки фильтров во время просмотра. Т.о. невозможно
      увидеть используется ли для декодирования AC3Filter или какой-либо другой декодер, невозможно изменять
      настройки во время проигрывания и наблюдать текущую активность (свойства текущего аудио-потока, входные/выходные
      уровни, активность DRC и т.д.). Единственное исключение составляет Windows Media Player 9 и только
      в режиме просмотра DVD. В этом случае настройки фильтра вызываются из меню <span class="action">Tools-&gt;Options</span> (при
      просмотре .avi файлов и файлов других форматов данная опция работать не будет):</p>

    <div class="image">
      <img alt="" src="pic/players/wmp9_dvd.png" height="473" width="403">
    </div>

    <p>Во всех остальных случаях конфигурирование фильтра возможно только при помощи утилиты конфигурирования <em>до</em> начала
      просмотра фильма.</p>

    <p>Плеер не имеет настроек для того, чтобы использовался именно AC3Filter, поэтому если в системе было
      установлено несколько декодеров, то будет использоваться декодер, имеющий наивысший приоритет. Для
      изменения приоритета фильтра см. <a href="#filter_setup_system">6.5. Системные настройки</a>.</p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_bsp" class="subchapter" lang="ru">
    <h3><a name="player_setup_bsp">5.5. BSPlayer</a></h3>

    <p>Многофункциональный плеер с поддержкой скинов.</p>

    <p>Настройки фильтра вызываются щелчком правой кнопкой мыши на кадре и далее в выпадающем мею
    выбрать <span class="action">Options-&gt;Filters-&gt;AC3Filter</span>:</p>

    <div class="image">
        <img alt="" src="pic/players/bsp_filters.png" height="528" width="649">
    </div>

    <p>Настройки плеера вызываются в меню <span class="action">Options-&gt;Preferences</span>.
      Для того, чтобы плеер использовал AC3Filter необходимо изменить настройки плеера как
      показано на рисунке:</p>

    <div class="image">
      <img alt="" src="pic/players/bsp_options.png" height="444" width="572">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_zp" class="subchapter" lang="ru">
    <h3><a name="player_setup_zp">5.6. ZoomPlayer</a></h3>

    <p>Самый многофункциональный плеер. Функций настолько много что перечислять их нет смысла.</p>

    <p>Настройки фильтра вызываются щелчком правой кнопкой мыши на кадре и далее в выпадающем мею выбрать
      <span class="action">Filter Properties-&gt;AC3Filter</span>:</p>

    <div class="image">
      <img alt="" src="pic/players/zoom_filters.png" height="417" width="507">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_la" class="subchapter" lang="ru">
    <h3><a name="player_setup_la">5.7. LightAlloy</a></h3>

    <p>Настройки фильтра вызываются как показано на рисунке:</p>

    <div class="image">
      <img alt="" src="pic/players/la_filters.png" height="354" width="376">
    </div>

    <p>Плеер не имеет настроек для того, чтобы использовался именно AC3Filter, поэтому если в системе было
      установлено несколько декодеров, то будет использоваться декодер, имеющий наивысший приоритет. Для
      изменения приоритета фильтра см. <a href="#filter_setup_system">6.5. Системные настройки</a>.</p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_pdvd" class="subchapter" lang="ru">
    <h3><a name="player_setup_pdvd">5.8. PowerDVD/WinDVD</a></h3>

    <p> Оба плеера <em>не могут</em> использовать AC3Filter для проигрывания DVD. <em>Это связано с особенностями
        самих плееров</em> поэтому нет никакой возможности заставить их использовать AC3Filter. Т.е. заставить
        работать эти плееры с AC3Filter'ом принципиально невозможно! Поэтому для просмотра DVD с использованием
        AC3Filter'а рекомендуется использовать другие плееры - Media Player Classics, LightAlloy или ZoomPlayer.</p>

    <p>При проигрывании этими плеерами AVI-файлов AC3Filter может использоваться как для пост-обработки так
      и для декодирования AC3/DTS аудио-дорожки. Однако, плеер не позволяет вызвать настройки фильтра и настраивать
      фильтр можно только <em>до</em> просмотра при помощи утилиты конфигурирования.</p>
  </div>

</div>

<!-- ==========================================================================
                                  Player setup
=========================================================================== -->

<div id="filter_setup" class="chapter">
  <h2 lang="ru"><a name="filter_setup">6. Настройки фильтра.</a></h2>

  <div style="font-size:120%;font-style:italic" lang="ru">
    <p>После установки фильтр уже настроен и, в общем случае, не требует дополнительной настройки.
      Поэтому если Вы неуверены или не разбираетесь во всей этой ерунде, то все будет работать и так.
      Изменять настройки рекомендуется только в случае проблем со звуком. Однако, если Вы любознательны
      и любите покрутить настройки, то для более полного понимания настроек настоятельно рекомендуется
      ознакомиться с разделом <a href="#theory">7. Теоретические сведения</a>.</p>

    <p>Два самых главных правила настройки:</p>
    <ul>
      <li>Если вы не понимаете, что делает какая-либо настройка не трогайте ее.</li>
      <li>Если что-то сломалось - загрузите пресет 'standard' (страница настроек <span class="action">Main-&gt;Preset-&gt;Standard</span>).</li>
    </ul>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_settings" class="subchapter" lang="ru">
    <h3><a name="filter_setup_settings">6.1. Вызов окна настроек фильтра </a></h3>

    <p>Для настройки фильтра необходимо открыть окно свойств фильтра. Это можно сделать двумя способами:</p>

    <ul>
      <li>Непосредственно во время проигрывания. При этом возможно наблюдать активность фильтра и изменять
        настройки во время сразу во время просмотра. Плеер должен иметь возможность конфигурирования фильтров.
        См. таблицу совместимости в разделе <a href="#player_setup">5. Настройка плеера</a>, чтобы узнать
        поддерживает ли плеер эту функцию. Там же описаны действия для вызова окна настройки. При изменении
        настроек изменения вступают в силу немедленно (точнее с небольшим запаздыванием 0.5..2c - зависит
        от величины буфера проигрывателя).</li>
      <li>Если плеер не имеет возможности конфигурирования фильтров, то настройку можно произвести при
        помощи утилиты конфигурирования (в меню Старт):

        <div class="image">
          <img alt="" src="pic/config.png" height="384" width="550">
        </div>

        <span class="warning">При настройке при помощи утилиты в окне настройки не будет отображаться текущая статистика
        и настройки вступают в силу только после закрытия окна настройки и перезапуска плеера!</span></li>
    </ul>
  </div> <!-- <div id="filter_setup_settings" class="subchapter" lang="ru"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_main" class="subchapter">
    <h3 lang="ru"><a name="filter_setup_main">6.2. Основные настройки (страница Main)</a></h3>

    <p lang="ru">На этой странице находятся самые необходимые настройки фильтра и информация о воспроизводимом звуке.
      Уровни и информация показываются <em>только</em> при вызове настроек из плеера):</p>

    <div class="image">
      <img src="pic/dlg_main.png" alt="" height="427" width="623">
    </div>

    <div class="subsubchapter" lang="ru">
      <h4>6.2.1. Выходной формат (Output).</h4>

      <p>В данном разделе находятся настройки выходного формата фильтра. Фильтр будет автоматически пересчитывать
        любой входной формат в указанную конфигурацию. Конфигурация колонок указывается в виде фронт/тыл+сабвуфер.
        Для некоторых конфигураций приведены общепринятые названия. Например, запись <span class="value">2/0
        - stereo</span> - означает 2 фронтальные колонки, т.е. обычное стерео. <span class="value">2/2 -
        quadro</span> - 2 форнтальные и 2 тыловые колонки - т.е. квадро. <span class="value">3/2+SW
        5.1 channels</span> -
        3 фронтальных колонки, 2 тыловых и сабвуфер - конфигурация 5.1. Желательно, чтобы указанная конфигурация
        колонок совпадала с настройками системы (см. <a href="#system_setup_multichannel">4.2. Настройки
        для многоканального режима</a>), которые, в свою очередь должны совпадать с реальным количеством
        колонок. Чем отличается сабвуфер и канал LFE, а также как производить настройку см. в разделе <a href="#theory_lfe">7.2.
        Что такое LFE?</a></p>

      <p>Режимы <span class="value">Dolby Surround/ProLogic</span> и <span class="value">Dolby ProLogic
          II</span> необходимы
        если компьютер имеет только стерео выход и подключен к Dolby ProLogic декодеру. В этом
          случае центральный и тыловые каналы микшируются в два канала так, чтобы внешний декодер мог
          выделить их из двух каналов обратно. <em>Это не многоканальный режим!</em> Это особая разновидность
          стерео-режима необходимая <em>только</em> при
          наличии внешнего Dolby ProLogic декодера.</p>

      <p>Второй список выбора задает выходной формат сэмпла. Фильтр будет автоматически пересчитывать любой
        входной формат в указанный. При декодировании задает точность декодирования. На настоящее время
        поддерживаются форматы 16/24/32 бит и формат с плавающей точкой.</p>

      <p>Флаг <span class="option">SPDIF</span> включает режим цифрового выхода. Необходим <em>только</em> при
        цифровом (SPDIF) подключении и наличии внешнего аппаратного декодера/ресивера. В этом случае кодированный
        поток будет передаваться на внешний декодер без изменений (при поддержке декодером этого формата),
        или перекодироваться в формат, понятный декодеру (за более подробной информацией см. <a href="#theory_spdif">7.3.
        SPDIF</a>). В скобках указывается текущее состояние режима цифрового выхода:</p>

      <ul>
        <li><span class="value">disabled</span> - режим цифрового выхода неактивен, на выход передается обычный
          декодированный PCM поток. При включенной опции <span class="option">SPDIF</span> фильтр всегда пытается использовать цифровую передачу.
          И только если цифровая передача невозможна (драйвер звуковой карты отказывается принимать указанный
          формат) передается обычный PCM. Например, многие звуковые карты поддерживают цифровую передачу <em>только</em> при
          частоте дикретизации равной 48000Гц, и <em>не поддерживают</em> распространенный формат 44100Гц.</li>
        <li><span class="value">passthrough</span> - режим сквозной передачи (только для форматов AC3, DTS и MPEG Audio). В этом
          случае упакованный цифровой поток передается без изменений и декодирование осуществляется внешним
          декодером. В этом режиме фильтр не показывает текущей активности, и никакие настройки фильтра
          не оказывают влияния на звук (т.к. звук не декодируется, а кодированные данные передаются 'как есть').</li>
        <li><span class="value">AC3 encode</span> - режим кодирования в AC3. В этом режиме фильтр осуществляет декодирование
          входного потока и производит пост-обработку (все опции фильтра действуют, включая изменение количества
          колонок). Затем полученный сигнал кодируется в AC3 и передается в цифровом виде внешнему аппаратному
          декодеру. Этот режим необходим для передачи многоканального аудио в форматах, которые не поддерживаются
          внешним декодером (например, AAC или OGG Vorbis) или если внешний декодер не поддерживает разложение
          стерео в многоканальный формат. Необходимо помнить, что кодирование в AC3 - это потеря качества,
        поэтому для многоканальных форматов предпочтительнее использовать аналоговое подключение.</li>
      </ul>

      <p>Форматы, поддерживаемые внешним декодером указываются на странице системных настроек в разделе <span class="option">SPDIF
          passthrough</span> (см. <a href="#filter_setup_system">6.5. Системеные настройки</a>). </p>

      <p>Необходимо отметить, что текущий режим может изменяться во время просмотра при изменении формата
        входного потока. Например, при просмотре DVD есть возможность переключать звуковые дорожки. При этом
        формат дорожки также может изменяться. Если ресивер поддерживает только формат AC3, то при переключении
        со звуковой дорожки формата AC3 на звуковую дорожку формата DTS произойдет переключение с режима <span class="value">passthrough</span> в
        режим <span class="value">AC3 encode</span>. За более подробной информацией см. <u>9.x Data Flow</u>.</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.2. Пресеты (Preset)</h4>

      <p>Все настройки фильтра можно записать как единый набор настроек (<dfn>пресет</dfn>) и потом быстро
        загружать их. Вместе с фильтром устанавливается несколько стандартных пресетов:</p>

      <ul>
        <li><span class="value">Standard</span> - не производится никаких дополнительных обработок; сигнал передается без изменений.</li>
        <li><span class="value">Loud</span> - максимальная громкость.</li>
      </ul>

      <p>Три пресета имеют особое значение:</p>

      <ul>
        <li><span class="value">Default</span> - пресет, загружаемый по умолчанию при загрузке фильтра</li>
        <li><span class="value">Default AC3</span> - пресет, загружаемый для звуковых дорожек формата AC3</li>
        <li><span class="value">Deafult DTS</span> - пресет, загружаемый для звуковых дорожек формата DTS</li>
      </ul>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.3. Усиление сигнала (Gain)</h4>

      <p>Не следует использовать эту опцию вместо громкости
        плеера или системной громкости. При сильном усилении возможно возникновение переполнения и заметное
        снижение качества проигрывания. Подробнее см. <a href="#theory_loudness">7.1. Громкость и динамический
        диапазон</a>.</p>

      <p>Уровень <span class="option">Master</span> задает желаемый уровень усиления в дБ. Если имеющейся шкалы недостаточно,
        можно указать желаемый уровень в поле ввода в любых пределах.</p>

      <p>Уровень <span class="option">Gain</span> отображает текущий уровень усиления. В отсутствии переполнения
        совпадает с уровнем <span class="option">Master</span>.
        В случае переполнения система автоматической регулировки усиления понижает этот уровень. Таким
        образом изменение уровня <span class="option">Gain</span> может сигнализировать о том, что установлен
        слишком высокий уровень <span class="option">Master</span>.</p>

      <p>См. также опции <span class="option">Auto gain control</span> и <span class="option">One-pass norm</span> в разделе <a href="#filter_setup_mixer">6.3.
          Настройки микшера</a>.</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.4. Сжатие динамического диапазона (DRC)</h4>
      <p>Флаг <span class="option">DRC Enabled</span> включает/отключает функцию сжатия динамического диапазона. Первый уровень
        задает уровень сжатия динамичкеского диапазона. Второй уровень отображает текущий уровень усиления.
        Подробнее см. <a href="#theory_loudness">7.1. Громкость и динамический диапазон</a>.</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.5. Информация о потоке (Decoder info).</h4>

      <p>Отображает тип и параметры текущего аудио-потока. Строка <span class="option">Input</span> отображает тип входного потока.
        В текстовом окне отображается информация о формате. Декодеры для разных форматов показывают разную
        информацию, в том числе:</p>

      <ul>
        <li>speakers - конфигурация каналов в потоке</li>
        <li>sample rate - частота дискретизации</li>
        <li>bitrate - битрейт</li>
        <li>stream - тип битового потока (8/14/16 bit big/little endian)</li>
        <li>frame size - размер фрейма</li>
        <li>nsamples - количество сэмплов на фрейм</li>
      </ul>

      <p>Поля <span class="option">Frames/errors</span> отображают статистику декодера: количество декодированных фреймов / количество
        фреймов с ошибками. В нормальном режиме работы ошибок быть не должно!</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.6 Загрузка процессора (CPU).</h4>

      <p>Индикатор показывает загрузку процессора фильтром.</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

    <div class="subsubchapter" lang="ru">
      <h4>6.2.7 Индикаторы уровней (Levels).</h4>

      <p>Здесь отображаются текущие входные и выходные пик-уровни сигнала. Уровни отображаются в логарифмическом
        формате. При возникновении переполнения индикаторы выходных уровней становятся красными. В этом случае
        желательно уменьшить усиление (уровень <span class="option">Gain</span>) т.к. переполнение означает возникновение искажений
        (см. <a href="#theory_loudness">7.1. Громкость и динамический диапазон</a>).</p>
    </div> <!-- <div class="subsubchapter" lang="ru"> -->

  </div> <!-- <div id="filter_setup_main" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_mixer" class="subchapter">
    <h3 lang="ru"><a name="filter_setup_mixer">6.3. Настройки микшера (страница Mixer)</a></h3>

    <p lang="ru">На этой странице находятся настройки для управления микшированием</p>

    <div class="image">
      <img src="pic/dlg_mixer.png" alt="" height="427" width="623">
    </div>

    <div class="subsubchapter" lang="ru">
      <h4>6.3.1. Матрица микширования (Matrix).</h4>
      <p>Основной элемент этой страницы - матрица микширования. Она представлена в форме матричного умножения: </p>
      <div class="image">
        <img alt="" src="pic/matrix.gif" height="132" width="331">
      </div>
      <p>Более приземленно это означает, что для каждой клетки действет следующее правило: мы микширует канал
        заданный колонкой в канал заданный строкой с усилением заданным в клетке. Так, если мы хотим направить
        левый канал в правый, то мы должны поставить значение 1 в клетке на пересечении колонки 'L' и строки
        'R'. После этого из правого канала будет слышен и левый и правый каналы. </p>
      <p>Необходимо четко разделять понятия входного и выходного канала. Входной канал - это то, что было
        закодировано в исходном потоке. Выходной канал - это то, что мы будем слышать в колонках.</p>
      <p>Строка матрицы определяет содержание выходного канала (колонки), заданного этой строкой. Так, для
        матрицы, приведенной на рисунке первая строка указывает, что будет слышно из левой колонки:</p>
      <p>L' = 1 * L + 0.7071 * C + 1 * SL + 1 * LFE</p>
      <p>т.е. из левой колонки будет слышен левый канал, часть центрального, левый тыл и канал низкочастотных
        эффектов. Таким образом осуществляется микширование из 6 оригинальных каналов в 2 канала стереосистемы
        (downmix).</p>
      <p>Важное свойство матрицы состоит в том, что поменяв местами содержание двух строк матрицы мы таким
        образом можем 'поменять местами' соответствующие колонки. Так, поменяв местами первую и третью строку
        левая и правая колонки 'поменяются местами'. Это свойство можно использовать для 'перестановки' колонок
        без физического из переключения.</p>
      <p>Столбец означает куда будет микшироваться входной канал. Так, центральный канал направляется одновременно
        и на левую и на правую колонку с множителем 0.7 (иначе центр идущий из двух колонок будет звучать
        громче, чем если бы у нас была настоящая третья колонка). Таким образом мы услышим центральный
        канал посередине между левой и правой колонками. Изменяя множитель в левом или правом выходном
        канале можно 'подвинуть' центр. Так, если поставить 1 в столбце 'С' строки 'L', то центр будет
        слышен громче из левого канала и будет казаться сдвинутым влево.</p>
      <p>В большинстве случаев нет необходимости изменять матрицу вручную: при включенной опции <span class="option">AutoMatrix</span> матрица
        микширования расчитывается автоматически на основе следующих параметров: режима колонок, уровней <span class="option">Voice</span>, <span class="option">Surround</span>, <span class="option">LFE</span>,
        опции <span class="option">NormalizeMatrix</span>, <span class="option">VoiceControl</span>, <span class="option">ExpandStereo</span>.
        Так, изменив уровень для центрального канала <span class="option">Voice</span> мы также увидим изменения в коэффициентах матрицы
        (столбец 'C').</p>
    </div>

    <div class="subsubchapter" lang="ru">
      <h4>6.3.2. Уровни усиления (Gains).</h4>
      <p><span class="option">Master/Gain</span> - желаемый и текущий уровень усиления (см. <a href="#filter_setup_main">6.2.
          Основные настройки</a>).</p>
      <p><span class="option">Voice</span> - уровень усиления центра. В случае, если во входном сигнале присутствует реальный
        центральный канал, то этот уровень влияет только на него. Если центрального канала нет но установлен
        флаг <span class="option">Voice control</span>, то этот уровень управляет уровнем 'виртуального' центра. Этот уровень
        является параметром матрицы, поэтому имеет смысл только когда включена опция <span class="option">AutoMatrix</span>. При
        изменении уровня матрица пересчитывается.</p>
      <p><span class="option">Surround</span> - уровень усиления тыла. В случае, если во входном сигнале присутствуют тыловые
        каналы то этот уровень влияет только на них, как в случае с понижающим микшированием (в этом случае
        будет регулироваться уровень микширования тыловых каналов во фронтальные), так и без него (т.е.
        просто регулироваться уровень тыловых каналов относительно фронтальных). В случае, если тыловых каналов
        в источнике нет но установлен флаг <span class="option">Expand stereo</span>, то этот уровень управляет уровнем 'виртуального'
        тыла. Этот уровень является параметром матрицы, поэтому имеет смысл только когда включена опция <span class="option">AutoMatrix</span>.
        При изменении уровня матрица пересчитывается.</p>
      <p><span class="option">LFE</span> - уровень канала LFE. Этот уровень является параметром матрицы, поэтому имеет смысл только
        когда включена опция <b>AutoMatrix</b>. При изменении уровня матрица пересчитывается.</p>
    </div>

    <div class="subsubchapter" lang="ru">
      <h4>6.3.3. Опции (Options)</h4>
      <ul>
        <li><span class="option">Auto gain control</span> - автоматическая регулировка усиления. Уменьшает текущий уровень усиления,
          чтобы не допустить переполнения. Текущий уровень усиления показывает индикатор <span class="option">Gain</span>. При
          отключенной опции слишком сильный сигнал будет обрезаться, что приводит к неприятным на слух
          искажениям. При включенной опции при возникновении переполнения звук будет становиться тише и переполнения
          просто не происходит. Поведение системы после переполнения определяется опцией <span class="option">One-pass
          norm</span>.
          Если опция <span class="option">One-pass norm</span> выключена, то текущий уровень будет возвращаться к заданному уровню <span class="option">Master</span>.
          В этом случае этот уровень задает средний уровень усиления. При большом количестве мест, где
          происходит переполнение такое поведение может привести к неприятным скачкам громкости, поэтому не
          следует устанавливать уровень <span class="option">Master</span> слишком большим. Этот режим рекомендуется использовать, когда
          переполнений не ожидается или они достаточно редки. Если опция <span class="option">One-pass norm</span> включена, то
          после переполнения уровень усиления не восстанавливается. Таким образом каждое переполнение уменьшает
          вероятность и 'силу' следующего переполнения и через некоторое время уровень усиления устанавливается
          на некоторое среднее значение, которого потом и придерживается. Обычно после ~10 минут фильма
          уровень стабилизируется (а текущий уровень усиления отображается уровнем <span class="option">Gain</span>). Этот режим используется
          для того, чтобы получить максимальную возможную громкость при минимуме возможных артефактов.
          Уровень <span class="option">Master</span> в
          этом случае работает как начальное значение усиления для работы однопроходной нормализации и
          поэтому обычно устанавливается на максимум. Более подробно см. <a href="#theory_loudness">7.1. Громкость
          и динамический диапазон</a>.      </li>
        <li><span class="option">One-pass norm</span> - однопроходная нормализация. См. <span class="option">Auto gain control</span>.      </li>
        <li><span class="option">Auto matrix</span> - автоматический рассчет матрицы микширования. Когда эта опция включена, прямое
          редактирование матрицы невозможно. Уровни усиления <span class="option">LFE</span>, <span class="option">Voice</span> и <span class="option">Surround</span> являются
          параметрами для рассчета матрицы при их изменении матрица изменяется немедленно. При отключении
          этой опции следующие элементы управления теряют влияние: уровни усиления <span class="option">LFE</span>, <span class="option">Voice</span> и <span class="option">Surround</span>  опции <span class="option">Normalize
          matrix</span>, <span class="option">Expand stereo</span>, <span class="option">Voice control</span>, <span class="option">Expand
          stereo</span>.
          Появляется возможность напрямую редактировать матрицу микширования.</li>
        <li><span class="option">Normalize matrix</span> - нормализация матрицы. При включении этой опции матрица микширования
          нормируется так, чтобы гарантированно не происходило переполнения в выходных каналах (сумма каналов
          на выходе &lt;= 1). Но при этом при изменении уровней усиления <span class="option">LFE</span>, <span class="option">Voice</span> и <span class="option">Surround</span>  может
          происходить перераспределение громкостей (например увеличив громкость LFE мы получим уменьшение
          громкости всех остальных каналов), что не всегда удобно. Кроме того, в большинстве случаев нормализация
          матрицы сильно уменьшает общую громкость. Отключение этой опции позволяет избежать этих эффектов,
          однако при этом возникает возможность переполнения.</li>
        <li><span class="option">Expand stereo</span> - работает только при отсутствии тыловых каналов во входном сигнале. Позволяет
          управлять уровнем усиления виртуального окружения при помощи уровня <span class="option">Surround</span>. Если в выходной
          конфигурации колонок присутствуют тыловые колонки, то выделенная окружающая информация перенаправляется
          туда.</li>
        <li><span class="option">Voice control</span> - работает только при отсутствии центрального канала во входном сигнале.
          Позволяет управлять уровнем усиления виртуального центра при помощи уровня <span class="option">Voice</span>. Если в
          выходной конфигурации колонок присутствует центральный канал, то выделенный виртуальный центр
          перенаправляется туда. Совместно с опцией <span class="option">Expand stereo</span> позволяет раскладывать стерео сигнал на 5
          колонок.</li>
        <li><span class="option">Bass redirection</span> - перенаправление басов со всех каналов на сабвуфер. Работает только
          при наличиии сабвуфера в выходной конфигурации колонок. Рекомендуется для систем с отдельным
          сабовуфером (см. <a href="#theory_lfe">7.2. Что такое LFE?</a>). В поле ввода можно задать частоту среза в
          Гц.</li>
      </ul>
    </div>

    <div class="subsubchapter" lang="ru">
      <h4>6.3.3. Матрица (Matrix)</h4>

      <p>Список выбора <span class="option">Matrix</span> позволяет сохранять и загружать матрицы.</p>
    </div>
  </div> <!-- <div id="filter_setup_mixer" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_gains" class="subchapter">
    <h3><a name="filter_setup_gains">6.4. Уровни (страница Gains)</a></h3>
		
    <p>На этой странице находятся настройки уровней усиления:</p>
		
    <div class="image">
      <img alt="" src="pic/dlg_gains.png" height="427" width="623">
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.4.1. Уровни усиления (Gains)</h4>
			
			<p><span class="option">Master/Gain</span> - желаемый и текущий уровень усиления (см. <a href="#filter_setup_main">6.2.
					Основные настройки</a>).</p>
		</div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.4.2. Сжатие динамического диапазона (DRC)</h4>
			
			<p>Флаг <span class="option">DRC Enabled</span> включает/отключает функцию сжатия динамического диапазона. Первый уровень
				задает уровень сжатия динамичкеского диапазона. Второй уровень отображает текущий уровень усиления.
				Подробнее см. <a href="#theory_loudness">7.1. Громкость и динамический диапазон</a>.</p>
    </div>

    <div class="subsubchapter" lang="ru">
			<h4>6.4.3. Задержки (Delays)</h4>
			
			<p>Задержки для каждого из выходных каналов. Величины задержек можно задавать в различных единицах
				(список выбора <span class="option">Units</span>). Положительные величины для единиц времени означают, что будет вносится
				положительная задержка, т.е. звук будет задерживаться. Положительные величины для единиц расстояния
				наоборот, означают отрицательную задержку, т.е. что звук будет воспроизводиться 'заранее'. В обоих
				случаях допустимы отрицательные величины задержек. Есть два основных применения задержек:</p>
			<ul>
				<li>Компенсация разных расстояних до колонок. Звуковой волне требуется определенное время для того,
					чтобы достигнуть слушателя, поэтому в идеале все колонки должны находиться на равном расстоянии
					от слушателя, чтобы звук изданный в определенный момент времени одновременно изо всех колонок дошел
					до слушателя также одновременно. В противном случае звуки будут позиционироваться неверно. Однако,
					на практике расстояние до колонок может быть разным. Чем дальше находится колонка, тем раньше должен
					воспроизводиться ей звук. Для компенсации этого дефекта можно непосредственно задать расстояния
					до колонок.</li>
				<li>Создание эффекта объема при разложении стерео записи на многоканальную систему. Введение дополнительной
					задержки на тыловые каналы может усилить эффект объема.</li>
			</ul>
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.4.4. Уровни входных каналов (Input gains)</h4>
			
			<p>Уровни усиления для входных каналов. В некоторых сучаях необходимо изменить уровени усиления именно
				входных каналов. Например, если входной сигнал имеет центральный канал, а выходной - нет (центр микшируется
				во фронтальные каналы), но требуется изменить именно уровень диалогов. Т.е. предназначены для компенсации
				дефектов записи. </p>
    </div>

    <div class="subsubchapter" lang="ru">
			<h4>6.4.5. Уровни выходных каналов (Output gains)</h4>
			
			<p>Уровни усиления выходных каналов. Предназначены в первую очередь для выравнивания громкости динамиков
				(если они расположены несимметрично). Иными словами, для компенсации дефектов акустической системы.</p>
		</div>

  </div> <!-- <div id="filter_setup_gains" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_system" class="subchapter">
    <h3><a name="filter_setup_system">6.5. Системные настройки (страница System)</a></h3>
		
    <p>На этой странице находятся системные настройки (не влияющие на звук непосредственно):</p>
		
    <div class="image">
      <img alt="" src="pic/dlg_system.png" height="427" width="623">
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.5.1. Использовать AC3Filter для ... (Use AC3Filter for ...)</h4>
			
			<p>Определяет, в каких случаях будет использоваться AC3Filter.</p>
			<ul>
				<li>PCM - использовать AC3Filter для пост-обработки любых аудио-потоков. Для использования этого
					режима фильтр должен иметь высокий приоритет (см. опцию <span class="option">Filter
					merit</span> далее в этом разделе) </li>
				<li>AC3 - использовать AC3Filter для декодирования AC3      </li>
				<li>DTS - использовать AC3Filter для декодирования DTS      </li>
				<li>MPEG Audio - использовать AC3Filter для декодирования MPEG Audio      </li>
				<li>PES (DVD) - использовать AC3Filter для декодирования аудио в MPEG1/MPEG2 PES потоках. Режим необходим
					для проигрывания DVD/VideoCD.     </li>
			</ul>
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.5.2. Цифровая передача (SPDIF passthrough)</h4>
			
			<p>Определяет, какие форматы поддерживаются внешним декодером и будут передаваться без изменений при
				использовании цифрового выхода. Имеет значение только при включенной опции <span class="option">SPDIF</span> (см. <a href="#filter_setup_main">6.2.
				Основные настройки</a>).</p>
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.5.3. Приоритет фильтра (Filter merit)</h4>

			<p>Фильтр устанавливается в систему с наивысшим приоритетом, т.е. будет использоваться вместо любых
				других установленных декодеров. Если по каким-то причинам необходимо использовать другие декодеры,
				то приоритет можно понизить до минимального при помощи опции <span class="option">Prefer other decoder</span>. Фильтр
				останется в системе и будет использоваться только если не установлено других декодеров. <span class="option">Prefer
				AC3Filter</span> - высокий приоритет.</p>
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.5.4. Устройство вывода по умолчанию (Default audio renderer)</h4>

			<p>Звуковая карта может работать в двух режимах: DirectSound и WaveOut. Если при использовании фильтра
				возникают проблемы (например не работает SPDIF), то переключение режима работы в некоторых случаях
				может помочь. Некоторые плееры имеют настройки для изменения устройства вывода (см. <a href="#player_setup">5.
				Настройка плеера</a>), прочие же используют настройки системы по умолчанию. Для переключения режима
				работы используются&nbsp; опции <span class="option">Use DirectSound</span> - для использования интерфейса DirectSound
				и <span class="option">Use WaveOut</span> для использования интерфейса WaveOut. Эта опция изменяет глобальные настройки
				системы! Поэтому если плеер имеет собственные настройки устройства вывода, то предпочтительнее
				использовать средства плеера.</p>
			<p>Эта опция действует только если плеер использует устройство вывода по умолчанию, или это указано
				в его настройках.</p>
    </div>
		
    <div class="subsubchapter" lang="ru">
			<h4>6.5.5. Синхронизация аудио и видео (Audio/Video sync)</h4>
			<p>В некоторых случаях возможно что аудио и видео рассинхронизированы. В основном это случается из-за
				неправильного микширования видео файла, но возможны и аппаратные причины десинхронизации. Эта опция
				предназначена для решения <em>аппаратных</em> проблем. Эта опция может быть применена для исправления
				дефекта конкретного файла, но необходимо не забывать изменить ее обратно! Здесь указывается сдвиг
				аудио относительно видео в мс. Если звук слышен <em>до</em> видео, то необходимо <em>увеличить</em> это
				значение. Если звук происходит <em>после</em> событий на экране, то необходимо <em>уменьшить</em> это
				значение. Эта опция может исправить только постоянный временной сдвиг.</p>
			<p>Эта опция действует немедленно. При изменении значения задержки; возможно, что изображение замрет
				или будет двигаться скачками в течении нескольких секунд.</p>
		</div>
  </div> <!-- <div id="filter_setup_system" class="subchapter"> -->
</div> <!-- <div id="filter setup" class="chapter"> -->

<!-- ==========================================================================
                                  Theory
=========================================================================== -->

<div id="theory" class="chapter">
  <h2 lang="ru"><a name="theory">7. Теоретические сведения</a></h2>

  <p lang="ru">Качество звука - это очень сложное понятие которое зависит от огромного количества факторов
    и их взаимосвязи: типа акустической системы, условий прослушивания, качества исходной записи, самого
    слушателя и многих прочих. Невозможно дать однозначные рекомендации как добиться качества, нет единого
    рецепта как нет и идеального звука: запись подготовленная для одних условий прослушивания
    в других условиях может звучать совершенно неприемлемо. Однако можно попытаться изложить некоторые
    главные принципы, которые помогут понять что необходимо делать в каждом конкретном случае. Поэтому
    крайне рекомендуется ознакомиться с этим разделом для более полного понимания возможностей фильтра.</p>

  <!-- ---------------------------------------------------------------------- -->

  <div id="theory_loudness" class="subchapter">
    <h3 lang="ru"><a name="theory_loudness"></a>7.2. Громкость и динамический диапазон</h3>
    
    <div class="subsubchapter">
      <h4 lang="ru">7.2.1. Что такое громкость</h4>

      <p lang="ru">Этот, казалось бы, очевидный вопрос достаточно трудно формализовать, поскольку в разных случаях подразумеваются
        совершенно разные вещи.</p>
      <p lang="ru">Наиболее очевиден смысл громкости, когда мы говорим о <dfn>звуковом давлении</dfn>, поскольку это
        то, что непосредственно воспринимается ухом.</p>
      <blockquote lang="ru"><dfn>Звуковое давление</dfn> - давление, дополнительно возникающее при прохождении
          звуковой волны в жидкой и газообразной среде. Распространяясь в среде, звуковая волна образует сгущения
          и разрежения, которые создают добавочные изменения давления по отношению к среднему значению давления
          в среде. Т.о., звуковое давление представляет собой переменную часть давления, т.е. колебания давления
          относительно среднего значения, частота которых соответствует частоте звуковой волны. (Большая Советская
          Энциклопедия)</small></blockquote>

      <p lang="ru">Таким образом мы можем оценить любой звук - громкие звуки создают большое давление, тихие - малое.
        Давление измеряется в Паскалях, однако в акустике звуковое давление обычно измеряется в <dfn>децибелах</dfn> (дБ)
        относительно <dfn>порога слышимости</dfn>. По определению, величина порога принята равной pt = 0.00002Па
        = 20мкПа. Порог слышимости принимается за 0дБ, а <dfn>громкость</dfn> вычисляется как l = 20 * log(p
        / pt), где l [дБ] - громкость (в смысле звукового давления), p [Па]- звуковое давление, pt [Па]- порог
        слышимости. При этом: все слышимые звуки имеют положительную величину громкости; неслышимые (ниже порога
        громкости) - отрицательную; изменение громкости на 6дБ соответствует двукратному изменению давления;
        изменение на 20дБ - изменению давления в 10 раз. Громкость в смысле звукового давления далее мы будем
        называть <dfn>абсолютной громкостью</dfn>.</p>
      <p>Несколько типичных значений громкости:</p>
      <table align="center" border="1" cellpadding="2" cellspacing="2" width="80%">
        <tbody>
          <tr>
            <td align="center"><b>Звук</b></td>
            <td align="center"><b>Громкость</b></td>
            <td align="center"><b>Давление</b></td>
          </tr>
          <tr>
            <td>Порог слышимости</td>
            <td>0дБ</td>
            <td>20мкПа</td>
          </tr>
          <tr>
            <td>Шелест листвы и слабого ветра<br>
              Тиканье наручных часов<br>
              Дыхание</td>
            <td>10-20дБ</td>
            <td>0.05-0.2мПа</td>
          </tr>
          <tr>
            <td>Тихий шепот<br>
              Тиканье настенных часов</td>
            <td>20-30дБ</td>
            <td>0.2-0.5мПа</td>
          </tr>
          <tr>
            <td>Шум в помещении</td>
            <td>30-40дБ</td>
            <td>0.5-2мПа</td>
          </tr>
          <tr>
            <td>Тихий разговор</td>
            <td>40-50дБ</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>Разговор средней громкости</td>
            <td>50-60дБ</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>Громкий разгвор</td>
            <td>60-70дБ</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>Шумная улица</td>
            <td>70-80дБ</td>
            <td>50-200мПа</td>
          </tr>
          <tr>
            <td>Звук двигателя грузового автомобиля</td>
            <td>80дБ</td>
            <td>200мПа</td>
          </tr>
          <tr>
            <td>Шум в метро во время движения<br>
              Отбойный молоток</td>
            <td>90дБ</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>Громкая дискотека</td>
            <td>100-120дБ</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>Самолет на взлете</td>
            <td>120дБ</td>
            <td>20Па</td>
          </tr>
          <tr>
            <td>Болевой порог</td>
            <td>130дБ</td>
            <td>60Па</td>
          </tr>
        </tbody>
      </table>
      <p>Обратите внимание на диапазон воспринимаемых давлений: давление у порога слышимости и создаваемое
        самолетом отличаются в миллион раз! Поэтому логарифмическая шкала гораздо лучше согласуется с физиологией
        слуха - линейное изменение звукового давления не соответствует ощущению линейного изменения громкости.
        Например, изменение звукового давления на 50мПа при разговоре будет очень заметно, однако совершенно
        незаметно при взлете самолета. Изменение же звукового давления на 6дБ (в два раза) будет воспринято
        как примерно равное изменение громкости в обоих случаях, хотя в первом случае это будет соответствовать
        изменению давления на 25мПа, а во втором - 10Па.</p>
      <p>Другая громкость - это <dfn>громкость записи</dfn> (<dfn>громкость сигнала</dfn>). Эта громкость не
        является звуковым давлением (это может быть напряжение, намагниченность и т.д.), однако, звуковое давление
        создается в соответствии с громкостью сигнала записи при помощи системы воспроизведения. Каждой определенной
        громкости сигнала соответствует определенное звуковое давление. Громкость сигнала также может измеряться
        в децибелах. Однако, если звуковое давление обычно измеряется относительно порога слышимости (минимального
        слышимого звукового давления), то громкость цифрового сигнала обычно измеряется относительно максимального
        цифрового уровня, принятого за 0дБ. Таким образом громкость цифрового сигнала выражается отрицательными
        величинами (-3дБ, -20дБ) поскольку громкость записи всегда должна быть ниже максимальной. Чем меньше
        значение громкости, тем тише сигнал (-20дБ тише, чем -3дБ). Если громкость цифрового сигнала положительна,
        то это означает переполнение и, как следствие, возникновение цифровых искажений. (Суть этих искажений
        будет рассмотрена далее).</p>
      <p>Регуляторы громкости на усилителе, в настройках системы, в плеере не создают звукового давления вообще.
        При отсутствии сигнала даже на при максимальных установках громкости мы не услышим ничего (при условии,
        что сама система воспроизведения не создает шума). Таким образом они влияют на громкость лишь косвенно
        и имеют смысл <dfn>усиления</dfn> сигнала. <small>(усиление может означать и ослабление сигнала).</small> В
        дальнейшем термин <dfn>громкость</dfn> не будет использоваться для обозначения уровней усиления, за
        исключением <dfn>системной громкости</dfn>, поскольку это уже устоявшийся термин. Под системной громкостью
        будет пониматься как уровень усиления установленный в настройках операционной системы, так и в плеере,
        усилителе/ресивере и т.д.</p>
      <p>Уровень усиления также может измеряться в децибелах. Это удобно поскольку громкость сигнала и уровень
        усиления в таком случае просто складываются. Например, сигнал с громкостью 70дБ, усиленный на 10дБ
        будет звучать с громкостью 80дБ. Однако, несмотря на одинаковые единицы измерения необходимо всегда
        отличать громкоть от усиления.</p>
      <p>При воспроизведении сигнал записи преобразуется в звуковое давление при помощи акустической системы.
        Пусть максимальное давление создаваемое акустической системой составляет 100дБ. Тогда запись громкостью
        0дБ будет создавать давление 100дБ, запись громкостью -30дБ будет создавать давление 70дБ и т.д. При
        изменении уровня усиления абсолютная громкость тоже будет изменяться. Таким образом изменяя уровень
        усиления всегда возможно установить соответствие между громкостью записи и необходимой абсолютной громкостью.
        Например, если уровень диалогов в фильме составляет -30дБ, и мы хотим слышать их с естественной громкостью,
        то необходимо, чтобы громкость записи равная -30дБ соотвествовала давлению 50дБ. Т.к. при максимальном
        уровне усиления (0дБ) уровень записи -30дБ создает давление 70дБ (что многовато), то при уровне усиления
        -20дБ, та же громкость записи создаст необходимые 50дБ давления. Отрегулированная таким образом акустическая
        система называется <dfn>калиброванной</dfn>, т.е. откалиброванная акустическая система - это система,
        где звуки воспроизводятся с правильной абсолютной громкостью. <small>(На самом деле процесс калибровки
        может быть гораздо сложнее и включать намного больше параметров, однако здесь и далее мы будем говорить
        только о калибровке громкости)</small>. На большинстве бытовых приборов регулятор уровня усиления никак
        не маркируется (или наносятся абстрактные проценты или другие ничего не обозначающие цифры), поэтому
        для пользователя произвести точную калибровку акустической системы достаточно сложно.</p>
      <p>На восприятие громкости также влияет свойство <dfn>адаптации</dfn> слуха. Слух приспосабливается к
        громкости окружающего шума, и соответственно корректирует восприятие громкости. Многие наверняка замечали,
        что человек в наушниках, в которых играет громкая музыка начинает говорить громко (согласно восприятию
        окружающих), однако с его точки зрения это нормальная громкость речи (относительно громкости звука
        в наушниках). И наоборот - в полной тишине люди начинают говорить шепотом и при этом шепот все равно
        кажется громким. В условиях обычного городского шума тиканье механических часов услышать очень сложно
        - этот звук воспринимается как очень тихий. То же самое тикание часов в полной тишине ночью может восприниматься
        как четко слышимое. Таким образом возникает третья громкость - <dfn>субъективная громкость</dfn>. Мы
        не будем говорить о каком-либо измерении субьективной громкости, а только о качественном сравнении
        з вуков (громче-тише).</p>
      <p>Таким образом звук одной и той же абсолютной громкости может восприниматься как громкий или тихий
        в зависимости от окружающих условий. Допустим, мы отрегулировали уровень усиления так, чтобы громкость
        диалогов в фильме приблизительно соответствовал реальности. Тогда, если в фильме есть звук тикающих
        в тишине часов, то при просмотре фильма в условиях городского шума мы не услышим часов вовсе, поскольку
        звук часов значительно тише окружающего шума, а слух адаптирован отсеивать окружающий шум. В хороших
        условиях прослушивания, когда окружающего шума нет, те же самые часы будут ясно слышны.</p>
      <p>Во многих случаях громкость записи удобно измерять относительно некоторого опорного уровня. Например,
        если громкость записи составляет -20дБ - это громко или тихо? А если нам известно, что громкость диалогов
        в той же записи составляет -30дБ, то сразу можно сказать, что это достаточно громко, а если громкость
        диалогов равна -10дБ, то можно сказать, что это достаточно тихо. <dfn>Уровень диалогов</dfn> (средняя
        громкость разговора) - это очень удобный опорный уровень, относительно которого можно легко ориентироваться.
        Если громкость звука на 10дБ выше уровня диалогов, то это громко, а если на 10дБ ниже - то это тихо.
        При этом сам уровень диалогов может быть произвольным и зависеть от записи - в одной записи уровень
        диалогов может составлять -10дБ, а в другой и все -30дБ. В любом случае звуки громкостью ниже уровня
        диалогов будут восприниматься как тихие, а выше уровня диалогов - как громкие, даже в случае если акустическая
        система будет неправильно откалибрована, и диалоги будут звучать с абсолютной громкостью в 40дБ или
        60дБ. Благодаря свойству адаптации слух приспосабливается к текущей средней громкости и вносит соответствующую
        'поправку'. Однако правильное восприятие громкости будет нарушено когда громкость окружающего шума
        приближается к громкости диалогов (или даже превышает его) - в этом случае все воспроизводимые звуки
        будут казаться тихими.</p>
      <p>Таким образом можно ввести еще одну шкалу громкости (в дополнение к шкале громкости цифрового сигнала
        и шкале абсолютной громкости) - громкость относительно уровня диалогов. При сопоставлении разных громкостей
        получим:</p>
      <br>
      <table align="center" border="1" cellpadding="2" cellspacing="2" width="80%">
        <tbody>
          <tr>
            <td bgcolor="#ccccff" valign="top"></td>
            <td bgcolor="#ccccff" valign="top">абсолютная громкость реальных звуков</td>
            <td bgcolor="#ccccff" valign="top">громкость относительно уровня диалогов</td>
            <td bgcolor="#ccccff" valign="top">громкость записи-1</td>
            <td bgcolor="#ccccff" valign="top">громкость записи-2</td>
            <td bgcolor="#ccccff" valign="top">абсолютная громкость при воспр. записи 1</td>
            <td bgcolor="#ccccff" valign="top">абсолютная громкость при воспр. записи 2</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#99ff99" valign="top"><b>Тихие звуки</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">тихий шепот</td>
            <td bgcolor="#99ff99" valign="top">10дБ</td>
            <td bgcolor="#99ff99" valign="top">-40дБ</td>
            <td bgcolor="#99ff99" valign="top">-70дБ</td>
            <td bgcolor="#99ff99" valign="top">-50дБ</td>
            <td bgcolor="#99ff99" valign="top">10дБ</td>
            <td bgcolor="#99ff99" valign="top">10дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">норма шума в жилых помещениях</td>
            <td bgcolor="#99ff99" valign="top">20..30дБ</td>
            <td bgcolor="#99ff99" valign="top">-20..-30дБ</td>
            <td bgcolor="#99ff99" valign="top">-50..-60дБ</td>
            <td bgcolor="#99ff99" valign="top">-30..-40дБ</td>
            <td bgcolor="#99ff99" valign="top">20..30дБ</td>
            <td bgcolor="#99ff99" valign="top">20..30дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">тихий разговор</td>
            <td bgcolor="#99ff99" valign="top">40дБ</td>
            <td bgcolor="#99ff99" valign="top">-10дБ</td>
            <td bgcolor="#99ff99" valign="top">-40дБ</td>
            <td bgcolor="#99ff99" valign="top">-20дБ</td>
            <td bgcolor="#99ff99" valign="top">40дБ</td>
            <td bgcolor="#99ff99" valign="top">40дБ</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#99ffff" valign="top"><b>Уровень диалогов</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">разговор средней громкости</td>
            <td bgcolor="#99ffff" valign="top">50дБ</td>
            <td bgcolor="#99ffff" valign="top">0дБ</td>
            <td bgcolor="#99ffff" valign="top">-30дБ</td>
            <td bgcolor="#99ffff" valign="top">-10дБ</td>
            <td bgcolor="#99ffff" valign="top">50дБ</td>
            <td bgcolor="#99ffff" valign="top">50дБ</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#ffcccc" valign="top"><b>Громкие звуки</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">шум пишущей машинки</td>
            <td bgcolor="#ffcccc" valign="top">70дБ</td>
            <td bgcolor="#ffcccc" valign="top">+20дБ</td>
            <td bgcolor="#ffcccc" valign="top">-10дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ (максимум)</td>
            <td bgcolor="#ffcccc" valign="top">70дБ</td>
            <td bgcolor="#ffcccc" valign="top">60дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">шум работающего двигателя грузового автомобиля</td>
            <td bgcolor="#ffcccc" valign="top">80дБ</td>
            <td bgcolor="#ffcccc" valign="top">+30дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ (максимум)</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">80дБ</td>
            <td bgcolor="#ffcccc" valign="top">60дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top"> громкий автомобильный сигнал на расстоянии 5–7м</td>
            <td bgcolor="#ffcccc" valign="top">100дБ</td>
            <td bgcolor="#ffcccc" valign="top">+50дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">80дБ</td>
            <td bgcolor="#ffcccc" valign="top">60дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">шум работающего трактора на расстоянии 1м</td>
            <td bgcolor="#ffcccc" valign="top">120дБ</td>
            <td bgcolor="#ffcccc" valign="top">+70дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">80дБ</td>
            <td bgcolor="#ffcccc" valign="top">60дБ</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">порог болевого ощущения</td>
            <td bgcolor="#ffcccc" valign="top">130дБ</td>
            <td bgcolor="#ffcccc" valign="top">+80дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">0дБ</td>
            <td bgcolor="#ffcccc" valign="top">80дБ</td>
            <td bgcolor="#ffcccc" valign="top">60дБ</td>
          </tr>
        </tbody>
      </table>
      <p>В таблице также приведены две гипотетические записи записанные в разных условиях: уровень диалогов
        в записи-1 составляет -30дБ, а в записи-2 -10дБ. Видно, что при воспроизведении на откалиброванной
        системе первая запись значительно лучше передает громкие звуки - возможно воспроизводить звуки громкостью
        до 80дБ, в то время как вторая запись воспроизводит звуки громкостью всего лишь до 60дБ. </p>
      <p>Заметим также, что для двух приведенных записей требуется разная калибровка акустической системы.
        Так, для акустики, способной создавать давление в 100дБ уровень усиления, необходимый для первой записи
        составляет -20дБ, а для второй - -40дБ. Т.о. первая запись требует значительно бОльшего усиления и
        при воспроизведении обоих записей при одинаковых настройках уровня усиления первая запись будет звучать
        значительно тише. Поэтому вторая запись удобна для некалиброванных систем, поскольку допускает сильные
        отклонения в уровне усиления.</p>
      <p>Таким образом запись-1 хорошо передает громкие звуки, но требует большего уровня усиления; при недостаточном
        усилении и наличии внешних шумов будет восприниматься как черезмерно тихая. Запись-2 не требует большого
        усиления, хорошо слышна даже на малых уровнях усиления и при наличии шума, но не может хорошо передавать
        громкие звуки. </p>
      <p>А теперь вспомним, что звуковой сигнал - переменный:</p>
      <div class="image">
        <img alt="" src="pic/a_signal.png" height="362" width="623">
      </div>
      <p>Что брать для расчета громкости? Очевидно, что изменение давления за один период звуковой волны не
        имеет смысла изменения громкости звука, поскольку мы не слышим отдельные колебания. Поэтому громкость
        определяется не для одной точки, а на определенном промежутке времени. Еслть много разных способов
        для определения громкости. Простейшие - это определение максимума и вычисление энергии сигнала. Более
        сложные методики учитывают неравномерность слуха к звукам разной частоты и интенсивности.</p>
      <p>При определении громкости как максимума сигнала мы просматриваем диапазон и ищем максимум сигнала:</p>
      <div class="image">
        <img alt="" src="pic/a_loudness.png" height="362" width="623">
      </div>
      <p>Найденный уровень, выраженный в дБ и будет характеризовать громкость. Чтобы отличить эту громкость
        от полученных другим способом эта громкость также называется <dfn>пик-уровнем</dfn>. В дальнейшем мы
        будем пользоваться только таким определением громкости. В действительности это определение не очень
        хорошо отражает реальное восприятие громкости, однако оно удобно для последующих рассуждений и поэтому
        мы не будем более подробно останавливаться на других, более точных методах определения громкости.</p>
    </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.2. Гистограмма громкостей</h4>
			
			<div class="image">
				<img alt="" src="pic/h_fightclub.png" height="444" width="534">
			</div>
			<p>Этот рисунок иллюстрирует распределение громкостей типичного DVD фильма (DVD FightClub, здесь и далее
				берутся только оригинальные аудио-треки, без перевода и без микширования, дабы не искажать звуковую
				картину). По оси Х откладывается громкость в децибелах, по оси Y - насколько чато звук с этой громкостью
				появляется. Проще говоря, на протяжении фильма постоянно контролировалсь текущяя громкость и чем чаще
				встречается какая-то громкость тем выше с этом месте график. Т.е. можно сказать, что громких взрывов
				было мало, зато очень много разных фоновых звуков. График поделен на несколько условных областей:</p>
			<ol>
				<li>Голос. Уровень диалогов для фильмов - это один из наиболее важных параметров. Он является отправной
					точкой для всех остальных звуков: все, что ниже - считается тихими звуками, все, что выше - громкими.
					Хорошая слышимость диалогов это один из главных критериев настройки (о которой мы будем говорить
					дальше).</li>
				<li>Фоновые звуки - проезжающие автомобили, звуки шагов, фоновая музыка</li>
				<li>Очень тихие звуки - легкий ветер, шуршание травы и т.д.</li>
				<li>Громкие звуки - звонок телефона, удары и прочее</li>
				<li>Взрывы и прочие глобальные катастрофы</li>
				<li>Шумы записи<br>
				</li>
			</ol>
			<p>Границы между областями весьма условны и могут изменяться для разных записей. В данном случае <i>известно</i>,
				что уровень диалогов равен -27дБ.</p>
			<p>Рассматривая график можно отметить несколько интересных моментов. Во-первых, чаще всего в фильме встречались
				звуки с громкостью -40дБ. Пока просто отметим этот факт. Во-вторых главный горб расположен от 0дБ (максимальный
				уровень) до -70дБ (минимальный уровень). Разумно предположить, что все важные звуки расположены внутри
				этого горба, а все, что тише - просто шумы. Разность максимального и минимального уровней составляет
				70дБ. Эта величина называется динамическим диапазоном и будет далее иметь огромное значение.</p>
			<p>Для фильмов на DVD привденная картина достаточно типична. Диалоги занимают значительное время, немного
				больше - фоновый звук и музыка, периодические всплески громкости и периодический же постепенный уход
				в тишину. В целом, звуковая картина этого фильма достаточно сбалансирована и использует практически
				весь доступный динамический диапазон.</p>
			<p>Теперь посмотрим и на другие фильмы:</p>
			<a name="theory_loudness_pic_movies"></a>
			<div class="image">
				<img alt="" src="pic/h_movies.png" height="475" width="612"><br>
				<small>(для всех фильмов уровень диалогов равен -27дБ)</small>
			</div>
			<p>На этих примерах очень хорошо видно разделение на две большие группы. Для первой группы фильмов характерно
				практически полное отсутствие громких звуков (Cube, Dracula, About Schmidt, Savior). Для них диапазон
				громкостей от 0дБ до -15дБ (очень громкие звуки) практически не используется. Для другой группы фильмов,
				наоборот громкие звуки черезвычайно важны (Interstate60, Blood (Last Vampire), Pitch Black, Matrix).
				Казалось бы, что этих звуков относительно мало, поэтому особой роли они не играют. Однако, например,
				продолжительность звука выстрела (его громкой части) составляет доли секунды, но именно большая громкость
				выделяет этот звук. Если бы этот звук был тише, то создалось бы впечатление 'плоскости' и невыразительности
				звука. В фильмах первого типа ('тихие' фильмы) громкий звук даже если встретится один раз на фильм,
				он все равно не несет большой смысловой нагрузки, поэтому его громкость не так критична. В фильмах
				второго типа эти звуки (даже при относительно малой продолжительности) формируют настроение фильма.</p>
			<p>Другая бросающаяся в глаза особенность - это высокие 'горбы' в фильмах Cube и Interstate60. В фильме
				Cube присутствует постоянный тихий фоновый гул и именно поэтому график имеет горб на громкости около
				-50дБ. То же самое касается фильма Interstate 60 - это путешествие на автомобиле, и как следствие,
				постоянный звук движения.Формы обоих гистограмм очень похожи, однако максимум гистограммы для фильма
				Cube находится на 10дБ ниже. Так как уровень голоса в обоих фильмах одинаковый, то сразу можно заключить,
				что фильм Cube значительно тише. Это далеко неочевидный вывод. Вспомним про свойство адаптации слуха
				- если сдвинуть графики так, чтобы их максимумы находились на одном и том же уровне фильм Cube все
				равно будет восприниматься как 'тихий'!</p>
			<p>Для прочих фильмов нет настолько хорошо выраженных фоновых звуков поэтому графики более 'размазанны'
				по динамическому диапазону. </p>
			<p>Фильм About Schmidt имеет большой горб на уровне -70дБ..-80дБ. Это шумы записи - в этом фильме они
				относительно громкие по сравнению с другими фильмами, однако достаточно тихие, чтобы они не мешали
				просмотру.</p>
			<p>До сих пор мы рассматривали исключительно фильмы. Посмотрим теперь на музыку:</p>
			<a name="theory_loudness_pic_music"></a>
			<div class="image">
				<img alt="" src="pic/h_music.png" height="451" width="623">
			</div>
			<p>Сразу бросается в глаза совершенно другое распределение громкостей. <small>(Здесь собраны гистограммы
					музыки разных направлений и разного качества для того чтобы показать разнообрразие. Они не показывают
					реального соотношения разных типов композиций.)</small>. Все звуки сильно сдвинуты в 'громкую' часть
					динамического диапазона. Разница в средней громкости фильмов и музыки достигает 40дБ. Кроме того,
					для фильмов характерен плавный спад гистограммы в громкой области. Для музыки же максимум гистограммы
					зачастую находится на максимальном уровне (0дБ). Таких графиков приведено немного, однако такая ситуация
					является очень распространенной.</p>
			<p>Понятие уровня диалогов к музыке зачастую неприменимо, поэтому разделить громкие и тихие звуки очень
				затруднительно. Поэтому также затруднено определение субъективной громкости композиции. Так, субъективно
				громкая композиция может быть объективно тише субъективно громкой. Большое значение здесь имеют положительные
				или отрицательные <i>перепады</i> громкости, которые на данных гистограммах не видны.</p>
			<p>Отсутствие единого ориентира приводит к хаосу - звук из разных источников имеет разную громкость -
				разница в максимумах гистограмм композиций достигает 20дБ. Да и вообще понятие 'громкости композиции'
				очень сложно как-то формализовать. Многим наверняка знакома ситуация, когда есть много разной музыки
				из разных источников и при проигрывании ее подряд (например, если записать AudioCD) громкость постоянно
				меняется при переходе от одной композиции к другой, что неприятно (а упомянутый эффект несоответствия
				реальной и субъективной громкости может еще более запутать восприятие). Приведенные графики очень хорошо
				иллюстрируют такую ситуацию.</p>
			<p>Динамический диапазон музыкальных композиций (разница между самым громким и самым тихим звуком) составляет
				20-40дБ, что значительно меньше динамического диапазона фильмов (70дБ).</p>
		</div>	
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.3. Проблема громкости DVD</h4>
			<p>В среднем уровень громкости на музыкальных записях (а также системные звуки Windows) оказывается значительно
				выше чем на DVD-фильмах. Поэтому при одинаковых настройках системной громкости абсолютная громкость
				фильмов будет значительно ниже и при наличии внешних шумов может оказаться недостаточной, слышно будет
				плохо (!) и будет казаться, что звук некачественный. Увеличение усиления в настройках системы и на
				усилителе даже до максимальной может не решить проблемы: разница в средней громкости достигает 40дБ,
				что очень много. Однако, даже если мощности усилителя окажется достаточно и проигрывание DVD происходит
				с достаточной абсолютной громкостью это не всегда удобно, поскольку звуки операционной системы, которые
				звучат с нормальной абсолютной громкостью при нормальных настройках усиления при большом усилении будут
				просто громоподобными. </p>
			<p>Эта проблема характерна в основном для компьютерного проигрвания, поскольку в аппаратных проигрывателях
				управление уровнем усиления осуществляется самим декодером. Некоторые программные DVD-проигрыватели
				умеют управлять системной громкостью, однако это тоже не всегда удобно, поскольку изменяется громкость <i>всех</i> звуков
				системы (можно случайно оглушить соседей), да и управлять громкостью на внешнем усилителе программа
				все равно не может. Поэтому это только частичное решение проблемы.</p>
			<p>Компромиссное решение состоит в обработке звука непосредственно перед проигрыванием. Подобная обработка
				может сильно повысить качество проигрывания <i>конкретной</i> записи и в <i>конкретных</i> условиях.
				Многие могут возразить, что при этом теряется 'качество', однако, как уже упоминалось - нет абсолютного
				качества, Мы не ставим себе целью <i>монтировать</i> звук, наша цель - добиться того, чтобы в наших
				условиях <i>слушать</i> его было приятно. Если акустическая система не обладает достаточной мощностью
				или у нас нервные соседи смотреть фильм с пониженной громкостью, когда не разобрать половины слов и
				не слышно половины тихих звуков будет просто неприятно. Даже самовнушение о максимально достигнутом
				'качестве' не сможет сгладить этого впечатления. Еще раз повторю основную мысль: <i>качество - это
				то, что мы слышим</i>. Звук проходит много стадий обработки до того, как попасть к слушателю, а разнообразие
				акустики и ее свойств настолько велико, что последняя стадия обработки непосредственно перед воспроизведением
				является практически необходимостью.</p>
    </div>
		
    <div align="center">todo: цели пост-обработки.<br></div>
		
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.4. Изменение уровня. Переполнение, обрезание и ограничение.</h4>
			
			<p>Изменение уровня - это просто умножение амплитуды сигнала на определенное значение, в результате чего
				изменяется громкость всего сигнала (увеличивается или уменьшается).</p>
			<div align="center"> <img alt="" src="pic/a_gain.png" height="354" width="448"> </div>
			<p>В логарифмическом виде умножение на число - это просто прибавление константы. Поэтому если ко всем
				уровням прибавить одно и то же число, то гистограмма уровней просто сдвинется:</p>
			<div align="center"> <img alt="" src="pic/h_gain.png" height="409" width="596"> </div>
			<p>Если мы умножим сигнал на слишком большое число, то возможно переполнение. Если переполнение не отслеживать,
				то значение амплитуды принимает практически случайные значения (см. рисунок) и это приводит к очень
				заметным на слух частым щелчкам. Самых простой способ борьбы с этим дефектом - <dfn>обрезание сигнала</dfn> (клиппинг,
				clipping), т.е. там где амплитуда сигнала выходит за перделы мы 'обрезаем' его (см. рисунок). При небольшом
				переполнении клиппинг практически незаметен на слух, однако при повышении уровня он проявляется как
				'песок' в звуке. </p>
			<div align="center"> <img alt="" src="pic/a_overflow.png" height="356" width="794"> </div>
			<p>Более сложный, но и более эффективный способ - это <dfn>ограничение сигнала</dfn> (лимитинг, limiting).
				Суть его состоит в том, чтобы автоматически понижать уровень сигнала так, чтобы переполнения просто
				не происходило. Для этого необходима система автоматической регулировки усиления (АРУ, Automatic gain
				control, AGC), которая будет вносить поправку в текущий уровень сигнала. Так, пока переполнения нет
				АРУ не изменяет сигнал, а как только сигнал превышает максимальный уровень вносится поправка, которая
				изменяет сигнал так, чтобы его уровень не превышал максимальный. Как видно на рисунке, сигнал полностью
				сохраняет свою форму! Однако, громкость при этом остается максимальной:</p>
			<a name="theory_loudness_pic_limiting"></a>
			<div align="center"> <img alt="" src="pic/l_limiting.png" height="600" width="400"> </div>
			<p>Необходимо обратить внимание на то, что на предыдущем рисунке приведена амплитуда, а на этом - громкость
				(определенная по <i>большой группе</i> амплитуд). Поэтому несмотря на то, что график громкости 'обрезан'
				форма самого сигнала искажается минимально. Этот способ также не лишен недостатков. Изначально звук
				имел разную громкость, а после ограничения все звуки выходящие за пределы имеют одну и ту же громкость
				и звук может получиться 'плоский' и невыразительный. Посмотрим на гистограммы (Fight Club):</p>
			<a name="theory_loudness_pic_gain"></a>
			<div align="center"> <img alt="" src="pic/h_overflow.png" height="391" width="595"> </div>
			<p>Здесь приведен пример неудачного усиления. При усилении +10дБ искажения еще мало заметны (мест в фильме
				где возникает переполнение еще относительно мало), однако с ростом усиления ограничение уровня появляется
				все чаще и чаще и при уровне +30дБ начинает ограничиваться голос, что крайне заметно. Особенно заметны
				недостатки ограничения при значительных изменениях громкости за малое время - субъективно громкость
				начинает прыгать вверх и вниз. Если на фоне разговора (который при усилении +30дБ уже воспроизводится
				с максимальной громкостью) происходит громкий звук (который громче голоса в оригинале, например, звонок
				телефона) то уровень усиления уменьшается так, чтобы громкий звук не искажался, но при этом громкость
				разговора также резко падает. Когда громкий звук заканчивается разговор так же резко возвращается к
				предыдущей громкости:</p>
			<div align="center"> <img alt="" src="pic/l_loudness_jump.png" height="800" width="400"> </div>
			<p>Т.о. относительная громкость разных звуков воспроизводимых одновременно сохраняется, однако уровень
				усиления постоянно изменяется, что хорошо заметно и очень неприятно. Таким образом при больших уровнях
				усиления (20-30дБ и больше) ограничение тоже дает <i>плохой</i> результат. </p>
			<p>При малых уровнях усиления дефекты ограничения сигнала практически незаметны, тогда как обрезание
				сигнала хорошо слышно практически всегда. Т.е. при прочих равных условиях ограничение дает более качественный
				результат. Фильтр всегда производит либо ограничение (опция <span class="option">AGC</span> влючена) либо обрезание (опция <span class="option">AGC</span> отключена).
				В дальнейшем если не оговорено явно будет подразумеваться что включено ограничение. Поэтому рекомендуется
				всегда держать опцию <span class="option">AGC</span> включенной.</p>
		</div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.5. Нормализация.</h4>
			<p>Зададимся целью поднять громкость без потери качества вообще. Такое возможно? Да, если есть 'запас'
				динамического диапазона. Посмотрим снова на <a href="#theory_loudness_pic_movies">гистограммы с фильмами</a>,
				фильм Cube (желтый график). На гистограмме видно, что громкость не поднимается выше -15дБ (возможно,
				что за весь фильм и есть один-два таких момента, однако, для целей данного рассмотрения будем считать,
				что громких звуков нет вообще). А так как громких звуков нет, то можно повысить громкость на 15дБ без
				потери качества!</p>
			<div align="center"> <img alt="" src="pic/l_normalize.png" height="402" width="400"> </div>
			<p>Кроме увеличения громкости никаких изменений в сигнале не происходит. При этом гистограмма не изменяя
				формы подвинется вплотную к правому краю:</p>
			<a name="theory_loudness_pic_normalize"></a>
			<div align="center"> <img alt="" src="pic/h_normalize.png" height="409" width="595"> </div>
			<p>Таким образом, окажется, что в фильме теперь присутствует звук с максимальной громкостью. Но если
				мы будем увеличивать громкость дальше возникнут искажения (описанные выше). Такая форма сигнала, где
				присутствует звук максимальной громкости без внесенных при этом искажений называется <dfn>нормальзованной</dfn>,
				а процесс - <dfn>нормализацией</dfn>. Нормализация часто производится на стадии подготовки музыкальных
				записей и к нам звук попадает уже нормализованным (например, AudioCD). Однако для фильмов нормализации
				не производится. Почему?</p>
			<p>Вспомним гистограммы для музыки и хаос с громкостью. Для музыки важно воспроизведение с максимальной
				громкостью, поскольку рассчитана на максимальную целевую аудиторию - CD-плееры, шум на улице, метро,
				дешевые наушники, хрипящие радиостанции, через которые тихие звуки ниже -40дБ просто не услышать. (Еще
				раз посмотрим на <a href="#theory_loudness_pic_music">графики для музыки</a> - минимальная громкость
				примерно равна -40дБ...)</p>
			<p>Для DVD это не так. Они в первую очередь предназначены для качественных домашних кинотеатров. Воспроизводящая
				аппаратура должна быть откалибрована так, чтобы всегда воспроизводить диалоги с одной и той же абсолютной
				громкостью для <i>любого</i> фильма, будь то боевик с его потрясающими стену взрывами или мелодрама
				с тихим шуршанием травы. При этом воспроизводящая система <i>всегда</i> должна быть готова воспроизвести
				эти звуки без необходимости изменять уровень усиления вручную. Таким образом на первый план выступает
				не необходимость сделать запись максимально громкой, а необходимость жесткого опорного уровня, чтобы
				декодер имел возможность подстроить уровень усиления автоматически. Этот опорный уровень может быть
				любым (на самом деле это не важно, т.к. если есть опорный уровень то соответствующую коррекцию можно
				сделать всегда). Стандартом де-факто для DVD является уровень диалогов равный -27дБ. Поэтому даже если
				фильм громких звуков не содержит то на этапе создания диска проводить нормализацию не следует и динамический
				диапазон остается неизрасходованным.</p>
		</div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.6. Однопроходная нормализация.</h4>
			<p>Итак, для целей повышения громкости нормализация это хорошо. Но для того, чтобы провести нормализацию
				нужно знать максимальный уровень записи и чтобы его найти нужно просмотреть всю запись заранее. Однако
				это не всегда возможно да и просто неудобно. Есть метод нормализации, для которого не нужно предварительно
				просматривать всю запись - однопроходная нормализация. Суть метода состоит в том, что при просмотре
				фильма мы ищем максимум громкости <i>постоянно</i>. В начальный момент времени усиление максимально.
				В момент, когда возникает переполнение мы уменьшаем усиление:</p>
			<div align="center"> <img alt="" src="pic/l_onepass.png" height="600" width="400"> </div>
			<p>Как видно на рисунке первый пик громкости срезается почти также, как и при обычном переполнении, однако
				продолжительность 'среза' значительно меньше (сравните с <a href="#theory_loudness_pic_limiting">простым
				ограничением</a>) и впоследствии переполнений не происходит. Таким образом усиление будет корректироваться
				при нахождении каждого нового максимума и в результате гистограмма автоматически сдвигается в сторону
				достижения максимальной громкости.</p>
			<p>Как и все прочие, метод не лишен недостатков. Во-первых - метод не лишен искажений (хотя и малозаметных
				- нужно точно знать, что слушать, чтобы заметить работу однопроходной нормализации). Во-вторых громкость
				постоянно снижается во время просмотра фильма (хотя обычно основной процесс снижения громкости заканчивается
				на первых 10-15 минутах фильма, поэтому практически незаметен). И в-третьих, основная цель - повышение
				громкости, может быть не достигнута - все зависит от самого фильма (это касается и обычной нормализации).
				Вот пример гистограмм полученных в случае однопроходной нормализации для фильмов Cube (где нормализация
				возможна) и Fight Club (где нормализация не даст желаемого эффекта):</p>
			<div align="center"> <img alt="" src="pic/h_onepass.png" height="409" width="595"> </div>
			<p>Как видно на этих гистограммах результат отличается разительно. Включение однопроходной нормализации
				дает существенный положительный эффект для фильма Cube - стало заметно громче (и подтвердилось наше
				предположение, что звуки громче -15дБ в фильме отсутствуют - сравните с <a href="#theory_loudness_pic_normalize">графиком
				для нормализации</a>). Но для фильма Fight Club увеличения громкости вообще не произошло - таким образом
				нужный эффект не был достигнут, но были внесены дополнительные искажения.</p>
			<p>Необходимо еще раз отметить, что для работы однопроходной нормализации необходимо предварительное
				(начальное) усиление - без повышения уровня однопроходная нормализация просто бессмсленна. Также как
				и обычное усиление оно задается уровнем <b>Master</b>. Однако, если оно будет слишком сильным - с начала
				работы алгоритма падение громкости будет очень заметно.</p>
		</div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.7. Сжатие динамического диапазона.</h4>
			<p>Задумаемся над вопросом - а зачем нам поднимать громкость? Для того, чтобы слышать тихие звуки, которые
				не слышны в наших условиях (например, если нельзя слушать громко, если есть посторонние шумы в комнате
				и т.д.). А можно ли усилить тихие звуки, а громкие не трогать? Оказывается можно. Эта техника называется
				сжатием динамического диапазона (компрессия, Dynamic Range Compression, DRC). Для этого необходимо
				изменять текущую громкость постоянно - тихие звуки усиливать, громкие - нет. Самый простой закон изменения
				громкости - линейный, т.е. громкость изменяется по закону output_loudness = k * input_loudness, где
				k - коэффициент сжатия динамического диапазона:</p>
			<div align="center"> <img alt="" src="pic/drc_linear.png" height="405" width="388"> </div>
			<p>При k = 1 никаких изменений не производится (выходная громкость равна входной). При k &lt; 1 громкость
				будет увеличиваться а динамический диапазон - сужаться. Посмотрим на график (k=1/2) - тихий звук, имевший
				громкость -50дБ станет громче на 25дБ, что значительно громче, но при этом громкость диалогов (-27дБ)
				повысится всего лишь на 13.5дБ, а громкость самых громких звуков (0дБ) вообще не изменится. При k &gt; 1
				- громкость будет уменьшаться, а динамический диапазон - увеличиваться. </p>
			<p>Посмотрим на графики громкости (k = 1/2: сжатие ДД в два раза):</p>
			<div align="center"> <img alt="" src="pic/l_drc.png" height="402" width="400"> </div>
			<p>Как видно в оригинале присутствовали как очень тихие звуки, на 30дБ ниже уровня диалогов, так и очень
				громкие - на 30дБ выше уровня диалогов. Т.о. динамический диапазон составлял 60дБ. После компрессии
				громкие звуки всего лишь на 15дБ выше, а тихие - на 15дБ ниже уровня диалогов (динамический диапазон
				теперь составляет 30дБ). Таким образом громкие звуки стали значительно тише, а тихие - значительно
				громче. При этом переполнения не происходит!</p>
			<p>Теперь обратимся к гистограммам:</p>
			<a name="theory_loudness_pic_drc"></a>
			<div align="center"> <img alt="" src="pic/h_drc.png" height="426" width="595"> </div>
			<p>Как хорошо видно - при усилении до +30дБ форма гистограммы хорошо сохраняется, что означает, что громкие
				звуки остаются хорошо выраженными (не уходят в максимум и не обрезаются, как это происходит при <a href="#theory_loudness_pic_gain">простом
				усилении</a>). При этом выделяются тихие звуки. Гистограмма это показывает плохо, однако разница очень
				заметна на слух. Недостаток метода - те же самые прыжки громкости. Однако механизм их возникновения
				отличается от скачков громкости возникающих при обрезании а их характер совершенно отличен - они проявляются
				в основном при очень сильном усилении тихих звуков (а не при обрезании громких, как при обычном усилении).
				Черезмерный уровень компрессии приводит к уплощению звуковой картины - все звуки стремятся к одинаковой
				громкости и невыразительности. </p>
			<p>Сильное усиление тихих звуков может привести к тому, что станут слышимы шумы записи. Поэтому в фильтре
				применен немного модифицированный алгоритм, чтобы уровень шумов поднимался меньше:</p>
			<div align="center"> <img alt="" src="pic/drc_bended.png" height="405" width="388"> </div>
			<p>Т.е. на уровне громкости -50дБ происходит перегиб передаточной функции и шумы будут усиливаться меньше
				(желтая линия). При отсутствии такого перегиба шумы будут значительно громче (серая линия). Такая простая
				модификация значительно снижает количество шумов даже при очень сильных уровнях сжатия (на рисунке
				- сжатие 1:5). Уровень <b>DRC</b> в фильтре задает уровень усиления для тихих звуков (на уровне -50dB),
				т.о. уровень компрессии 1/5, показанный на рисунке, соответствует уровню +40дБ в настройках фильтра.</p>
		</div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.9. Микширование и громкость</h4>
			<p>Есть еще одна далеко неочевидная тонкость, которая может сильно повлиять на громкость при проигрывании
				многоканальных записей на стерео-системе (или в наушниках). Пусть мы имеем исходную запись в формате
				5.1 а на выходе необходимо получить 2 канала. В каждый из выходных каналов микшируется один фронтальный
				канал, один тыловой, канал LFE, и часть центрального канала:</p>
			L' = L + 0.7*C + SL + LFE<br>
			R' = R + 0.7*C + SR + LFE
			<p>Допустим, что по всем входным каналам сразу запущен звук максимальной громкости (хотя это и не слишком
				вероятно). Тогда амплитуда в выходном канале будет превышать максимум в 3.7 раза (на 11дБ), т.е. произойдет
				сильнейшее переполнение. Чтобы переполнения не допустить формулы микширования должны быть переписаны
				следующим образом:</p>
			L' = (L + 0.7*C + SL + LFE) / 3.7<br>
			R' = (R + 0.7*C + SR + LFE) / 3.7
			<p>Это нормализованное микширование (не путать с нормализацией самой записи!) - переполнения гарантировано
				не происходит. Однако, смикшированный таким образом звук на целых 11дБ тише! Можно ли не проводить
				нормализацию? Можно. Однако в таком случае возможно переполнение и соответствующие искажения. Переполнение
				происходит только тогда, когда по всем входным каналам одновременно воспроизводится громкий звук. Это
				не характерно для фильмов (обычно тыловые каналы заметно тише фронтальных, да и канал LFE далеко не
				всегда задействован), но характерно для многоканальных музыкальных записей. Поэтому для фильмов можно
				оставить микширование ненормализованным, а для музыки нормализацию лучше включать. (В фильтре за нормализацию
				микширования отвечает опция <span class="option">Normalize matrix</span>).</p>
		</div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
			<h4>7.2.10. Рекомендации.</h4>
			<p>Рекомендации по настройке сильно зависят от конкретных условий прослушивания и поставленной цели.
				Условно можно разделить все условия на следующие категории:</p>
			<ol>
				<li>Высококачественные домашние кинотеатры и хорошие условия прослушивания - отсутствуют посторонние
					шумы (уличный шум, соседи сверху, бегающие вокруг дети) и можно шуметь самим (отсутствие соседей).
					Для этой категории всю пост-обработку можно отключить (пресет standard).</li>
				<li>Хорошая акустика, но наличие внешнего шума. Можно применить небольшое усиление и небольшой уровень
					компрессии.</li>
				<li>Нельзя шуметь самим (ночь, соседи/дети) или посредственная акустика (дешевые наушники, слабые колонки).
					Необходимо сильный уровень компрессии плюс повышение уровня или однопроходная нормализация.</li>
			</ol>
			<p>Наилучших результатов можно добиться только при комбинировании всех методик. В данном разделе будет
				рассматриваться только случай просмотра DVD-фильмов. Для других случаев (музыка, MPEG4-фильмы и пр.)
				характеристики звука слишком отличаются. Однако, освоив настройку фильтра для DVD-фильмов уже несложно
				будет разобраться и с другими случаями.</p>
			<p>Усиление (уровень <span class="option">Master</span>). Скачки громкости возникающие при переполнении незаметны только в
				случае, когда обрезаемый звук намного громче основного: в примере с телефоном звук телефона сравним
				по громкости со звуком голоса, однако если вместо телефона будет оглушительный взрыв звук голоса
				в любом случае будет неразличим. Поэтому ограничение самых громких звуков допустимо и практически
				незаметно. Очень громкими можно считать звуки от +15..+20дБ относительно уровня диалогов. Таким
				образом, при уровне диалогов равном -27дБ (де-факто для DVD) допустимый уровень усиления равен
				+7..+12дБ. В качестве еще одного ориентира можно обратиться к <a href="#theory_loudness_pic_gain">гистограммам усиления</a>:
				усиление до +10дБ не сильно сказывается на форме гистограммы, в то время как при усиленни +20дБ ограниченным
				оказывается очень большое количество звуков. Т.о. можно считать допустимым усиление до +10дБ. Его можно
				держать в этом положении практически всегда - на тихих фильмах это заметно поднимет громкость, а на
				громких - не будет сильно мешать. (Еще раз отметим, что рассуждения приведены только для случая просмотра
				DVD-фильмов - для музыки и большинства mpeg4-фильмов они неприменимы, т.к. характеристики гистограмм
				сильно отличаются).</p>
			<p> Усиление также может применяться для ограничения громкости сигнала (например, для прослушивания ночью).
				При уровне диалогов равном -27дБ и усилении +17дБ уровень диалогов после усиления будет составлять
				-10дБ, а самого громкого звука, как всегда, 0дБ, что всего лишь на +10дБ выше уровня диалогов. Т.о.
				установив в фильтре усиление +17dB, и отрегулировав системную громкость так, чтобы диалоги воспроизводились
				с приемлемой абсолютной громкостью мы получим гарантию, что самые громкие звуки не будут превышать
				уровень диалогов больше, чем на 10дБ (хотя, конечно, в этом случае для громких звуков будет применено
				ограничение сигнала).</p>
			<p>Компрессия (<span class="option">DRC</span>). Границы применения компрессии определить намного сложнее, поскольку слышимость
				дефектов компресси сильно зависит от акустической системы, условий прослушивания и самого слушателя.
				Если подойти к вопросу с точки зрения гистограмм то верхний предел применимости компресси можно
				оценить как +20..+30дБ (см. <a href="#theory_loudness_pic_drc">гистограммы</a>). В этом случае громкие звуки
				еще остаются выделенными по громкости от слабых. Таким образом уровень компрессии подбирается только
				на слух - до тех пор пока не будет достигнута необходимая громкость и дефекты будут оставаться незаметными.</p>
			<p>Необходимо учитывать, что компрессия и усиление действуют одновременно, поэтому при уровне усиления
				+20дБ и компресии в два раза (+25дБ) реальный уровень усиления будет составлять +10дБ. Это нормально,
				посколюку потребность в усилении также уменьшается с увеличением компрессии.</p>
			<p>Однопроходная нормализация (<span class="option">One-pass normalize</span>). Применима также практически всегда. Для высококачественных
				систем с небольшим уровнем усиления позволит уменьшить количество переполнений, а в остальных случаях
				в комбинации с компрессией позволит добиться максимальной громкости опять же с минимумом искажений
				по переполнению. Начальный уровень усиления (уровень <span class="option">Master</span>) для нормализации выбирается исходя
				из целей - если большого усиления не нужно - устанавливается желательное, а для достижения максимальной
				громкости можно установить +20дБ.</p>
		</div>
  </div> <!-- <div id="theory_loudness" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->
  <div id="theory_lfe" class="subchapter">
    <h3><a name="theory_lfe">7.2. Что такое LFE?</a></h3>
		
    <p>Первое, что необходимо отметить - <b><strong>LFE это не то же самое, что сабвуфер</strong></b>! И то, что
      обозначение '5.1' в случае с AC3 это совсем не те же самые '5.1' акустической системы. Поэтому начнем
      с рассмотрения этой разницы.</p>
    <p> Формат AC3 создавался для кинотеатров, а совсем не для компьютера. В кинотеатрах качественная акустика
      может вполне адекватно воспроизвадить низкие частоты. LFE же был задуман как канал для мощных низкочастотных <i>эффектов</i>,
      то есть эффектов, с которыми обычная акустика уже не может справиться. Чтобы стены тряслись, народ
      вопил от ужаса, а слабонервные барышни падали в обморок. Таким образом <i>все</i> каналы ac3-потока
      содержат низкие частоты, и только иногда (в особо взрывоопасные моменты) в работу вступает канал LFE
      и только для того, чтобы помочь основной акустике потрясать стены. Вполне может случиться так, что
      канал LFE вообще не включится ни разу за весь фильм. И это также будет нормальным.</p>
    <p>У компьютерной же акустики совсем другая специфика. Большинство современной 5.1 акустики просто не
      в состоянии воспроизвести НЧ через основные колонки (сателлиты) и сабвуфер должен полностью отвечать
      за их воспроизведение. Поэтому для таких систем необходимо перенаправления басов со всех каналов на
      сабвуфер. Таким образом если мы подключим 5.1 акустику, и станем смотреть фильм со звуковой дорожкой
      формата 5.1, назначив канал LFE на сабвуфер (без перенаправления низких частот из основных каналов),
      то мы рискуем не услышать низких частот вообще!</p>
    <p>Акустические системы с сабвуфером можно разделить на несколько категорий. Во-первых, акустика может
      иметь сабвуфер, однако не иметь отдельного входа для сабвуфера. В этом случае акустическая система
      самостоятельно разделяет входной сигнал на НЧ-сигнал для сабвуфера и сигнал для основных колонок. Для
      таких систем необходимо, чтобы вся НЧ-информация уже содержалась в сигнале для основных колонок, т.е.
      необходимо микшировать LFE канал во все основные каналы. Поэтому выходной режим необходимо указывать <i>без</i> сабвуфера.
      (С точки зрения операционной системы и звуковой карты сабвуфера у акустической системы нет, т.к. акустика
      не имеет отдельного для него входа).</p>
    <p>Системы, где сабвуфер управляется отдельно можно разделить на две категории:</p>
    <ul>
      <li>Основные колонки не могут воспроизводить НЧ, поэтому за воспроизведение НЧ отвечает <i>только</i> сабвуфер.
        В этом случае перенаправление басов с основных каналов на сабвуфер необходимо! Частоту среза для
        сабвуфера можно найти в документации на акустическую систему. Частота среза 120Гц, установленная
        по умолчанию подхрдит для обьшинства подобных систем.</li>
      <li>Основные колонки являются широкополосными и способны воспроизводить НЧ самостоятельно, а сабвуфер
        выполняет только вспомогательную роль. В этом случае перенаправление басов не обязятельно, но может
        применяться для самых низких частот (~40Гц).</li>
    </ul>
    <p>За более подробной информацией о роли канала LFE, сабвуфера и управлением басами можно обратиться
      на сайт Dolby: <a href="http://www.dolby.com/tech/c.in.0011.LFE.pdf">http://www.dolby.com/tech/c.in.0011.LFE.pdf</a> (англ).</p>
	</div> <!-- <div id="theory_lfe" class="subchapter"> -->
	
  <!-- ---------------------------------------------------------------------- -->
	
  <div id="theory_spdif" class="subchapter">
		<h3><a name="theory_spdif">7.3. SPDIF</a></h3>
		<p>SPDIF (S/P DIF, Sony/Philips Digital Interface, стандарт IEC958 &quot;Digital audio interface&quot;)
			- это цифровой интерфейс для передачи звука. </p>
		<p>При аналоговом подключении колонки подключаются следующим образом:</p>
    <div class="image">
      <img alt="" src="pic/con_analog.png" height="393" width="741">
    </div>
		<p>Как видно, звук вне компьютера передается в аналоговой форме, и подключение требует три стерео-провода
			(для шестиканальной системы) от звуковой карты до усилителя и шесть проводов
			от усилителя до каждой из колонок.</p>
		<p>При цифровом подключении схема подключения меняется:</p>
    <div class="image">
      <img alt="" src="pic/con_spdif.png" height="393" width="741">
    </div>
		<p>Здесь подключение ресивера требует всего лишь одного провода (хотя до колонок все равно требуется
			шесть аналоговых проводов), и звук до передается в цифровом виде. Преобразование звука в аналоговую
			форму и усиление производятся в ресивере. Так как вне компьютера на цифро-аналоговый
		  преобразователь (ЦАП, DAC) действует меньше
		  разных электронных шумов, да и усилитель находится там же, то ресивер в режиме цифровой передачи
		  может обеспечивать лучше качество звука.</p>
		<p>Изначально стандарт SPDIF предусматривал передачу только неупакованных данных (PCM) в стерео-режиме.
			Однако, т.к. передача осуществляется в цифровом виде, то возможна передача чего угодно, лишь
			бы скорость передачи устраивала. Так появидся стандарт на передачу упакованного многоканального
		  звука - <dfn>режим сквозной передачи</dfn> (SPDIF-passthrough). (В неупакованном виде передавать
		  многоканальный звук нельзя, поскольку скорость передачи ограничена.)</p>
		<p>Режим сквозной передачи можно проиллюстрировать так:</p>
		<div class="image">
      <img alt="" src="pic/con_passthrough.png" height="393" width="741">
    </div>
		<p>Таким образом, звук передается <em>без изменений</em> насквозь через всю систему от DVD-диска (или
			другого источника звука) до ресивера, откуда и название режима. Так как данные передаются без
		  изменений, то никакие опции по обработке звука на компьютере, включая изменение громкости, недоступны.
		  Все настройки могут производится <em>только</em> на ресивере. Кроме того, одновременно может воспроизводиться
	  только один источник звука, поскольку микширование упакованного звука невозможно.</p>
		<p>Для того, чтобы режим сквозной передачи работал необходимы:</p>
		<ul>
			<li>Поддержка формата ресивером. Могут поддерживаться форматы AC3, DTS и MPEG Audio
			  (включая MP3). Большинство ресиверов поддерживют формат AC3, остальные форматы могут не поддерживаться
			  (см. документацию на ресивер).</li>
			<li>Поддержка со стороны операционной системы (см. <a href="system_setup_windows">таблицу совместимости</a>).</li>
			<li>Поддержка драйвером звуковой карты.</li>
			<li>Поддержка со стороны аудио-декодера (AC3Filter поддерживает такой режим)</li>
		</ul>
		<p>Однако, даже при выполнении всех этих требований режим сквозной передачи может
			работать далеко не всегда. Так, стандартом SPDIF предусматривается всего лишь три частоты дискретизации:
			48кГц (DVD), 44.1кГц (AudioCD) и 32кГц. Однако источник может иметь другую частоту дискретизации,
			и в этом случае сквозная передача невозможна. Кроме того, звуковые карты Creative
			поддерживают только частоту 48кГц, т.е.режим будет работать только с DVD, и не будет работать со
		  многими другими источниками.</p>
		<p>Формат DTS обеспечивает очень высокое качество звучания, однако степень сжатия у этого формата меньше,
		и требуется большая пропускная способность. Некоторые DTS-записи имеют слишком низкую степень сжатия
			и пропускной способности SPDIF уже не хватает. В этом случае цифровая передача также невозможна.</p>
		<p>Небольшая сравнительная таблица аналоговое vs цифровое соединение:</p>
		<table border="1" cellspacing="0">
			<tr>
				<th bgcolor="#E0E0E0">Аналоговое соединение </th>
				<th bgcolor="#E0E0E0">Цифровое соединение</th>
			</tr>
			<tr>
				<td bgcolor="#FFE0E0">(-) Усилитель подключается тремя проводами </td>
				<td bgcolor="#E0FFE0">(+) Усилитель подключается одним проводом </td>
			</tr>
			<tr>
				<td bgcolor="#FFE0E0">(-) ЦАП находится на звуковой карте, и подвержен электронным шумам внутри
					уомпьютера</td>
				<td bgcolor="#E0FFE0">(+) ЦАП находится на внешнем устройстве и может обеспечить лучшее качество звучания</td>
			</tr>
			<tr>
				<td bgcolor="#E0FFE0">(+) Формат фактически не ограничен</td>
				<td bgcolor="#FFE0E0">(-) Много ограничений на формат передаваемых данных</td>
			</tr>
			<tr>
			  <td bgcolor="#E0FFE0">(+) Можно воспроизводить несколько звуков одновременно</td>
			  <td bgcolor="#FFE0E0">(-) Допускается только один источник звука</td>
		  </tr>
			<tr>
				<td bgcolor="#E0FFE0">(+) Настройка проще </td>
				<td bgcolor="#FFE0E0">(-) Настройка сложнее </td>
			</tr>
			<tr>
				<td bgcolor="#E0FFE0">(+) Возможность обработки звука на компьютере</td>
				<td bgcolor="#FFE0E0">(-) Обработка звука на компьютере невозможна </td>
			</tr>
			<tr>
				<td bgcolor="#E0FFE0">(+) Цена меньше</td>
				<td bgcolor="#FFE0E0">(-) Цена больше</td>
			</tr>
		</table>
		<p>В некоторых случаях есть возможность передавать многоканальный звук даже если режим сквозной
			передачи недоступен (формат не поддерживается ресивером). Для этого необходимо преобразовать
			формат в форму, понятную ресиверу:</p>
		<p>todo: add pic...</p>
		<p>Такая модель работы позволяет обойти многие ограничения сквозной передачи. Однако необходимо
			помнить, что кодирование в AC3 - это всегда потеря качества (формат AC3 - это формат кодирования
			с потерями, также как, например, формат MP3), т.е. главное достоинство цифрового подключения оказывается
			под вопросом. В таких случаях рекомендуется использовать аналоговое соединение, поскольку оно может
			обеспечить лучшее качество.</p>
	</div> <!-- <div id="theory_loudness" class="subchapter"> -->
</div>

<!-- ==========================================================================
                                  Distribution
=========================================================================== -->

<div id="distribution" class="chapter">
	<h2><a name="distribution"></a>Условия распространения.</h2>
	
	<p>Даный программный продукт распространяется под лицензией GNU General Public License
	v2, текст прилагается в файле GNU_eng.txt - на английском языке и GNU_rus.txt - на русском языке.
	Вариант на русском языке прилагается исключительно в справочных целях, при всех возможных разночтениях
	приоритет имеет версия на английском языке.</p>
	<p>Данный программный продукт может быть использован только в демонстрационных
	целях и в целях обучения. Любое использование помимо этих целей может быть запрещено в некоторых странах.
	Этот программный продукт может распространяться свободно, за исключением случаев, запрещенных законом.</p>
	<p>Даный программный продукт распространяется исключительно в надежде,
	что он будет полезен, однако <b>безо всяких гарантий</b> работы на конкретном
	оборудовании, соответствия каким-либо условиям, стандартам или нуждам. Я <b>не
	обязуюсь</b> обеспечивать круглосуточную (и вообще, какую либо) поддержку, исправление ошибок, восстановление
	потерянных из-за работы программы данных, отвечать за испорченное железо, а также за потерянное рабочее
	вермя. Я не несу ответственности за легальность воспроизводимой при помощи данной программы мультимедиа-продукции.</p>
	<p>Даный программный продукт может распространяться в виде
	инсталляционного пакета ($download_bin) на CD-сборниках или вместе с другими программами. Разрешение
	автора на это не требуется. Для кодек-паков допустимо распространение фильтра в виде отдельного модуля.</p>
</div>

<!-- ==========================================================================
                                  Donations
=========================================================================== -->

<div id="donations" class="chapter">
<h2><a name="donations"></a>Donations</h2>
	<p>Проекту нужна ваша помощь!</p>
	<p><a href="http://order.kagi.com/?6CZJZ">Donate!</a></p>
</div>

<!-- ==========================================================================
                                  Changelog
=========================================================================== -->

<div id="changelog" class="chapter">
<h2><a name="changelog"></a>Changelog.</h2>
<tt>$changelog</tt>
</div>

<h2><a name="troubleshooting"></a>8. FAQ / Решение проблем.</h2>
    Некторые из распространенных проблем перечислены ниже. Если проблема не решилась,
то для успешного ее разрешения<br>
<ul>
  <li>Почему при просмотре DVD все очень тихо?</li>
  <li>Почему некоторые программы (VirtualDub) не хотят работать со звуковой дорожкой в формате AC3, тогда
    как при помощи плеера они проигрываются нормально?</li>
  <li>Почему Winamp не хочет проигрывать .ac3-файлы?</li>
  <li>Почему некоторые .ac3-файлы не проигрываются?</li>
  <li>Почему не проигрываются .dts файлы?</li>
  <li>А почему нет опции для выбора звуковой карты?</li>
  <li>У меня есть две стерео звуковые карты. Можно ли их использовать как одну четырехканальную?</li>
  <li><a href="#troubleshoot_no_center"> Не работает центральный и/или тыловые каналы</a></li>
  <li><a href="#troubleshoot_channel_swap"> Каналы меняются местами</a></li>
  <li><a href="#troubleshoot_spdif_disabled">Не работает SPDIF (фильтр отображает SPDIF (disabled))</a></li>
  <li><a href="#troubleshoot_spdif_decode">Не работает SPDIF (ресивер показывает PCM стерео).</a></li>
  <li>Периодически пропадает звук в режиме SPDIF.</li>
  <li>А почему столько проблем с SPDIF?</li>
  <li><a href="#troubleshoot_bug_report">Сбор сведений для баг-репорта.</a></li>
</ul>
<br>
Почему при просмотре DVD все очень тихо?<br>
<br>
&nbsp;&nbsp;&nbsp; Описание проблемы громкости читайте в разделе 7.1 - Громкость и динамический диапазон.
Самое простое решение проблемы - воспользуйтесь пресетами Loud<br>
<br>
<b><a name="troubleshoot_no_center"></a>8.1. Не работает центральный и/или тыловые каналы.</b><br>
<br>
&nbsp;&nbsp;&nbsp; Проверить настройки в Панели управления: <b>Control Panel-&gt;Sounds and Multimedia-&gt;Audio-&gt;Sound
Playback-&gt;Advanced</b>. Проверить настройки колонок в утилите, поставляемой с драйверами звуковой
карты (если такая утилита есть). Выключить все эквалайзеры и эффекты в настройках звуковой карты (если
есть). <small>(Последнее особенно относится к звуковым картам Creative - этот баг наблюдается практически
на всей линейке звуковых карт).</small> Для BSPlayer'а выключить встроенный эквалайзер и Dedynamic фильтр.<br>
<b><br>
<a name="troubleshoot_channel_swap"></a>8.2. Каналы меняются местами.</b><br>
<br>
&nbsp;&nbsp;&nbsp; Использовать конфигурацию каналов с четным числом колонок (сабвуфер учитывается).<br>
<b><br>
<a name="troubleshoot_spdif_disabled"></a>8.3. Не работает SPDIF (фильтр отображает SPDIF (disabled)).</b><br>
<br>
&nbsp;&nbsp;&nbsp; Статус SPDIF (disabled) означает, что драйвер звуковой карты отказывается принимать
формат SPDIF. Некоторые распространенные случаи:<br>
<ul>
  <li>USB-Audio устройства. Текущая версия фильтра не поддерживает SPDIF для большинства подобных устройств.</li>
  <li>Стандартом SPDIF предусмотрены следующие частоты дискретизации: 32000Гц, 44100Гц, 48000Гц. Если
    звук имеет другую частоту дискретизации, то он не может быть передан по цифровому соединению. Звуковые
    карты Creative (и некоторые другие) могут передавать поток с частотой дискретизации <i>только</i> 48000Гц,
    поэтому достаточно распространенный формат 44100Гц ими не поддерживается. Посмотреть частоту дискретизации
    для текущего потока можно в настройках фильтра, страница Main, раздел Decoder info: <br>
    <img alt="" src="pic/dlg_input.png" height="215" width="210"></li>
</ul>
<br>
<b><a name="troubleshoot_spdif_decode"></a>8.4. Не работает SPDIF (ресивер показывает PCM стерео)</b><br>
<br>
&nbsp;&nbsp;&nbsp; Проверить, включен ли режим цифрового выхода в настройках.<br>
&nbsp;&nbsp;&nbsp; Выключить опцию декодирования AC3 в настройках звуковой карты.<br>
<b><br>
<a name="troubleshoot_bug_report"></a>8.7. Сбор сведений для баг-репорта.</b><br>
<ul>
  <li>Краткое описание сути проблемы. Например, фильтр не работает вообще, искажает звук, не включается
    SPDIF, пропускает звук, возникают щелчки, звук отстает от видео, проблемы при перемотке, дрожит изображение
    и т.д.</li>
  <li>Насколько регулярно проблема проявляется - на всех фильмах или на некоторых, всегда или время от
    времени, на всех плеерах или только на конкретных.</li>
  <li>Проявляется ли проблема в обычном стерео-режиме и без SPDIF?<br>
  </li>
  <li>Подробное описание действий для воспроизведения проблемы - так, чтобы повторив эти действия можно
    было бы повторить проблемную ситуацию - что запускалось, при каких настройках, что и где надо нажимать,
    чтобы проблема проявилась.</li>
  <li>Версия Windows, установленные сервис-паки, версия DirectX.</li>
  <li>Звуковая карта. Что подключено к звуковой карте - колонки/усилитель/ресивер/..., количество колонок,
    аналоговое/цифровое подключение.</li>
  <li>Используемый плеер, и (желательно) линк, где его можно скачать.</li>
  <li>Ветка реестра <i>[HKEY_CURRENT_USER\Software\AC3Filter]</i>. Для того, чтобы ее получить:
    <ul>
      <li>Запустить Regedit: <b>Start-&gt;Run-&gt;regedit</b> [enter]</li>
      <li>Установить курсор на ветку реестра <i>[HKEY_CURRENT_USER\Software\AC3Filter]</i>.</li>
      <li>Записать ее в файл: меню <b>File-&gt;Export Registry File</b>.</li>
      <li>Прикреписть полученный файл к письму.</li>
    </ul>
  </li>
  <li>Запустить <b>C:\Program Files\Windows Media Player\mplayer2.exe</b> (этот файл может находиться
    в другом месте, в зависимости от системы), затем:
    <ul>
      <li>Открыть проблемный файл</li>
      <li>Меню <b>File-&gt;Properties-&gt;Advanced</b> - появится список используемых фильтров. Перечислить
        их.</li>
      <li>Если в списке есть AC3Filter двойным щелчком открыть окно его свойств.</li>
      <li>Есть ли активность в окне настроек фильтра?</li>
      <li>Какой стоит выходной формат? (раздел Output)</li>
      <li>Какой стоит входной формат? (раздел Decoder info)</li>
      <li>Скопировать содержимое текстового окошка в разделе Decoder Info.</li>
      <li>В нижнем правом углу в строке копирайта указана версия фильтра.</li>
    </ul>
  </li>
</ul>
<br>
<ul>
  <li>Скачать <a href="http://ac3filter.sourceforge.net/download/graphedit.zip">Graphedit</a></li>
  <li>Распаковать архив в отдельный каталог.</li>
  <li>Запустить Graphedit.exe</li>
  <li>В нем File-&gt;Render Media File. Должно получиться следующее: (todo: add pic)</li>
  <li>Скриншот экрана
    <ul>
      <li>Находясь в Graphedit нажать Alt-PrintScreen</li>
      <li>Запустить Paint</li>
      <li>Edit-&gt;Paste.<br>
      </li>
      <li>File-&gt;SaveAs</li>
      <li>Тип файла - jpeg</li>
      <li>Полученный файл приаттачить к письму.</li>
    </ul>
  </li>
  <li>Запустить файл на проигрывание.<br>
  </li>
</ul>
<br>
<br>
<hr style="width: 100%; height: 2px;">
<h2><a name="tech"></a>9. Технические подробности</h2>
<b><br>
<a name="tech_module"></a> 9.1. Бинарный модуль</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Все функции фильтра являются встренными, фильтр не использует никаких внешних декодеров
или библиотек (за исключением стандартных). Фильтр не обращается ни к каким внешним файлам. Все сопроводительные
файлы поставляемые в комплекте не являются обязательными и поставляются только для удобства использования,
для работы фильтра необходим только основной модуль <span style="font-weight: bold;">ac3filter.ax</span>.
При инсталляции фильтр регистрируется в реестре стандартным способом. <br>
<br>
Регистрация фильтра из командной строки:<br>
<b>&gt; regsvr32ac3filter.ax</b><br>
<br>
Дерегистрация фильтра из командной строки:<br>
<b>&gt; regsvr32 /u ac3filter.ax</b><br>
<br>
Модуль экспортирует функцию 'config', которую также можно использовать для конфигурации фильтра, например,
из командной строки:<br>
<b>&gt; rundll32 ac3filter.ax,config</b><br>
<br>
<b>Внутренняя кухня:</b><br>
<br>
<div align="center"><img alt="" src="pic/data_flow.gif" height="676" width="486"><br>
</div>
<span style="font-weight: bold;"><br>
Примеры:</span><br>
<b><br>
</b>&nbsp;&nbsp;&nbsp; 1) При просмотре DVD со звуком в формате DTS и если внешний декодер поддерживает
этот формат (опция <span class="option">DTS passthrough</span> включена) звук будет передаваться
следующим образом (в скобках указан формат потока):<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">DVD (MPEG2/DTS) -&gt; AC3Filter [passthrough]
-&gt; (SPDIF/DTS) -&gt; звуковая карта -&gt; (SPDIF/DTS) -&gt; аппаратный декодер -&gt; (аналоговый сигнал)
-&gt; колонки</span><br>
<br>
&nbsp;&nbsp;&nbsp; При этом фильтр не производит никаких изменений, кроме форматирования потока для передачи
по SPDIF. <br>
<br>
&nbsp;&nbsp;&nbsp; 2) При просмотре DVD со звуком в формате DTS и если внешний декодер поддерживает только
формат AC3 (опция <span class="option">DTS passthrough</span> отключена), то преобразования
будут следующими:<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">DVD (MPEG2/DTS) -&gt; AC3Filter </span><span style="text-decoration: underline;">[AC3
encode]</span><span style="text-decoration: underline;">-&gt; (SPDIF/AC3) -&gt; звуковая карта -&gt; (SPDIF/AC3)
-&gt; </span><span style="text-decoration: underline;">ресивер</span><span style="text-decoration: underline;"> -&gt; (аналоговый
сигнал) -&gt; колонки</span><br>
<br>
&nbsp;&nbsp;&nbsp; При этом фильтр будет осуществлять следующие преобразования:<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">вход (DTS) -&gt; декодирование DTS -&gt; (PCM
float) -&gt; обработка -&gt; (PCM float) -&gt; кодирование в AC3 -&gt; (AC3) -&gt; форматирование в формат
SPDIF -&gt; (SPDIF/AC3) -&gt; выход</span><br>
<br>
&nbsp;&nbsp;&nbsp; 3) В случае AAC или OGG Vorbis (опция <span class="option">Use AC3Filter
for PCM</span> включена) звук будет передаваться следующим образом:<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">OGG (Vorbis) -&gt; Vorbis декодер -&gt; (PCM)
-&gt; AC3Filter [AC3 encode] -&gt; (SPDIF/AC3) -&gt; звуковая карта (SPDIF/AC3) -&gt; </span><span style="text-decoration: underline;">ресивер
-&gt;</span><span style="text-decoration: underline;"> (аналоговый сигнал) -&gt; колонки</span><br>
<br>
&nbsp;&nbsp;&nbsp; При этом фильтр будет осуществлять следующие преобразования:<br>
<br>
&nbsp;&nbsp;&nbsp; <span style="text-decoration: underline;">вход (PCM) -&gt; обработка -&gt; (PCM float)
-&gt; кодирование в AC3 -&gt; (AC3) -&gt; форматирование в формат SPDIF -&gt; (SPDIF/AC3) -&gt; выход</span><br>
<br>
&nbsp;&nbsp;&nbsp; 4) В случае если цифровая передача невозможна:<br>
<br>
&nbsp;&nbsp;&nbsp; <u>Movie (любой формат) -&gt;<span style="text-decoration: underline;"> AC3Filter
[SPDIF disabled] -&gt; (PCM </span><span style="text-decoration: underline;">multichannel</span><span style="text-decoration: underline;">)
-&gt; звуковая карта -&gt; (SPDIF/PCM stereo) -&gt; ресивер -&gt; (аналоговый сигнал) -&gt; колонки</span></u><br>
<br>
<br>
<b><a name="tech_ac3_dec"></a> AC3 - декодер.</b><br>
<br>
&nbsp;&nbsp;&nbsp; Изначально основан на библиотеке LibA52 (<a href="http://liba52.sourceforge.net/">http://liba52.sourceforge.net</a>),
однако практически полностью переписан, откомментирован и дополнен. Постоянно осуществляется контроль
качества, используя на LibA52 как референсный декодер. При стандартных настройках (пресет standard) и
корректном входном файле качество полностью совпадает с LibA52.<br>
<b><br>
<a name="tech_ac3_enc"></a> AC3 - кодер.</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Изначально основан на AC3 кодере из проекта FFMPEG (<a href="http://ffmpeg.sourceforge.net/">http://ffmpeg.sourceforge.net</a>),
полностью переписан и оптимизирован (на данный момент работает даже быстрее декодера :). Качество кодирования
осталось на уровне FFMPEG, и оставляет желать лучшего (не дотягивает даже до базового кодера, описанного
в стандарте). Главная проблема - не релизован channel coupling.<br>
<b><br>
<a name="tech_dts"></a> DTS - декодер.</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Полностью основан на LibDTS. Немного оптимизирован.<br>
<b><br>
<a name="tech_mpa"></a> MPEG Audio - декодер</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Основан на ISO-декодере. Полностью переписан и сильно оптимизирован. Однако при этом
сохранил полную совместимость с референсным декодером (производится постоянный контроль качества). <br>
<br>
<b> <a name="tech_registry"></a>Реестр</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Фильтр сохраняет свои настройки в разделе реестра: <span class="registry">[HKEY_CURRENT_USER\Software\AC3Filter]</span>.
Названия параметров совпадают с перечисленными в <a href="#tech_settings">списке</a>. Все значения с
плавающей точкой сохраняются в реестре в виде значений 'REG_SZ'. Значения 'bool' записываются в реестр
как целые, нуль означает ложь, все прочие значения - истина.<br>
<br>
&nbsp;&nbsp;&nbsp; При сохранении пресетов создаются подразделы в разделе <span class="registry">[HKEY_CURRENT_USER\Software\AC3Filter\presets]</span> с
именем совпадающим с именем пресета. При записи матрицы создаются подразделы в разделе <span class="registry">[HKEY_CURRENT_USER\Software\AC3Filter\matrix]</span>. <br>
<br>
&nbsp;&nbsp;&nbsp; При загрузке пресета изменяются только те параметры, которые указаны в реестре, остальные
остаются без изменений. Т.е. возможно создавать пресеты, изменяющие только отдельные параметры и не меняющие
остальные.<br>
<br>
&nbsp;&nbsp;&nbsp; При изменении устройства вывода по умолчанию модифицируются следующие ветки реестра:<br>
<br>
Для Windows 9x:<br>
<span class="registry">[HKEY_CLASSES_ROOT\CLSID\{E0F158E1-CB04-11d0-BD4E-00A0C911CE86}\InstanceCm\Default DirectSound Device]</span><br>
<span class="registry">[HKEY_CLASSES_ROOT\CLSID\{E0F158E1-CB04-11d0-BD4E-00A0C911CE86}\InstanceCm\Default WaveOut Device]<b></b></span><b><br>
</b><br>
Для Windows 2000/XP:<br>
<span class="registry">[HKEY_CURRENT_USER\Software\Microsoft\ActiveMovie\devenum\{E0F158E1-CB04-11D0-BD4E-00A0C911CE86}\Default
DirectSound Device]<br>
[HKEY_CURRENT_USER\Software\Microsoft\ActiveMovie\devenum\{E0F158E1-CB04-11D0-BD4E-00A0C911CE86}\Default
WaveOut Device] <b></b></span><b><br>
<br>
<a name="tech_settings"></a> Список настроек фильтра.</b> <br>
<br>
&nbsp;&nbsp;&nbsp; Как часть имени некоторых параметров используются следующие сокращения имен каналов:<br>
<br>
<table align="center" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr align="center" valign="top">
      <td><b>Сокращение</b></td>
      <td><b>Значение</b></td>
    </tr>
    <tr align="center" valign="top">
      <td>L</td>
      <td align="left">Передний левый</td>
    </tr>
    <tr align="center" valign="top">
      <td>C</td>
      <td align="left">Центральный</td>
    </tr>
    <tr align="center" valign="top">
      <td>R</td>
      <td align="left">Передний правый</td>
    </tr>
    <tr align="center" valign="top">
      <td>SL</td>
      <td align="left">Левый тыл</td>
    </tr>
    <tr align="center" valign="top">
      <td>SR</td>
      <td align="left">Правый тыл</td>
    </tr>
    <tr align="center" valign="top">
      <td>LFE</td>
      <td align="left">Канал LFE или cабвуфер</td>
    </tr>
  </tbody>
</table>
<br>
&nbsp;&nbsp;&nbsp; Все уровни указываются в виде коэффициентов (не в децибелах!). Битовые маски и перечисления
имеют тип целого.<br>
<br>
<table align="center" border="1" cellpadding="2" cellspacing="2" width="80%">
  <tbody>
    <tr>
      <th>Параметр</th>
      <th>Тип</th>
      <th>Настройка</th>
      <th>Описание</th>
    </tr>
    <tr>
      <th colspan="4">Output format</th>
    </tr>
    <tr>
      <td valign="top">mask</td>
      <td valign="top">bitmask</td>
      <td valign="top">Output (первый список выбора)</td>
      <td valign="top">Битовая маска выходных каналов. Однозначно определяет конфигурациюАС:
        <table align="center" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <th>Канал</th>
              <th>Маска</th>
            </tr>
            <tr align="center" valign="top">
              <td>L<br>
                C<br>
                R<br>
                SL<br>
                SR<br>
                LFE</td>
              <td>1<br>
                2<br>
                4<br>
                8<br>
                16<br>
                32</td>
            </tr>
          </tbody>
        </table></td>
    </tr>
    <tr>
      <td valign="top">format</td>
      <td valign="top">enum</td>
      <td valign="top">Оutput (второй список выбора)</td>
      <td valign="top">Выходной формат сэмпла:
        <table align="center" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <th>Значение</th>
              <th>Режим</th>
            </tr>
            <tr align="center" valign="top">
              <td>2<br>
                3<br>
                4<br>
                5</td>
              <td>PCM 16bit<br>
                PCM 24bit<br>
                PCM 32bit<br>
                PCM float</td>
            </tr>
          </tbody>
        </table></td>
    </tr>
    <tr>
      <td valign="top">relation</td>
      <td valign="top">enum</td>
      <td valign="top">Output (первый список выбора)</td>
      <td valign="top">Маска каналов и формат сэмпла не всегда могут однозначно определить
        формат. В некоторых случаях каналы имеют определенную внутреннюю взаимосвязь, например, два стерео-канала
        могут содержать сумму-разность каналов. В настощее время этот параметр используется для обозначения
        долби-режимов:
        <table align="center" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <th>Значение</th>
              <th>Режим</th>
            </tr>
            <tr>
              <td align="center" valign="top">0<br>
                1<br>
                2</td>
              <td align="left" valign="top">-<br>
                Dolby Surround/ProLogic<br>
                Dolby ProLogic 2</td>
            </tr>
          </tbody>
        </table></td>
    </tr>
    <tr>
      <td valign="top">spdif</td>
      <td valign="top">bool</td>
      <td valign="top">SPDIF</td>
      <td valign="top">Включение режима цифрового выхода.</td>
    </tr>
    <tr>
      <th colspan="4" valign="top">Formats</th>
    </tr>
    <tr>
      <td valign="top">spdif_pt</td>
      <td valign="top">bitmask</td>
      <td valign="top">SPDIF passthrough</td>
      <td valign="top">Битовая маска форматов, поддерживаемых декодером в режиме цифрового
        выхода. Поддерживаются форматы AC3, MPEG Audio и DTS (см. параметр <b>formats</b>)</td>
    </tr>
    <tr>
      <td valign="top">formats</td>
      <td valign="top">bitmask</td>
      <td valign="top">Use AC3Filter for...</td>
      <td valign="top">Битовая маска форматов, поддерживаемых фильтром:
        <table align="center" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <th>Маска</th>
              <th>Формат</th>
            </tr>
            <tr>
              <td align="center" valign="top">4<br>
                8<br>
                16<br>
                32<br>
                1024<br>
                2048<br>
                4096<br>
                8192<br>
                16384</td>
              <td valign="top">PCM16<br>
                PCM24<br>
                PCM32<br>
                PCM Float<br>
                MPEG1/2 PES<br>
                SPDIF<br>
                AC3<br>
                MPEG Audio<br>
                DTS</td>
            </tr>
          </tbody>
        </table></td>
    </tr>
    <tr>
      <th colspan="4">AGC</th>
    </tr>
    <tr>
      <td valign="top">auto_gain</td>
      <td valign="top">bool</td>
      <td valign="top">Auto gain</td>
      <td valign="top">Автоматическая регулировка усиления</td>
    </tr>
    <tr>
      <td valign="top">normalize</td>
      <td valign="top">bool</td>
      <td valign="top">One-pass norm</td>
      <td valign="top">Однопроходная нормализация</td>
    </tr>
    <tr>
      <th colspan="4">Matrix options</th>
    </tr>
    <tr>
      <td valign="top">auto_matrix</td>
      <td valign="top">bool</td>
      <td valign="top">Auto matrix</td>
      <td valign="top">Автоматический рассчет матрицы</td>
    </tr>
    <tr>
      <td valign="top">normalize_matrix</td>
      <td valign="top">bool</td>
      <td valign="top">Normalize matrix</td>
      <td valign="top">Нормализация матрицы</td>
    </tr>
    <tr>
      <td valign="top">voice_control</td>
      <td valign="top">bool</td>
      <td valign="top">Voice control</td>
      <td valign="top">Управление центральным каналом или вируальным центром</td>
    </tr>
    <tr>
      <td valign="top">expand_stereo</td>
      <td valign="top">bool</td>
      <td valign="top">Expand stereo</td>
      <td valign="top">Расширение стереобазы</td>
    </tr>
    <tr>
      <th colspan="4">Gains</th>
    </tr>
    <tr>
      <td valign="top">master</td>
      <td valign="top">float</td>
      <td valign="top">Master gain</td>
      <td valign="top">Общий уровень усиления</td>
    </tr>
    <tr>
      <td valign="top">clev</td>
      <td valign="top">float </td>
      <td valign="top">Center gain</td>
      <td valign="top">Уровень усиления центра (параметр для рассчета матрицы)</td>
    </tr>
    <tr>
      <td valign="top">slev</td>
      <td valign="top">float </td>
      <td valign="top">Surround gain</td>
      <td valign="top">Уровень усиления тыла (параметр для рассчета матрицы)</td>
    </tr>
    <tr>
      <td valign="top">lfelev</td>
      <td valign="top">float</td>
      <td valign="top">LFE gain</td>
      <td valign="top">Уровень усиления канала LFE (параметр для рассчета матрицы)</td>
    </tr>
    <tr>
      <td valign="top">input_gain_{ch}</td>
      <td valign="top">float</td>
      <td valign="top">Input gains</td>
      <td valign="top">Уровни усиления входных каналов</td>
    </tr>
    <tr>
      <td valign="top">output_gain_{ch}</td>
      <td valign="top">float</td>
      <td valign="top">Output gains</td>
      <td valign="top">Уровни усиления выходных каналов</td>
    </tr>
    <tr>
      <th colspan="4">Matrix</th>
    </tr>
    <tr>
      <td valign="top">matrix_{ch}_{ch}</td>
      <td valign="top">float</td>
      <td valign="top">Matrix</td>
      <td valign="top">Матрица микширования. Задается в виде набора коэффициентов микширования
        из канала, указанного первым в канал, указанный вторым.</td>
    </tr>
    <tr>
      <th colspan="4">DRC</th>
    </tr>
    <tr>
      <td valign="top">drc</td>
      <td valign="top">bool</td>
      <td valign="top">DRC Enable checkbox</td>
      <td valign="top">Включение сжатия динамического диапазона</td>
    </tr>
    <tr>
      <td valign="top">drc_power</td>
      <td valign="top">float</td>
      <td valign="top">DRC gain</td>
      <td valign="top">Уровень сжатия динамического диапазона</td>
    </tr>
    <tr>
      <th colspan="4">Bass redirection</th>
    </tr>
    <tr>
      <td valign="top">bass_redir</td>
      <td valign="top">bool</td>
      <td valign="top">Bass redir</td>
      <td valign="top">Перенаправление басов</td>
    </tr>
    <tr>
      <td valign="top">bass_freq</td>
      <td valign="top">int</td>
      <td valign="top">Bass redir edit box</td>
      <td valign="top">Частота среза для перенаправления басов</td>
    </tr>
    <tr>
      <th colspan="4">Delays</th>
    </tr>
    <tr>
      <td valign="top">delay</td>
      <td valign="top">bool</td>
      <td valign="top">Delay checkbox</td>
      <td valign="top">Включение задержек</td>
    </tr>
    <tr>
      <td valign="top">delay_units</td>
      <td valign="top">enum</td>
      <td valign="top">Delay drop-down</td>
      <td valign="top">Единицы измерения для значений задержек:
        <table align="center" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <th>Значение</th>
              <th>Единицы</th>
            </tr>
            <tr>
              <td align="center" valign="top">0<br>
                1<br>
                2<br>
                3<br>
                4<br>
                5</td>
              <td valign="top">сэмплы<br>
                миллисекунды<br>
                метры<br>
                сантиметры<br>
                футы<br>
                дюймы</td>
            </tr>
          </tbody>
        </table></td>
    </tr>
    <tr>
      <td valign="top">delay_{ch}</td>
      <td valign="top">float</td>
      <td valign="top">Delays edit boxes</td>
      <td valign="top">Значения задержек</td>
    </tr>
    <tr>
      <th colspan="4">Other</th>
    </tr>
    <tr>
      <td valign="top">refresh</td>
      <td valign="top">int</td>
      <td valign="top">-</td>
      <td valign="top">Частота обновления интерфейса в мс.</td>
    </tr>
    <tr>
      <td valign="top">time_shift</td>
      <td valign="top">float</td>
      <td valign="top">Time shift</td>
      <td valign="top">Глобальная задержка для синхронизации аудио и видео.</td>
    </tr>
  </tbody>
</table>
<br>
<br>


<br>
<br>
<hr size="2" width="100%">
<h2><a name="links"></a>Полезные ссылки.<br>
</h2>
Сайт AC3Filter (<i>rus+eng</i>): (<a href="http://xvalex.hotbox.ru/programs/ac3filter">http://xvalex.hotbox.ru/programs/ac3filter</a>)<br>
Сайт AC3Filter (<i>rus+eng</i>): (<a href="http://ac3filter.sourceforge.net/">http://ac3filter.sourceforge.net</a>)<br>
Сайт AC3 декодера для Winamp (<i>rus+eng</i>): (<a href="http://xvalex.hotbox.ru/programs/winampac3">http://xvalex.hotbox.ru/programs/winampac3</a>)<br>
Сайт AC3 декодера для Winamp (<i>rus+eng</i>): (<a href="http://winampac3.sourceforge.net/">http://winampac3.sourceforge.net</a>)<br>
<br>
Стандарт A/52a (AC3) (<i>eng</i>): (<a class="moz-txt-link-freetext" href="http://www.atsc.org/standards/a_52a.pdf">http://www.atsc.org/standards/a_52a.pdf</a>).<br>
Разъяснения Dolby по поводу LFE (eng): (<a href="http://www.dolby.com/tech/c.in.0011.LFE.pdf">http://www.dolby.com/tech/c.in.0011.LFE.pdf</a>)<br>
Библиотека LibA52 (бывший ac3dec) (<i>eng</i>): (<a href="http://liba52.sourceforge.net/">http://liba52.sourceforge.net</a>).<br>
Многоканальное воспроизведение под Windows (<i>eng</i>): (<a href="http://www.microsoft.com/hwdev/tech/audio/multichaudP.asp">http://www.microsoft.com/hwdev/tech/audio/multichaudP.asp</a>)<br>
Просто полезный сайт по видео (<i>eng</i>): (<a href="http://www.doom9.org">http://www.doom9.org</a>).<br>
<br>
<hr size="2" width="100%">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td valign="top"><i><small> Copyright (c) 2002-2004 by
        <script language="JavaScript"><!--
          function h979(){var et8="@"; et8=et8+"ma"; et8="alex%20%3Cxvalex"+et8; et8=et8+"il.ru%3E"; et8="V"+et8; return et8};
          function ge(){var d6y="sky"; d6y="Alexander Vigov"+d6y; return d6y};
          function xq2nz(){return "?Subject=AC3Filter"};
          function df(){status="mailto:"+h979()+xq2nz()};
          function i5p0f(){status=""};
          function nbx8v(){this.location="mailto:"+h979()+xq2nz(); return false};
          document.write("<a href='mailto:[antispam_protected]' onMouseOver='df()' onMouseLeave='i5p0f()' onClick='return nbx8v()'>"+ge()+"</a>");
        //--></script>
        <noscript>
        Alexander Vigovsky
        </noscript>
        </small></i></td>
      <td align="right" valign="top"><i><small> Last updated $date</small></i></td>
    </tr>
  </tbody>
</table>
</body>
</html>
