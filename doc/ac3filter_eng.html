<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>AC3Filter</title>
<meta name="author" content="Alexander Vigovsky">
<meta name="keywords" content="AC3Filter AC3 DTS DolbyDigital">
<meta http-equiv="Content-Type" content="text/html">
<link href="ac3filter.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- ==========================================================================
                                    Header
=========================================================================== -->

<!-- AC3Filter title & Source forge logo -->

<table width="100%">
  <tr>
    <td><h1><b>AC3Filter</b><small><i> ver $ver</i></small></h1></td>
    <td style="text-align: right;"><a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=66022&amp;type=5"
    alt="SourceForge Logo" border="0" height="62" width="210"></a> </td>
  </tr>
</table>

<!-- Language selection -->

<table>
  <tr>
    <td><img src="pic/flag_eng.gif" border="0"><b>English</b>&nbsp;&nbsp;&nbsp;</td>
    <td><a href="ac3filter_rus.html"><img src="pic/flag_rus.gif" border="0">Russian</a>&nbsp;&nbsp;&nbsp;</td>
    <td><a href="ac3filter_ita.html"><img src="pic/flag_ita.gif" border="0">Italian</a>&nbsp;&nbsp;&nbsp;</td>
  </tr>
</table>

<!-- Top-level links -->

<table width="100%">
  <tr>
    <td><a href="http://order.kagi.com/?6CZJZ">Donate!</a></td>
    <td><a href="$download_bin">Download</a></td>
    <td><a href="http://sourceforge.net/forum/?group_id=66022">Forum</a></td>
    <td><a href="http://sourceforge.net/projects/ac3filter">Source forge project</a></td>
  </tr>
</table>

<!-- ==========================================================================
                                  Description
=========================================================================== -->
<div class="chapter">
  <p>AC3Filter is a high quality free DirectShow filter designed for real time
    audio decoding and processing. It has a priority on wide functionality and
    convenient settings. Filter can decode following audio formats: AC3/DTS/MPEG
    Audio. It also supports multi-channel and digital (SPDIF) outputs.</p>
</div>
<!-- ==========================================================================
                                   Features
=========================================================================== -->

<div id="features" class="chapter">
  <h2><a name="features">Main Features:</a></h2>

  <ul>
    <li> Decoding of AC3/DTS/MPEG1/2 Audio Layer I/II formats </li>
    <li> Support of DVD, AVI/AC3, AVI/DTS, WAV/AC3 and WAV/DTS </li>
    <li> Audio processing for any source </li>
    <li> Decomposition of any source to 6 channels </li>
    <li> Full information about audio track format </li>
    <li> Support of SPDIF passthrough mode </li>
    <li> Multi-channel audio output from all sources on SPDIF (on-the-fly AC3
      encoding) </li>
    <li> Per-channel amplification for all input/output channels </li>
    <li> Per-channel delays (for compensation of distance difference to
      speakers) </li>
    <li> Automatic gain control </li>
    <li> Clipping</li>
    <li> Dynamic Range Compression, DRC</li>
    <li> Level indication for input and output channels </li>
    <li> Matrix mixer and ability of direct modification of mixing matrix </li>
    <li> Dolby Surround / Pro Logic / Pro Logic II downmix </li>
  </ul>
</div>

<!-- ==========================================================================
                                  Contents
=========================================================================== -->

<div id="contents" class="chapter">
  <h2><a name="contents">Contents</a></h2>

  <ol>
    <li> <a href="#download">Download</a></li>
    <li> <a href="#install">Install</a></li>
    <li> <a href="#uninstall">Uninstall</a></li>
    <li> <a href="#system_setup">System setup</a>
      <ol>
        <li><a href="#system_setup_windows">Windows</a></li>
        <li><a href="#system_setup_multichannel">Setup for analog multichannel
            outputmode</a></li>
        <li><a href="#system_setup_spdif">Setup for digital (SPDIF) output mode</a></li>
        <li><a href="#system_setup_subwoofer">Subwoofer setup</a></li>
        <li><a href="#system_setup_filter">Filter setup</a></li>
      </ol>
    </li>
    <li> <a href="#player_setup">Player setup</a>
      <ol>
        <li><a href="#player_setup_table">Compatibility table</a></li>
        <li><a href="#player_setup_mpc">Media Player Classics</a></li>
        <li><a href="#player_setup_wmp64">Windows Media Player 6.4</a></li>
        <li><a href="#player_setup_wmp7">Windows Media Player 7+</a></li>
        <li><a href="#player_setup_bsp">BSPlayer</a></li>
        <li><a href="#player_setup_zp">ZoomPlayer</a></li>
        <li><a href="#player_setup_la">LightAlloy</a></li>
      </ol>
    </li>
    <li> <a href="#filter_setup">Filter settings</a>
      <ol>
        <li><a href="#filter_setup_settings">Filter settings window opening </a></li>
        <li><a href="#filter_setup_main">Main settings </a></li>
        <li><a href="#filter_setup_mixer">Mixer settings</a></li>
        <li><a href="#filter_setup_gains">Gains</a></li>
        <li><a href="#filter_setup_system">System settings</a></li>
      </ol>
    </li>
    <li><a href="#theory">Theory</a>
      <ol>
        <li><a href="#theory_loudness">Loudness and dynamic range</a></li>
        <li><a href="#theory_lfe">What is LFE?</a></li>
        <li><a href="#theory_spdif">SPDIF</a></li>
      </ol>
    </li>
    <li><a href="#distribution">Distribution</a></li>
    <li><a href="#contact_author">Feedback</a></li>
    <li><a href="#donations">Help to the project</a></li>
    <li><a href="#changelog">Changelog</a></li>
  </ol>
</div>


<!-- ==========================================================================
                                  Projects
=========================================================================== -->
<!-- rus -->
<div id="download" class="chapter">
  <h2><a name="download">1. Download.</a></h2>

  <b>ac3filter ver $ver:</b> <a href="$download_bin">$download_bin</a><br>
  <b>All versions:</b> <a href="http://sourceforge.net/projects/ac3filter/">http://sourceforge.net/projects/ac3filter</a><br>
  <br>
  New versions of the program can be found at the following site:<br>
  <a href="http://ac3filter.sourceforge.net">http://ac3filter.sourceforge.net</a> - official site<br>
  <a href="http://sourceforge.net/forum/?group_id=66022">http://sourceforge.net/forum/?group_id=66022</a> - AC3Filter forum<br>
  <a href="http://sourceforge.net/projects/ac3filter">http://sourceforge.net/projects/ac3filter</a> - project page on Sourceforge - errors, requests...<br>
</div>

<!-- ==========================================================================
                                  Install
=========================================================================== -->

<div id="install" class="chapter">
  <h2><a name="install">2. Install.</a></h2>

  <p>Run the installation program and follow the instructions. Additional system
    settings may be required for using of multi-channel modes and digital output
  mode (refer to <a href="#system_setup"> 4. System setup</a>). </p>
</div>

<!-- ==========================================================================
                                  Uninstall
=========================================================================== -->

<div id="uninstall" class="chapter">
  <h2><a name="uninstall">3. Uninstall.</a></h2>

  <p>Run uninstall program from the Start menu or from the Control Panel.</p>

  <p class="warning">All saved settings of matrices, equalizers, etc. will be lost!</p>

  <p>Filter can be installed together with other programs (codec-packs, players…).
    In this case, filter can be uninstalled only together with that program.
    If you have no idea about what program filter was installed with or you are
    going to uninstall the filter but not the program you can uninstall the filter
  independently as follows: </p>

  <ul>
    <li>Download installation package from the official site: <a href="$download_bin">$download_bin</a></li>
    <li>Install the package. After that filter will appear in the installed programs list of the Control Panel.</li>
    <li>Uninstall filter from the Control Panel. Filter will be deleted from the system.</li>
  </ul>
</div>

<!-- ==========================================================================
                                  System setup
=========================================================================== -->

<div id="system_setup" class="chapter">
  <h2><a name="system_setup">4. System setup</a></h2>

  <p> This section describes one-time settings, which should be made after the
    filter installation. The most compatible operation mode is 16-bit stereo
    mode (not multi-channel), which is the default filter operating mode. This
    mode is compatible with all Windows versions and all audio cards. There is
    no need for additional settings to operate in this mode. For operating in
    multi-channel modes and in digital output mode some system settings may be
  required. </p>

  <!-- ------------------------------ Windows ------------------------------- -->

  <div id="system_setup_windows" class="subchapter">
    <h3><a name="system_setup_windows">4.1. Windows</a></h3>

    <table style="text-align: center;" border="1" cellpadding="2" cellspacing="2">
      <caption>
      Compatibility table
      </caption>
      <tr>
        <th align="left"></th>
        <th>Win95, Win98</th>
        <th>Win98SE</th>
        <th>WinNT <a href="#system_setup_note3">(3)</a></th>
        <th>Win2000</th>
        <th>WinXP</th>
      </tr>
      <tr>
        <th align="left">mono/stereo 16bit</th>
        <td>+</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
        <td>+</td>
      </tr>
      <tr>
        <th align="left">multichannel</th>
        <td>- (?)</td>
        <td>WaveOut <a href="#system_setup_note1">(1)</a></td>
        <td>SP6</td>
        <td>+</td>
        <td>+</td>
      </tr>
      <tr>
        <th align="left">SPDIF</th>
        <td>- (?)</td>
        <td>WaveOut <a href="#system_setup_note1">(1)</a> + patch <a href="#system_setup_note2">(2)</a></td>
        <td>- (?)</td>
        <td>SP2</td>
        <td>+</td>
      </tr>
    </table>

    <div style="font-size:80%"> 
      <a name="system_setup_note1"></a>1) refer to <a href="#filter_setup_system"> 6.5. System settings</a> <br>
      <a name="system_setup_note2"></a>2) You can download the patch from here:<br>
      <div style="margin-left: 40px;"> <b>server1:</b><a href="http://ac3filter.sourceforge.net/download/269601USA8.EXE">http://ac3filter.sourceforge.net/download/269601USA8.EXE</a><br>
        <b>server2:</b><a href="ftp://download.intel.com/design/motherbd/bt2/269601USA8.EXE">ftp://download.intel.com/design/motherbd/bt2/269601USA8.EXE</a><br>
        <b>server3:</b><a href="ftp://ftp.asus.com.tw/pub/ASUS/beta/mb/driver/269601USA8.EXE">ftp://ftp.asus.com.tw/pub/ASUS/beta/mb/driver/269601USA8.EXE</a><br>
        patch effect is described in <a href="http://www.microsoft.com/hwdev/tech/audio/Non-PCM.asp">http://www.microsoft.com/hwdev/tech/audio/Non-PCM.asp</a>.<br>
      </div>
      <a name="system_setup_note3"></a>3) Audio card must support 48 kHz output mode<br>
    </div>
  </div>

  <!-- ------------------------------ Multichannel -------------------------- -->

  <div id="system_setup_multichannel" class="subchapter">
    <h3><a name="system_setup_multichannel">4.2. Setup for analog multichannel output mode </a></h3>

    <p>Configure speakers in filter settings (refer to <a href="#filter_setup_main">6.2.
      Main settings</a>). Some audio cards operates incorrectly with <em>odd</em> number
      of channels (for instance, <span class="value">2/2+SW 4.1 quadro</span> or <span class="value">3/0
      3 front</span>). Therefore, such modes should be avoided, if possible. <span class="value">Dolby
      Surround/ProLogic</span> and <span class="value">Dolby ProLogic2</span> modes <em>are
      not</em> multi-channel modes. Moreover, modes with subwoofer <span class="value">(2/0+SW
      2.1 stereo</span>, <span class="value">4/0+SW 4.1 quadro</span>) should
      not be used if acoustics has no separate input for subwoofer (refer to <a href="#theory_lfe">7.2.
      What is LFE?</a>).</p>
      
    <p>Set speakers mode in <span class="action">Control Panel->Sounds and Multimedia->Audio->Sound
      Playback->Advanced</span>. Furthermore, audio card drivers often have
      their own utilities for switching of speakers configuration. It is necessary
      to set the proper configuration at both locations - within audio card
      driver settings and within the Control Panel.</p>

    <p>For Creative audio card it is <em>necessary</em> to switch off all sound
    effects and equalizers, otherwise there can be a loss of central/rear channels. </p>

    <p>Audio card can operate in two modes: DirectSound and WaveOut. In some
      cases, the multi-channel mode can operate only in one of those modes and
      cannot operate in another one. If that is the case, output device should
      be changed in player settings. To get information whether the player supports
      the device changing function, refer to the table of compatibility in <a href="#player_setup"> 5.
      Player setup</a> section (Renderer column). If the player has no such function,
      it is possible to change the default system output device (refer to <a href="#filter_setup_system"> 6.5.
      System settings</a> ). However, this option changes the <em>global</em> system
      settings; therefore, it is recommended to use it <em>only</em> if the player
      does not support the mentioned function.</p>
  </div>

  <!-- ------------------------------ SPDIF --------------------------------- -->

  <div id="system_setup_spdif" class="subchapter">
    <h3><a name="system_setup_spdif">4.3. Setup for digital (SPDIF) output mode </a></h3>
    <small>(It is recommended to read <a href="#theory_spdif">7.3 SPDIF</a> section firstly)</small>
    
    <p>SPDIF mode is required <em>only</em> in case of digital connection to external
      decoder/receiver exist. It is important previously to ensure whether the
    receiver connected correctly (refer to audio card and receiver documentation). </p>

    <p>It is necessary to check <span class="option">SPDIF</span> box in filter
      settings to switch the SPDIF mode on (refer to <a href="#filter_setup_main"> 6.2.
      Main settings</a>)</p>

    <p>Digital connection supports different formats of data transfer (PCM,
      AC3, DTS, MPEG Audio). Refer to receiver documentation to get information
      about the formats supported by receiver. In most cases only AC3 format
      is supported - if that is the case, there is no need for additional settings
      (it is active by default). If the receiver supports some other formats,
      they can be indicated in filter settings (refer to <a href="#filter_setup_system"> 6.5.
    System settings</a> ). </p>

    <p>Some drivers have an ability of AC3 decoding. If such option is available
    it should be disabled (refer to audio card manual).</p>

    <p> Audio card can operate in two modes: DirectSound and WaveOut. In some
      cases, the SPDIF mode can operate only in one of those modes and
      cannot operate in another one. If that is the case, output device should
      be changed in player settings. To get information whether the player supports
      the device changing function, refer to the table of compatibility in <a href="#player_setup"> 5.
      Player setup</a> section (Renderer column). If the player has no such function,
      it is possible to change the default system output device (refer to <a href="#filter_setup_system"> 6.5.
      System settings</a>). However, this option changes the <em>global</em> system
      settings; therefore, it is recommended to use it <em>only</em> if the player
    does not support the mentioned function. </p>

    <p> Most of audio cards can operate in digital transfer mode only with 48000 Hz 
      sample rate. Therefore, in all other cases the digital transfer is impossible
      at all. Current digital output mode can be checked during playback on the Main page of
      filter settings (refer to <a href="#filter_setup_main"> 6.2.
    Main settings</a>) </p>
  </div>

  <!-- ------------------------------ Subwoofer ----------------------------- -->

  <div id="system_setup_subwoofer" class="subchapter">
    <h3><a name="system_setup_subwoofer">4.4. Subwoofer setup </a></h3>
    <small>(It is recommended to read <a href="#theory_lfe">7.2. What is LFE?</a> section firstly) </small>

    <p> If acoustics has no <em>separate</em> input for subwoofer, modes with
      subwoofer ( 2/0+SW, 4/0+SW) should not be used (refer to <a href="#theory_lfe"> 7.2.
    What is LFE?</a>). </p>

    <p> It is recommended to activate bass redirection for the modes with subwoofer.
      In acoustics documentation, information about bandwidth of speakers and
      subwoofer should be found; it is recommended to set the cutoff frequency
      equal to lower bound for main speakers and to upper bound of subwoofer. For
      instance, if the bandwidth of main speakers is 100 Hz - 20 kHz and that of subwoofer
      is 30 Hz - 100 Hz then the cutoff frequency must be set at 100 Hz. In most
      cases, the default setting is satisfactory, so there is no need to change
    anything. </p>

    <p> Some audio cards have their own bass redirection control settings. It
      is <em>not recommended</em> to activate both options at the same time! This
      can result in significant distortions. Bass redirection must be switched
    on either in filter <em>only</em> or in audio card settings <em>only</em>. </p>
  </div>

  <!-- ------------------------------ Filter -------------------------------- -->

  <div id="system_setup_filter" class="subchapter">
    <h3><a name="system_setup_filter">4.5. Filter setup</a></h3>

    <p> After installation filter has already all settings and in general, it
      does not require any additional settings. Therefore, if you are not familiar
      with it, do not make any changes. It is recommended to modify settings
      only if there are some problems with sound. However, if you are inquisitive
      and you like to play with settings, please, refer to <a href="#theory">7.
    Theory</a> section. </p>
  </div>

</div>
<!-- ==========================================================================
                                  Player setup
=========================================================================== -->
<div id="player_setup" class="chapter">
  <h2><a name="player_setup">5. Player setup.</a></h2>

  <p>This section briefly describes the most known players and possibility of
    their operation together with AC3Filter, abilities of players and required
    settings.</p>

  <div id="player_setup_table" class="subchapter">
    <h3><a name="player_setup_table">5.1 Compatibility table </a></h3>

    <table bgcolor="#ccffcc" border="1" cellpadding="2" cellspacing="2">
      <tr align="center">
        <th bgcolor="#66ff99">Player</th>
        <th bgcolor="#66ff99">Abbr</th>
        <th bgcolor="#66ff99">Site</th>
        <th bgcolor="#66ff99">License</th>
        <th bgcolor="#66ff99">AVI</th>
        <th bgcolor="#66ff99">DVD</th>
        <th bgcolor="#66ff99">Filters</th>
        <th bgcolor="#66ff99">Renderer</th>
        <th bgcolor="#66ff99">Decoder</th>
        <th bgcolor="#66ff99">Supported</th>
        <th bgcolor="#66ff99">Details</th>
      </tr>
      <tr align="center">
        <td>Media Player Classics</td>
        <td>MPC</td>
        <td><a href="http://sourceforge.net/projects/guliverkli">(site)</a></td>
        <td bgcolor="#66ffff">OpenSource</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_mpc">(details)</a></td>
      </tr>
      <tr align="center">
        <td>Windows Media Player v6.4</td>
        <td>WMP64</td>
        <td><a href="http://download.microsoft.com">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_wmp64">(details)</a></td>
      </tr>
      <tr align="center">
        <td>Windows Media Player 7+</td>
        <td>WMP7+</td>
        <td><a href="http://download.microsoft.com">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_wmp7"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>BSPlayer</td>
        <td>BSP</td>
        <td><a href="http://www.bsplayer.org/">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_bsp">(details)</a></td>
      </tr>
      <tr align="center">
        <td>ZoomPlayer</td>
        <td>ZP</td>
        <td><a href="http://www.inmatrix.com/">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_zp"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>ZoomPlayerPro</td>
        <td>ZPP</td>
        <td><a href="http://www.inmatrix.com/">(site)</a></td>
        <td bgcolor="#ffcf00">Shareware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_zp"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>LightAlloy</td>
        <td>LA</td>
        <td><a href="http://www.softella.com/index.en.htm">(site)</a></td>
        <td bgcolor="#33cc00">Freeware</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#33ff33">+</td>
        <td bgcolor="#9c0000">-</td>
        <td bgcolor="#33ff33">+</td>
        <td><a href="#player_setup_la"> (details)</a></td>
      </tr>
      <tr align="center">
        <td>PowerDVD<br>WinDVD</td>
        <td>PDVD<br>WDVD</td>
        <td><a href="http://www.gocyberlink.com">(site)</a><br>
            <a href="http://www.intervideo.com">(site)</a></td>
        <td bgcolor="#ffcf00">Shareware<br>Shareware</td>
        <td bgcolor="#33ff33">+<br>+</td>
        <td bgcolor="#33ff33">+<br>+</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#9c0000">-<br>-</td>
        <td bgcolor="#ce0000">AVI only<br>AVI only</td>
        <td><a href="#player_setup_pdvd">(details)</a></td>
      </tr>
    </table>

    <div style="font-size:80%">
      Abbr - abbreviated player name.<br>
      AVI - ability to play AVI files.<br>
      DVD - ability to play DVD files.<br>
      Filters - player supports filter configuring feature.<br>
      Renderer - player supports output device changing feature.<br>
      Decoder - player supports decoder changing feature.<br>
      Supported - player has an ability to use the AC3Filter.<br>
    </div>

    <p> It is clear that the table is far from being complete, therefore any corrections
    and additions are welcomed. </p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_mpc" class="subchapter">
    <h3><a name="player_setup_mpc">5.2. Media Player Classics</a></h3>

    <p> It is one of the most multifunctional players. Though it has a simple
      look and a small memory size (~1Mb), of player surrenders only ZoomPlayer
      by functionality. Furthermore the player has a great number of internal
      decoders (there is no need to install any codec-packs and other external
      decoders). It supports DVD playing, Flash animation (with rewind function!),
      RealVideo/RealAudio, QuickTime and many others. This player is reliable,
      stable and has no special requirements for resources <small>(my favorite
    player :-)</small>. </p>

    <p> During watching filter settings can be called by right button click on
      the frame, then select <span class="action">Filters-&gt;AC3Filter</span> in
      drop-down menu: </p>

    <div class="image">
      <img alt="" src="pic/players/mpc_filters.png" height="401" width="500">
    </div>

    <p> Player settings can be called from <span class="action">View-&gt;Options</span> menu.
      To make the player to use AC3Filter player settings should be changed as
    shown in the figure: </p>

    <div class="image">
      <img alt="" src="pic/players/mpc_options1.png" height="424" width="620">
    </div>

    <p> If there are several decoders installed in the system, decoder with the
      highest priority will be in use. To modify the filter priority, refer to <a href="#filter_setup_system"> 6.5.
      System settings</a> . The player can be configured for continuous use of
      AC3Filter independently of current system settings. For that, enter the <span class="action">Overrides</span> section
      of player settings, press <span class="action">AddFilter</span> button and then select
    AC3Filter from the list. That will result as follows : </p>

    <div class="image">
      <img alt="" src="pic/players/mpc_options2.png" height="424" width="620">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_wmp64" class="subchapter">
    <h3><a name="player_setup_wmp64">5.3. Windows Media Player 6.4</a></h3>

    <p> Simple player delivered within <em>all</em> Windows versions from Win98
      (Win98, WinME, Win2000, WinXP, ...). Player is located at <span class="file">C:\Program
      files\Windows Media Player\mplayer2.exe</span>. This player is extremely
      reliable, has no special requirements for resources and utilizes standard
      playback methods only; therefore, it is essential for detection of different
      problems. Many functions are not available but the player excellently copes
      with its general task - file playing. If there, any playing problems appear
    when using other players it is recommended to try this player. </p>

    <p> During watching filter settings can be called from <span class="action">File-&gt;Properties-&gt;Advanced</span> menu: </p>

    <div class="image">
      <img alt="" src="pic/players/wmp64_filters.png" height="482" width="457">
    </div>

    <p> Player has no settings for specific AC3Filter use, therefore if there
      are several decoders installed in the system, the decoder with the highest
      priority will be in use. To modify the filter priority, refer to <a href="#filter_setup_system"> 6.5.
    System settings</a>.</p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_wmp7" class="subchapter">
    <h3><a name="player_setup_wmp7">5.4. Windows Media Player 7+</a></h3>

    <p> This family of players has no ability of calling the filter settings
      during watching. Thus, you cannot know whether AC3Filter or some other
      decoder is in use. Also, you cannot change the settings and monitor the
      current activity (properties of current audio stream, input/output levels,
      DRC activity, etc.) during playing. The single exception is the Windows
      Media Player 9 in DVD playing mode only. In this case, the filter settings
      can be called from <span class="action">Tools-&gt;Options</span> menu (this option
    will not take effect when watching .avi files or files of other formats). </p>

    <div class="image">
      <img alt="" src="pic/players/wmp9_dvd.png" height="473" width="403">
    </div>

    <p> In all other cases, it is possible to configure the filter only by configuration
    utility <em>before</em> watching the film. </p>

    <p> Player has no settings for specific AC3Filter use, therefore if there
      are several decoders installed in the system, the decoder with the highest
      priority will be in use. To modify the filter priority, refer to <a href="#filter_setup_system"> 6.5.
    System settings</a> . </p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_bsp" class="subchapter">
    <h3><a name="player_setup_bsp">5.5. BSPlayer</a></h3>

    <p> Multifunctional player with skins support. </p>

    <p> Filter settings can be called by right button click on the frame. Then
    select <span class="action">Options-&gt;Filters-&gt;AC3Filter</span> in drop-down menu:</p>

    <div class="image">
        <img alt="" src="pic/players/bsp_filters.png" height="528" width="649">
    </div>

    <p> Player settings can be called from <span class="action">Options-&gt;Preferences</span> menu.
      To make the player to use AC3Filter you should change player settings as
    shown in the figure: </p>

    <div class="image">
      <img alt="" src="pic/players/bsp_options.png" height="444" width="572">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_zp" class="subchapter">
    <h3><a name="player_setup_zp">5.6. ZoomPlayer</a></h3>

    <p> This is the most multifunctional player. There is no sense to specify
    all functions because of their great number. </p>

    <p> Filter settings can be called by right button click on the frame. Then
    select <span class="action">Filter Properties-&gt;AC3Filter</span> in drop-down
    menu: </p>

    <div class="image">
      <img alt="" src="pic/players/zoom_filters.png" height="417" width="507">
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_la" class="subchapter">
    <h3><a name="player_setup_la">5.7. LightAlloy</a></h3>

    <p> Filter settings calling is shown in the picture: </p>

    <div class="image">
      <img alt="" src="pic/players/la_filters.png" height="354" width="376">
    </div>

    <p> Player has no settings for specific AC3Filter use, therefore if there
      were several decoders installed in the system, the decoder with the highest
      priority will be in use. To modify filter priority refer to <a href="#filter_setup_system"> 6.5.
    System settings</a> . </p>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="player_setup_pdvd" class="subchapter">
    <h3><a name="player_setup_pdvd">5.8. PowerDVD/WinDVD</a></h3>

    <p>Both players <em>cannot</em> use the AC3Filter to play DVD. <em>It’s concerned
      with the players features</em>, therefore it is impossible to force them to use
      AC3Filter. That is no ways in principle to force those players to operate with
      AC3Filter! So to watch DVD with AC3Filter use it is recommended to use other
      players - Media Player Classics, LightAlloy or ZoomPlayer. </p>

    <p> When playing AVI-files by these players you can use AC3Filter both for
      post-processing and for AC3/DTS audio track decoding. However, the player
      cannot call the filter settings, so you should configure the filter by
    configuration utility <em>before</em> watching only. </p>
  </div>

</div>

<!-- ==========================================================================
                                  Player setup
=========================================================================== -->

<div id="filter_setup" class="chapter">
  <h2><a name="filter_setup">6. Filter settings.</a></h2>

  <div style="font-size:120%;font-style:italic">
    <p>After installation filter is already well-configured and in general, it does 
      not require additional setup. Therefore, if you are not familiar with it, do 
      not make any changes. It is recommended to modify the settings only if there 
      are some problems with sound. However, if you are inquisitive and you like to 
      play with settings, please, refer to <a href="#theory">7. Theory</a> section.</p>

    <p>There are two principal rules of configuring: </p>
    <ul>
      <li>If you have no idea what does this setting make - do not change it.</li>
      <li>If something has broken load the 'standard' preset (<span class="action">Main
      page->Preset->Standard</span>).</li>
    </ul>
  </div>

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_settings" class="subchapter">
    <h3><a name="filter_setup_settings">6.1. Filter settings window opening</a></h3>

    <p> You should enter the filter property window to configure the filter.
    There are two ways to do that: </p>

    <ul>
      <li> Directly during playing. Here you can monitor the filter activity
        and change settings directly during playing. Player must be able to configure
        the filters. Refer to the table of compatibility in <a href="#player_setup"> 5.
        Player setup</a> section to know whether the player supports
        this function or not. The mentioned section also describes actions required
        to call the settings window. When changing settings, changes take effect
        immediately (or rather with a little delay of 0.5..2 s depending on player
      buffer size). </li>
      <li> If the player has no ability to configure the filter you can adjust
        settings by configuration utility (from the Start menu):
<div class="image">
          <img alt="" src="pic/config.png" height="384" width="550">
        </div>

        <span class="warning">When configuring by the utility the current statistics
        cannot be displayed in the settings window. All settings will take effect
        after the settings window is closed and the player restarted!</span></li>
    </ul>
  </div> <!-- <div id="filter_setup_settings" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_main" class="subchapter">
    <h3><a name="filter_setup_main">6.2. Main settings </a></h3>

    <p> This page contains most essential filter settings and information about
      audio playing. Information and levels are displayed when calling the settings
    from the player <em>only</em>: </p>

    <div class="image">
      <img src="pic/dlg_main.png" alt="" height="427" width="623">
    </div>

    <div class="subsubchapter">
      <h4>6.2.1. Output</h4>

      <p> This section describes the settings of filter output format. Filter
        will automatically convert all input formats into defined configuration.
        Speakers' configuration is represented in the form of front/rear+subwoofer.
        There are conventional names for some configurations. For instance, <span class="value">2/0
        - stereo</span> means 2 front speakers, i.e. stereo. <span class="value">2/2
        - quadro</span> means 2 front and 2 rear speakers, i.e. quadro. <span class="value">3/2+SW
        5.1 channels</span> - 3 front speakers, 2 rear speakers and subwoofer
        - 5.1 configuration. It is desirable for defined configuration to be
        in accordant with the system settings (refer to <a href="#system_setup_multichannel"> 4.2.
        Setup for multichannel mode</a> ), which in turn must match with the
        actual number of speakers. To know the difference for subwoofer and for
        LFE channel, and how to set configuration, refer to <a href="#theory_lfe"> 7.2.
        What is LFE?</a> section. </p>
      <p> <span class="value">Dolby Surround/ProLogic</span> and <span class="value">Dolby
          ProLogic II</span> modes are required only when computer has stereo output only and is
        connected to Dolby ProLogic decoder. In this case, central and rear channels
        are mixed into two channels to let external decoder to extract them from
        those two channels backwards. <em>This
        is not a multi-channel mode!</em> This is a special type of stereo mode
      required <em>only</em> if the external Dolby ProLogic decoder exists.</p>
      <p> The second selection list sets the sample output format. Filter will
        automatically convert any input format into defined one. When decoding
        the filter defines decoding precision. At present 16/24/32 bit and
        floating-point formats are supported.</p>

      <p> <span class="option">SPDIF</span> checkbox switches the digital output
        mode. This mode is required <em>only</em> when
        digital (SPDIF) connection and external hardware decoder/receiver exists.
        In this case the coded stream will be transferred to external decoder
        without any modifications (if the decoder supports this format) or will
        be recoded into the format clear for decoder (for more information refer
        to <a href="#theory_spdif"> 7.3.
        SPDIF</a> ). Current digital output mode status is shown in parentheses:</p>

      <ul>
        <li> <span class="value">disabled</span> - digital output mode is inactive,
          there is an ordinary decoded PCM stream transferred to the output.
          When SPDIF is on, the filter always attempts to use digital transfer.
          And only in case when digital transfer is impossible (audio card driver
          rejects to process the indicated format) ordinary PCM is transferred.
          For instance, many audio cards support digital transfer <em>only</em> when
          the sample rate is 48000 Hz but <em>do not support</em> widespread
          format of 44100 Hz. </li>
        <li><span class="value">passthrough</span> - pass -through transfer mode
          (for AC3, DTS and MPEG Audio formats only). In this case, encoded digital
          stream is transferred without any modifications and decoding is performed
          by external decoder. In this mode the filer does not display current
          activity and all filter settings do not affect sound (since sound is
          not decoded and the coded data is transferred ‘as is’).</li>
        <li><span class="value">AC3 encode</span> - AC3 encoding mode. In this
          mode filter performs decoding of the input stream and post-processing
          (all filter options are active including changing of speakers number).
          Then the resulted signal is encoded into AC3 and transfer into external
          hardware decoder in digital format. This mode is required to transfer
          multi-channel audio in formats, which are not supported by external
          decoder (e.g., AAC or OGG Vorbis) or in case when the external decoder
          does not support stereo decomposition into multi-channel format. Remember
          that AC3 encoding leads to quality loss, therefore it is preferable
          to use analogue connection for multi-channel formats.</li>
      </ul>

      <p> Formats supported by the external decoder are shown in the system settings
        page in <span class="option">SPDIF passthrough</span> section (refer
        to <a href="#filter_setup_system"> 6.5. System settings</a>).</p>

      <p> Note that the current mode can be changed during watching when the
        input stream format is changed. For instance, when watching DVD there
        is a possibility of audio tracks switching. At that, the track format
        can be changed. If the receiver supports only AC3 format then when switching
        from audio track of AC3 format to track of DTS format there will be switching
        from <span class="value">passthrough</span> mode to <span class="value">AC3
        encode</span> mode. </p>
    </div> 
    <div class="subsubchapter">
      <h4>6.2.2. Preset</h4>

      <p> All filter settings can be recorded as single composition of settings
        (<dfn>preset</dfn>) for fast uploading them later. There are several standard
        presets installed together with the filter:</p>

      <ul>
        <li><span class="value">Standard</span> - no additional processing performed,
          signal is transferred without any modifications.</li>
        <li><span class="value">Loud</span> - maximum loudness.</li>
      </ul>

      <p> <span class="value">Default</span> preset has special sense - it is
      uploaded during the filter uploading. </p>
    </div> <!-- <div class="subsubchapter"> -->
    
    <div class="subsubchapter">
      <h4>6.2.3. Gains</h4>

      <p> You should not use this option instead of player volume or system volume.
        An overflow and a noticeable decrease of playing quality can take place
        when there is a high gain. For more information, refer to <a href="#theory_loudness">7.1.
        Loudness and dynamic range</a>.</p>

      <p> <span class="option">Master</span> level defines the desirable gain level in
        dB. If the existing scale is insufficient, you can set the desirable
      gain level in the entry field without any restrictions. </p>

      <p> <span class="option">Gain</span> level reflects the current gain level.
        If there is no overflow then the <span class="option">Gain</span> level
        coincides with the <span class="option">Master</span> level. When an
        overflow takes place, the automatic gain control system decreases this
        level. Thus, changing of gain level can indicate too high <span class="option">Master</span> level
        set. </p>

      <p> Refer to <span class="option">Auto gain control</span> and <span class="option">One-pass
          norm</span> options of <a href="#filter_setup_mixer"> 6.3. Mixer settings</a> section. </p>
    </div> <!-- <div class="subsubchapter"> -->

    <div class="subsubchapter">
      <h4>6.2.4. Dynamic range compression (DRC)</h4>
      
      <p> <span class="option">DRC Enabled</span> checkbox switches dynamic range
        compression function. The first level defines compression level of the
        dynamic range. The second level reflects the current gain level. For
        more information, refer to <a href="#theory_loudness">7.1. Loudness and
        dynamic range</a>. </p>
    </div> <!-- <div class="subsubchapter"> -->

    <div class="subsubchapter">
      <h4>6.2.5. Decoder info.</h4>

      <p> It displays type and parameters of the current audio stream. <span class="option">Input</span> row
        reflects type of input stream. Text box displays the format information.
        Decoders for different formats display different information, including: </p>

      <ul>
        <li>speakers - channel configuration of the stream</li>
        <li>sample rate</li>
        <li>bitrate</li>
        <li>stream - bit stream type (8/14/16 bit big/little endian)</li>
        <li>frame size</li>
        <li>nsamples - number of samples per frame</li>
      </ul>

      <p> <span class="option">Frames/errors</span> fields reflect the decoder statistics:
        number of decoded frames / number of error frames. There must be no errors
        in normal operating mode!</p>
    </div> <!-- <div class="subsubchapter"> -->

    <div class="subsubchapter">
      <h4>6.2.6 Processor usage (CPU).</h4>

      <p> This indicator shows the usage of CPU resources by the filter. </p>
    </div> <!-- <div class="subsubchapter"> -->

    <div class="subsubchapter">
      <h4>6.2.7 Levels.</h4>

      <p> Here the current input and output peak levels of signal are displayed.
        They are shown in a logarithmic form. When there is an overflow output
        level indicators become red. In this case, it is recommended to reduce
        gain (<span class="option">Gain</span> level), since overflow means appearing
        of distortions (refer to <a href="#theory_loudness">7.1. Loudness and
        dynamic range</a>). </p>
    </div> <!-- <div class="subsubchapter"> -->

  </div> <!-- <div id="filter_setup_main" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_mixer" class="subchapter">
    <h3><a name="filter_setup_mixer">6.3. Mixer settings</a></h3>

    <p> This page contains settings for mixing control. </p>

    <div class="image">
      <img src="pic/dlg_mixer.png" alt="" height="427" width="623">
    </div>

    <div class="subsubchapter">
      <h4>6.3.1. Matrix</h4>
      <p> The main element of this page is mixing matrix. It is represented in
      a form of matrix multiplication: </p>
      <div class="image">
        <img alt="" src="pic/matrix.gif" height="132" width="331">
      </div>
      <p> Simpler it means that there is a following rule for every cell: we
        mix the channel given by the column into the channel given by the row
        with gain given by the cell. Therefore, if we want to direct left channel
        into right channel we should set the value of cell on the cross of 'L'
        column and 'R' row as 1. Then we will hear both left and right channels
      from right channel. </p>
      <p> It is necessary to clear the difference between input and output channels.
        Input channel is information that was encoded in original stream. Output
      channel is that of we will hear from speakers. </p>
      <p> Matrix row defines the contents of output channel (speaker) given by
        this row. Therefore, the first row of the matrix above indicates sound,
      which will be heard from the left speaker:</p>
      <p>L' = 1 * L + 0.7071 * C + 1 * SL + 1 * LFE</p>
      <p> i.e. from the left speaker we will hear the left channel, part of the
        central channel, the left rear and the low frequency effects channel.
        Thus, mixing from 6 original channels into 2 stereo channels is performed
      (downmix). </p>
      <p> One important property of matrix is that when swapping contents of
        two matrix rows we can 'interchange' appropriate speakers. Therefore,
        swapping of the first and the third rows results in 'interchange' between
        the left and right speakers. This property can be used to rearrange speakers
      without their physical switching. </p>
      <p> Values of the matrix column show the target of the channel mixing.
        Therefore, the central channel is directed both to the left and right
        speakers with the 0.7 factor (otherwise the center outgoing from two
        speakers, will sound louder than if we would have the real third speaker).
        Thus, we will hear the central channel in the middle of the left and
        right speakers. Changing factor of the left or right channel you can
        'move' the center. Thus, setting ' Ñ ' column value of the 'L' row as
        1 will result in louder sound effect of the center from the left channel.
      The center will seem to be moved to the left. </p>
      <p> In most cases there’s no need to change the matrix manually: when the <span class="option">AutoMatrix</span> option
        is on the mixing matrix is calculated automatically based on the following
        parameters: speakers mode, <span class="option">Voice</span>, <span class="option">Surround</span>, <span class="option">LFE
        levels</span>, <span class="option">Normalize matrix</span>,
        <span class="option">Voice control</span>, <span class="option">Expand
        stereo</span> options. Thus,
        level changing for the central (voice) channel will result in changes
        of matrix coefficients (column 'C'). </p>
    </div>

    <div class="subsubchapter">
      <h4>6.3.2. Gains.</h4>
      <p><span class="option">Master/Gain</span> - desirable and current gain
        level (refer to <a href="#filter_setup_main"> 6.2. Main settings</a> ). </p>
      <p><span class="option">Voice</span> - gain level of the center channel.
        If the input signal contains real central channel, then this level affects
        only on this channel. If there is no central channel but <span class="option">Voice
        control</span> flag is set, this level controls the level of 'virtual'
        center. This level is a matrix parameter, so it makes sense only when
        the <span class="option">Auto matrix</span> option is on. When changing
        level the matrix is recalculated. </p>
      <p><span class="option">Surround</span> - rear gain level. If there are
        rear channels in input signal then this level affects only on them both
        in case of down mixing (in this case level of rear channels mixing into
        front channels is controlled) or without it (i.e. just control channel
        levels in respect of the frontal channels). If there are no rear channels
        in source but <span class="option">Expand stereo</span> flag is set,
        then this level controls the level of 'virtual' rear. This level is a
        matrix parameter, so it makes sense only when the <span class="option">Auto
        matrix</span> option is on. When changing level the matrix is recalculated. </p>
      <p><span class="option">LFE</span> - LFE channel level. This level is a
        matrix parameter, so it makes sense only when the <span class="option">Auto
        matrix</span> option is on. The matrix is recalculated when changing
        the level. </p>
    </div>

    <div class="subsubchapter">
      <h4>6.3.3. Options</h4>
      <ul>
        <li><span class="option">Auto gain control</span> - this option reduces
          the current gain level to avoid an overflow. <span class="option">Gain</span> indicator
          displays the current gain level. When this option is off the extremely
          strong signal will be cut off resulting in distortions, which are unpleasant
          to hear. If the option is on then in case of overflow the sound becomes
          quieter thereby excluding overflow. System behavior after overflow
          is defined by <span class="option">One-pass norm</span> option. If
          this option is off the current level will return to adjusted <span class="option">Master</span> level.
          At that, this level specifies an average gain level. If there are many
          locations with overflows such behavior may result in unpleasant leaps
          of loudness, therefore you should not set the <span class="option">Master</span> level
          at extremely high value. It is recommended to use this mode when overflow
          is not expected or when it appear relatively rarely. If <span class="option">One-pass
          norm</span> option is on gain level is not recovered after overflow.
          Thus, every overflow reduces probability and 'intensity' of next overflows,
          therefore after some time the gain level adjusts to a certain average
          value and keeps around it thereafter. As a rule, level becomes stable
          (and the current level is displayed by the <span class="option">Gain</span> level)
          after ~10 minutes of film playing. This mode is used to reach the highest
          possible loudness with minimum of possible artifacts. In this case,
          the <span class="option">Master</span> level acts as an initial gain
          value for the one-pass normalization operation; therefore, usually
          it is adjusted at maximum. For more information, refer to <a href="#theory_loudness">7.1.
          Loudness and dynamic range</a>. </li>
        <li><span class="option">One-pass norm</span> - one-pass normalization.
          Refer to <span class="option">Auto gain control</span>. </li>
        <li><span class="option">Auto matrix</span> - automatic calculation of
          the mixing matrix. When this option is on you cannot edit the matrix
          directly. <span class="option">LFE</span>, <span class="option">Voice</span> and <span class="option">Surround</span> gain
          levels are parameters for matrix calculation; when changing them matrix
          is changed immediately. When this option is off the following control
          elements loose their effect: <span class="option">LFE</span>, <span class="option">Voice</span> and <span class="option">Surround</span> gain
          levels, <span class="option">Normalize matrix</span>, <span class="option">Expand
          stereo</span>, <span class="option">Voice control</span> options. Then
          ability of direct editing of the mixing matrix is available. </li>
        <li><span class="option">Normalize matrix</span> - When this option is
          active, the mixing matrix is normalized to ensure that no overflows
          occur in output channels (the sum of the output channels ? 1). But
          at the same time, changing of <span class="option">LFE</span>, <span class="option">Voice</span> and <span class="option">Surround</span> gain
          levels may lead to loudness redistribution (for instance, when increasing
          LFE loudness , loudness of other channels will decrease) that is not
          always convenient. Besides, in most cases matrix normalization strongly
          reduces total loudness. Switching this option off allows to avoid those
          effects, however possibility of overflow appears at the same time. </li>
        <li><span class="option">Expand stereo</span> - takes effect only if
          there are no rear channels in input signal. This option allows to control
          gain level of the virtual environment by means of <span class="option">Surround</span> level.
          If there are rear speakers in output speakers configuration the separated
          environment information is redirected that way. </li>
        <li><span class="option">Voice control</span> - takes effect only if
          there is no central channel in input signal. This option allows to
          control gain level of the virtual center by means of <span class="option">Voice</span> level.
          If there is a central channel in output speakers configuration, the
          separated virtual center is redirected that way. This option together
          with <span class="option">Expand stereo</span> option allows to decompose
          the stereo signal to 5 speakers. </li>
        <li><span class="option">Bass redirection</span> - bass redirection from
          all channels to subwoofer. It takes effect only if there is a subwoofer
          in output speakers configuration. This option is recommended for systems
          with separate subwoofer (refer to <a href="#theory_lfe"> 7.2. What
          is LFE?</a> ). You can set the cutoff frequency (Hz) in entry field. </li>
      </ul>
    </div>

    <div class="subsubchapter">
      <h4>6.3.3. Matrix</h4>

      <p> <span class="option">Matrix</span> selection list allows to save and upload matrices. </p>
    </div>
  </div> <!-- <div id="filter_setup_mixer" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_gains" class="subchapter">
    <h3><a name="filter_setup_gains">6.4. Gains</a></h3>
    
    <p> This page contains gain level settings: </p>
    
    <div class="image">
      <img alt="" src="pic/dlg_gains.png" height="427" width="623">
    </div>
    
    <div class="subsubchapter">
      <h4>6.4.1. Gains</h4>
      
      <p><span class="option">Master/Gain</span> - desirable and current gain level
        (refer to <a href="#filter_setup_main"> 6.2. Main settings</a> ). </p>
  </div>
    
    <div class="subsubchapter">
      <h4>6.4.2. Dynamic range compression (DRC)</h4>
      
      <p> <span class="option">DRC Enabled</span> checkbox switches dynamic range
        compression function. The first level defines compression level of the dynamic
        range. The second level reflects current gain level. For more information,
        refer to <a href="#theory_loudness">7.1. Loudness and dynamic range</a>. </p>
    </div>

    <div class="subsubchapter">
      <h4>6.4.3. Delays</h4>
      
      <p> These are delays for each output channel. Delay values can be set in different
        units (<span class="option">Units</span> selection list). Positive values for time
        units mean that positive delay will be introduced, i.e. the sound will
        be delayed. Conversely, positive values for distance units mean negative
        delay, i.e. the sound will be played 'in advance'. In both cases, there
      can be negative delay values. There are two main applications of delays: </p>
      <ul>
        <li> Compensating of distance difference between speakers. Acoustic wave
          needs certain time to reach listener, therefore, ideally all speakers must
          be located at equal distance from listener, so as the sound simultaneously
          produced by all speakers at a certain time could reach listener simultaneously.
          Otherwise, sounds will be in wrong positions. However, the distance to
          speakers may differ in practice. The farther the speaker, the earlier sound
          produced by it must be played. To compensate this defect you can set distances
        to speakers directly. </li>
        <li> Ambisonic effect creation when decomposing stereo record to multi-channel
          system. Introduction of additional delay to rear channels can enhance the
        ambisonic effect. </li>
      </ul>
    </div>
    
    <div class="subsubchapter">
      <h4>6.4.4. Input gains</h4>
      
      <p> Gain levels of input channels. Sometimes it is required to change gain
        levels namely of input channels. That's the case when the input signal has
        a central channel while the output one has no central channel (the center
        is mixed to front channels), and it is required to change dialog level namely.
      I.e. these levels are intended for record defects compensation. </p>
    </div>

    <div class="subsubchapter">
      <h4>6.4.5. Output gains</h4>
      
      <p> Gain levels of output channels. These levels serve for speakers loudness
        equalization (if speakers are located asymmetrically). In other words, they
      serve for compensation of acoustic system defects. </p>
  </div>

  </div> <!-- <div id="filter_setup_gains" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->

  <div id="filter_setup_system" class="subchapter">
    <h3><a name="filter_setup_system">6.5. System settings </a></h3>
    
    <p> This page reflects system settings (which have no direct influence on
    sound): </p>
    
    <div class="image">
      <img alt="" src="pic/dlg_system.png" height="427" width="623">
    </div>
    
    <div class="subsubchapter">
      <h4>6.5.1. Use AC3Filter for ...</h4>
      
      <p> It defines the cases of AC3Filter use. </p>
      <ul>
        <li> PCM - use AC3Filter for post-processing of all audio streams. To
          use this mode the filter must have high priority (refer to <span class="option">Filter
          merit</span> option further in this section). </li>
        <li> AC3 - use AC3Filter for AC3 decoding </li>
        <li> DTS - use AC3Filter for DTS decoding </li>
        <li> MPEG Audio - use of AC3Filter for MPEG Audio decoding </li>
        <li>PES (DVD) - use AC3Filter for audio decoding in MPEG1/MPEG2 PES streams.
          This mode is required for DVD/VideoCD playing. </li>
      </ul>
    </div>
    
    <div class="subsubchapter">
      <h4>6.5.2. SPDIF passthrough</h4>
      
      <p> This setting defines formats supported by external decoder and being transferred
        without any modifications when digital output is used. It makes sense
        only if the <span class="option">SPDIF</span> option is on (refer to <a href="#filter_setup_main"> 6.2.
      Main settings</a>). </p>
    </div>
    
    <div class="subsubchapter">
      <h4>6.5.3. Filter merit</h4>

      <p> The filter is installed into the system with the highest priority, i.e.
        it will be used instead of any other decoders installed. If it is required
        to use other decoders by any reasons, the priority can be decreased to minimum
        using the <span class="option">Prefer other decoder</span> option. Filter will stay
        in system and will be used only if there are no other decoders installed. <span class="option">Prefer
      AC3Filter</span> option means the high priority. </p>
    </div>
    
    <div class="subsubchapter">
      <h4>6.5.4. Default audio renderer</h4>

      <p> Audio card can operate in two modes: DirectSound and WaveOut. If there
        are some problems occur when using the filter (e.g. SPDIF is inoperative),
        sometimes they can be solved by switching of operating mode. Some players
        have settings to change output device (refer to <a href="#player_setup"> 5.
        Player setup</a>), others use the default system settings. To switch
        the operating mode use <span class="option">Use DirectSound</span> option for DirectSound
        interface, and <span class="option">Use WaveOut</span> option for WaveOut interface.
        This option changes the system global settings! Thus, it is preferably
        to use native settings of player if possible. </p>
      <p> This option takes effect only if the player uses the default output device
      or if it has appropriate settings. </p>
    </div>
    
    <div class="subsubchapter">
      <h4>6.5.5. Audio/Video sync</h4>
      <p> In some cases, audio and video can be non-synchronized. Generally, this
        can occur due to incorrect mixing of video file, but the hardware causes
        of desynchronization are possible too. This option is intended to solve <em>hardware</em> problems.
        It can be used for defect correction of certain file, but do not forget
        to change it back! Here shift between audio and video is specified in ms.
        If sound is heard <em>before </em>video you should <em>increase</em> this
        value. If sound occurs <em>after</em> picture on the screen, you should <em>decrease</em> the
      value. This option helps to correct constant time shift only. </p>
      <p> Option takes effect immediately. When changing the delay value the picture
      can freeze or jerk within several seconds. </p>
  </div>
  </div> <!-- <div id="filter_setup_system" class="subchapter"> -->
</div> <!-- <div id="filter setup" class="chapter"> -->

<!-- ==========================================================================
                                  Theory
=========================================================================== -->

<div id="theory" class="chapter">
  <h2><a name="theory">7. Theory </a></h2>

  <p> Audio quality is a very complex concept depending on a huge number of factors
    and their relationship: type of acoustic system, listening conditions, quality
    of original record, listener himself, and many others. It is impossible to
    give some unique recommendations about how to reach good quality. There is
    no any unique formula and ideal sound: the record prepared for one listening
    conditions can sound absolutely unacceptable in other environment. However,
    we will try to present some of basic principles, which can help to understand
    what to do in each specific case. Therefore, it is strongly recommended to
  read this section for full understanding of filter abilities. </p>

  <!-- ---------------------------------------------------------------------- -->

  <div id="theory_loudness" class="subchapter">
    <h3><a name="theory_loudness"></a>7.1. Loudness and dynamic range</h3>
    
    <div class="subsubchapter">
      <h4>7.1.1. What is loudness</h4>

      <p> This question, which seems to be clear is hard enough to formalize,
      since different cases imply absolutely different things.</p>
      
      <p> The sense of loudness is most clear when speaking about <dfn>acoustic
      pressure</dfn>, since that is directly perceived by ear. </p>
      
      <blockquote> <dfn>Acoustic pressure</dfn> is an additional pressure, which
        occurs when the acoustic wave passes through liquid or gaseous medium.
        When propagating through medium acoustic wave forms some compressions
        and depressions, which make additional variation of pressure with respect
        to average value of medium pressure. Thus, the acoustic pressure is a
        variable part of pressure, i.e. variation of pressure with respect to
        average value with frequency corresponding to acoustic wave frequency.
      (Great Soviet Encyclopedia) </blockquote>

      <p> Thus, we can measure any sound - loud sounds produce high pressure,
        quiet ones produce low pressure. The pressure is measured in Pascals,
        however, in acoustics it is usually measured in <dfn>decibels</dfn> (dB)
        with respect to the <dfn>hearing threshold</dfn>. By definition, the value
        of hearing threshold is accepted to pt = 0.00002 Pa = 20 mkPa. The hearing
        threshold is taken as 0 dB and <dfn>loudness</dfn> is calculated as l = 20 * log(p
        / pt), where l [dB] is loudness (in terms of acoustic pressure), p [Pa]
        is acoustic pressure, pt [Pa] is hearing threshold. At the same time,
        all audible sounds have positive loudness value; all inaudible sounds
        (below the hearing threshold) have negative value; loudness change by
        6 dB corresponds to the double change in pressure; change by 20 dB corresponds
        to the tenfold change in pressure. Loudness in terms of acoustic pressure
      we will call an <dfn>absolute loudness</dfn>. </p>
      
      <p> Here are some typical loudness values: </p>
      
      <table align="center" border="1" cellpadding="2" cellspacing="2" width="80%">
        <tbody>
          <tr>
            <td align="center"><b>Sound</b></td>
            <td align="center"><b>Loudness</b></td>
            <td align="center"><b>Pressure</b></td>
          </tr>
          <tr>
            <td>Hearing threshold </td>
            <td>0dB</td>
            <td>20 mkPa</td>
          </tr>
          <tr>
            <td> Rustling of leaves and gentle breeze <br>
              Wristwatch ticking<br>
            Breath</td>
            <td>10-20dB</td>
            <td>60 - 200 mPa</td>
          </tr>
          <tr>
            <td>Quiet whisper<br>
              Clock ticking</td>
            <td>20-30dB</td>
            <td>200 - 600 mPa</td>
          </tr>
          <tr>
            <td>Noise indoors </td>
            <td>30-40dB</td>
            <td>0.6 - 2 mPa</td>
          </tr>
          <tr>
            <td>Quiet conversation</td>
            <td>40-50dB</td>
            <td>2 - 6 mPa </td>
          </tr>
          <tr>
            <td>Normal conversation</td>
            <td>50-60dB</td>
            <td>6 - 20 mPa </td>
          </tr>
          <tr>
            <td>Loud conversation</td>
            <td>60-70dB</td>
            <td>20 - 60 mPa </td>
          </tr>
          <tr>
            <td>Noisy street</td>
            <td>70-80dB</td>
            <td>60 - 200 mPa</td>
          </tr>
          <tr>
            <td>Noise of the truck engine </td>
            <td>~80dB</td>
            <td>200 mPa</td>
          </tr>
          <tr>
            <td> Underground railroad noise on the run <br>
            Chisel hammer</td>
            <td>~90dB</td>
            <td>600 mPa </td>
          </tr>
          <tr>
            <td> Loud disco </td>
            <td>100-120dB</td>
            <td>2 - 20 Pa </td>
          </tr>
          <tr>
            <td> Plane taking-off </td>
            <td>120dB</td>
            <td>20 Pa</td>
          </tr>
          <tr>
            <td> Pain threshold </td>
            <td>130dB</td>
            <td>60 Pa</td>
          </tr>
        </tbody>
      </table>
      
      <p> Note the perceived pressure range: hearing threshold pressure and pressure
        produced by plane differ in million times! Therefore, the logarithmic
        scale is in a better accordance with the ear physiology - the linear
        change of acoustic pressure does not correspond with sense of loudness
        linear change. For instance, change of acoustic pressure by 50 mPa during
        conversation will be extremely sensible; however, it will be absolutely
        insensible during plane taking-off. But change of acoustic pressure by
        6 dB (in twice) will be perceived as an approximately equal loudness
        change in both cases, though in the first case it will correspond to
      change of pressure by 25 mPa, and in second case - by 10 Pa.</p>
      
      <p> Another type of loudness is a <dfn>record loudness</dfn> (<dfn>signal
          loudness</dfn>). This loudness is not an acoustic pressure (it can
          be voltage, magnetic polarization, etc.), however acoustic pressure
          is produced by acoustic system in accordance with loudness of recorded
          signal. Each certain signal loudness corresponds to the certain acoustic
          pressure. Signal loudness can also be measured in decibels. However,
          while the acoustic pressure is usually measured with respect to hearing
          threshold (minimum audible acoustic pressure), loudness of digital
          signal is usually measured with respect to maximum digital level accepted
          as 0 dB. Thus, loudness of digital signal is represented by negative
          values (-3 dB, -20 dB) since the record loudness must always be lower
          than the maximum one. The lower loudness value, the quieter the signal
          (-20 dB is quieter than -3 dB). Positive loudness of the digital signal
          means overflow and results in appearance of digital distortions. (These
      distortions will be considered later).</p>
      
      <p> Volume controls of amplifier, in system settings, of player do not
        produce any acoustic pressure at all. Without signal even at maximum
        volume settings, we will hear nothing (with the assumption that the playing
        system does not produce any noise). Therefore, these settings affect
        loudness indirectly only and have sense of signal <dfn>gain</dfn>. (The
        gain may mean the signal decay too). From here, we will not use the term
        of loudness for gain levels notation except <dfn>system loudness</dfn> since
        this is established term. We will consider gain level set both in operating
      system settings and in player, amplifier/receiver, etc. as system loudness. </p>
      <p> Gain level can also be measured in decibels. It is convenient since
        in this case the signal loudness and the gain level are simply summed.
        For instance, signal with loudness of 70 dB gained by 10 dB will sound
        with loudness of 80 dB. However though loudness and the gain are measured
      in same units you should distinguish them. </p>
      <p> During playing, the recorded signal is converted into acoustic pressure
        using acoustic system. Let the maximum pressure produced by acoustic
        system is 100 dB. Then the record with loudness of 0 dB will produce
        pressure of 100 dB, the record with loudness of - 30 dB will produce
        pressure of 70 dB, etc. When changing the gain level the absolute loudness
        will change too. Therefore, when changing the gain level you can always
        set up a correspondence between the record loudness and the required
        absolute loudness. For instance, if the conversation level in movie is
        -30 dB and we want to hear these dialogues with natural loudness, the
        record loudness must correspond to the pressure of 50 dB. Since when
        the gain level is maximum (0 dB) the record level of -30 dB produces
        pressure of 70 dB (too high), while when the level is -20 dB the same
        record loudness produces the required 50 dB of pressure. Acoustic system
        adjusted in such way is called <dfn>calibrated</dfn>, i.e. the calibrated
        acoustic system is a system with sounds with the correct absolute loudness
        produced. (In fact, the calibrating process can be much more complex
        and can include much more parameters, however here and further we will
        talk about loudness calibrating only). Most of household devices have
        no labels of the gain level control (or there can be some abstract percents
        or other meaningless characters), therefore, it is difficult for user
      to make a precise calibration of acoustic system. </p>
      <p> Hearing <dfn>adaptation</dfn> also affects loudness perception. Hearing
        adapts to loudness of surrounding noise and corrects loudness perception
        accordingly. Certainly, you could see that the man with earphones where
        loud music is playing begins to talk louder (with point of perception
        of people around him), however with his point of view it is normal speech
        loudness (with respect to loudness of earphones sound). Otherwise, in
        full silence, people begin to whisper and nevertheless it seems to be
        loud. In conditions of normal city noise, it is difficult to hear ticking
        of mechanical watches - this sound is perceived as very quiet. But the
        same watch ticking in full silence at night can be perceived as clear
        heard sound. Thus, the third type of loudness appears - <dfn>subjective
        loudness</dfn>. We will not discuss some kinds of subjective loudness
      measuring, just talk about qualitative comparing of sounds (louder-quieter). </p>
      <p> Thus, sound with the same absolute loudness can be perceived as loud
        or quiet depending on the environment. Assume that we have adjusted the
        gain level so as the dialogue loudness in the movie approximately corresponds
        to reality. So if there is a sound of watch ticking in silence in the
        movie then we will not hear this sound at all when watching the movie
        since it is significantly quieter then the surrounding noise and our
        hearing is adapted to eliminate the surrounding noise. In good hearing
        conditions when there is no surrounding noise the same watches will be
      heard clearly. </p>
      <p> In most cases, it is convenient to measure record loudness with respect
        to some reference level. For instance, if the record loudness is -20
        dB, is it loud or quiet? And if we know that the dialogue loudness in
        the same record is -30 dB we can just say that it is loud enough, and
        if dialogue loudness is -10 dB, we can say that it is quiet enough. <dfn>Dialogue
        level</dfn> (average loudness of the conversation) is a very convenient
        reference level, which can be used for orienting. If sound loudness of
        10 dB is higher than the dialogue level then it is loud, and if loudness
        of 10 dB is lower than the dialogue level then it is quiet. At the same
        time the dialogue level can be arbitrary and depend on the record - one
        record may have dialogue level of -10 dB, and the other one may have
        dialogue level of -30 dB. Anyway, all sounds with loudness which is lower
        than the dialogue level will be perceived like quiet sounds, while ones
        with loudness which is higher than the dialogue level will be perceived
        like the loud sounds, even if the system have been calibrated incorrectly,
        and dialogues will sound with absolute loudness of 40 dB or 60 dB. Due
        to the property of adaptation, hearing adapts to the current average
        loudness and introduces an appropriate 'correction'. However, the correct
        perception of loudness will be broken when loudness of surrounding noise
        is approaching dialogue loudness (or even exceeds it). In such a case,
      all sounds played will seem to be quiet. </p>
      <p> Thus, we can introduce one more loudness scale (in addition to the
        digital signal loudness scale and the absolute loudness scale) - loudness
        with respect to the dialogue level. When comparing different loudness
      we will get the follows: </p>
      <br>
      <table align="center" border="1" cellpadding="2" cellspacing="2" width="80%">
        <tbody>
          <tr>
            <td bgcolor="#ccccff" valign="top"></td>
            <td bgcolor="#ccccff" valign="top">Absolute loudness of real sounds</td>
            <td bgcolor="#ccccff" valign="top">Loudness with respect to the dialogue level</td>
            <td bgcolor="#ccccff" valign="top">Record level-1</td>
            <td bgcolor="#ccccff" valign="top">Record level-2</td>
            <td bgcolor="#ccccff" valign="top">Absolute loudness during record playing 1</td>
            <td bgcolor="#ccccff" valign="top">Absolute loudness during record playing 2</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#99ff99" valign="top"><b>Quiet sounds</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Quiet whisper</td>
            <td bgcolor="#99ff99" valign="top">10dB</td>
            <td bgcolor="#99ff99" valign="top">-40dB</td>
            <td bgcolor="#99ff99" valign="top">-70dB</td>
            <td bgcolor="#99ff99" valign="top">-50dB</td>
            <td bgcolor="#99ff99" valign="top">10dB</td>
            <td bgcolor="#99ff99" valign="top">10dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Noise norm in living quarters</td>
            <td bgcolor="#99ff99" valign="top">20..30dB</td>
            <td bgcolor="#99ff99" valign="top">-20..-30dB</td>
            <td bgcolor="#99ff99" valign="top">-50..-60dB</td>
            <td bgcolor="#99ff99" valign="top">-30..-40dB</td>
            <td bgcolor="#99ff99" valign="top">20..30dB</td>
            <td bgcolor="#99ff99" valign="top">20..30dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Quiet conversation</td>
            <td bgcolor="#99ff99" valign="top">40dB</td>
            <td bgcolor="#99ff99" valign="top">-10dB</td>
            <td bgcolor="#99ff99" valign="top">-40dB</td>
            <td bgcolor="#99ff99" valign="top">-20dB</td>
            <td bgcolor="#99ff99" valign="top">40dB</td>
            <td bgcolor="#99ff99" valign="top">40dB</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#99ffff" valign="top"><b>Dialogue level</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Normal conversation</td>
            <td bgcolor="#99ffff" valign="top">50dB</td>
            <td bgcolor="#99ffff" valign="top">0dB</td>
            <td bgcolor="#99ffff" valign="top">-30dB</td>
            <td bgcolor="#99ffff" valign="top">-10dB</td>
            <td bgcolor="#99ffff" valign="top">50dB</td>
            <td bgcolor="#99ffff" valign="top">50dB</td>
          </tr>
          <tr align="center">
            <td colspan="1" rowspan="1" bgcolor="#ccccff" valign="top"></td>
            <td rowspan="1" colspan="6" bgcolor="#ffcccc" valign="top"><b>Loud sounds</b></td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Noise of a typewriter</td>
            <td bgcolor="#ffcccc" valign="top">70dB</td>
            <td bgcolor="#ffcccc" valign="top">+20dB</td>
            <td bgcolor="#ffcccc" valign="top">-10dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB (maximum)</td>
            <td bgcolor="#ffcccc" valign="top">70dB</td>
            <td bgcolor="#ffcccc" valign="top">60dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Noise of truck engine working</td>
            <td bgcolor="#ffcccc" valign="top">80dB</td>
            <td bgcolor="#ffcccc" valign="top">+30dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB (maximum)</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">80dB</td>
            <td bgcolor="#ffcccc" valign="top">60dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top">Loud horn within at a distance of 5-7 m</td>
            <td bgcolor="#ffcccc" valign="top">100dB</td>
            <td bgcolor="#ffcccc" valign="top">+50dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">80dB</td>
            <td bgcolor="#ffcccc" valign="top">60dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top"> Noise of a tractor working at
            a distance of 1 m </td>
            <td bgcolor="#ffcccc" valign="top">120dB</td>
            <td bgcolor="#ffcccc" valign="top">+70dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">80dB</td>
            <td bgcolor="#ffcccc" valign="top">60dB</td>
          </tr>
          <tr>
            <td bgcolor="#ccccff" valign="top"> Pain threshold </td>
            <td bgcolor="#ffcccc" valign="top">130dB</td>
            <td bgcolor="#ffcccc" valign="top">+80dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">0dB</td>
            <td bgcolor="#ffcccc" valign="top">80dB</td>
            <td bgcolor="#ffcccc" valign="top">60dB</td>
          </tr>
        </tbody>
      </table>
      <p> There are also two hypothetical records made in different environments
        given in the table: dialogue level of record-1 is -30 dB while that of
        record-2 is -10 dB. It is clear that when playing on calibrated system
        the first record transfers loud sounds much better - it is possible to
        reproduce sounds with loudness up to 80 dB, while the second record reproduces
      sounds with loudness up to 60 db only. </p>
      <p> Note that two mentioned records require different calibration of acoustic
        system. Thus, for acoustics that is able to produce 100 dB pressure the
        gain level required for the first record is -20 dB, and that required
        for the second record is -40 dB. Hence, the first record requires significantly
        higher gain and the first record will sound significantly quieter when
        the gain level settings are equal. Therefore, the second record is suitable
        for non-calibrated systems since it allows strong deviations of the gain
      level. </p>
      <p> Thus, record-1 transfers loud sounds well but requires higher gain
        level; if there is an insufficient gain or some external noise this record
        will be perceived like extremely quiet. Record-2 does not require high
        gain, it is heard well even if the gain levels are low or some noise
      exists, but this record cannot transfer loud sounds well. </p>
      <p> And now let's remember that audio signal is alternating:</p>
      <div class="image">
        <img alt="" src="pic/a_signal.png" height="362" width="623">
      </div>
      <p> What is required for loudness evaluation? Obviously, variation of pressure
        for one period of acoustic wave has no sense of sound loudness change
        since we cannot hear single oscillation. Therefore, we must find loudness
        within the certain time interval but not for one point. There are many
        different methods for loudness evaluation. The simplest one is to find
        the maximum and to calculate the signal energy. More complex methods
        take into account the non-uniformity of hearing of sounds of different
      frequency and intensity. </p>
      <p> When finding loudness as maximum of the signal we scan the range looking
      for signal maximum: </p>
      <div class="image">
        <img alt="" src="pic/a_loudness.png" height="362" width="623">
      </div>
      <p> The found level in dB will define loudness. To distinguish this loudness
        from ones obtained by other methods it is called the <dfn>peak level</dfn>.
        From here, we will use only this loudness definition. In fact, this definition
        does not reflect the real loudness perception well but it is convenient
        for the next discussion, therefore we will not consider in details any
      other methods of loudness evaluation even if they are more precise. </p>
    </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.2. Loudness histogram</h4>
      
      <div class="image">
        <img alt="" src="pic/h_fightclub.png" height="444" width="534">
      </div>
      <p> This picture illustrates loudness distribution of typical DVD movie (DVD
        FightClub, hereinafter we will consider only original audio tracks with
        no transformation and no mixing in order not to distort sound pattern).
        X axis reflects loudness in decibels, Y-axis reflects occurrence rate of
        sound of this loudness. It is better to say that during the movie playing
        the current loudness have been continuously controlled. The more often a
        loudness occurred during the movie playing the higher the histogram of this
        part. I.e. we can say that there are few explosions in the movie but at
        the same time, there are many different background sounds. The histogram
      is divided into the several conventional areas: </p>
      <ol>
        <li> Voice. A dialogue level for movies is one of most important parameters.
          It is the reference point for all other sounds: sounds with lower level
          are considered as quiet sounds while the sounds with higher level are
          considered as loud ones. Good audibility of dialogues is one of the
          main setting criteria (we will discuss this setting below). </li>
        <li> Background sounds - the cars going by, footfall sounds, background
          music </li>
        <li> Extremely quiet sounds - light breeze, grass rustling, etc. </li>
        <li> Loud sounds - phone ringing, impact sounds, and so on </li>
        <li> Explosions and other global crashes </li>
        <li>Record noise</li>
      </ol>
            
      <p> Boundaries between areas are rather conventional and can be modified
        for different records. In this case, <em>it is known</em> that the dialogue
      level is -27 dB. </p>
      <p> Looking at the histogram, we can note some interesting moments. Firstly,
        the most often sounds in the movie were the ones with loudness of -40 dB.
        Let us just note this fact for now. Secondly, the main hump of histogram
        is located in area from 0 dB (maximum level) to -70 dB (minimum level).
        It is reasonable to assume that all significant sounds are inside of this
        hump while the quieter sounds are just a noise. This value is called dynamic
      range and will be very important further. </p>
      <p> This situation is typical enough for DVD movies. Dialogues take much time;
        background sounds and music take a little more time; some loudness surges
        occur periodically with the following decays. Generally, sound pattern of
        this movie is balanced enough and practically full available dynamical range
      is used. </p>
      <p> Let’s look at some other movies: </p>
      <a name="theory_loudness_pic_movies"></a>
      <div class="image">
        <img alt="" src="pic/h_movies.png" height="475" width="612"><br>
        <small>(Dialogue level for all movies is -27 dB)</small>
      </div>
      <p> These examples can be divided into two large groups. First group is characterized
        by almost full absence of loud sounds (Cube, Dracula, About Schmidt, Savior).
        Loudness range from 0 dB to -15 dB (very loud sounds) is not practically
        used here. Otherwise, loud sounds are extremely important for the second
        group of movies (Interstate60, Blood (Last Vampire), Pitch Black, Matrix).
        It seems that the number of these sounds is relatively small and they play
        no special role. However, for instance, the sound of a shot has duration
        of a split second (the louder part) but exactly high loudness accentuates
        this sound. If this sound was quieter there would be an effect of ‘flatness’
        and inexpressiveness of the sound. Even when occurring once during the movie
        loud sound has no great sense in movies of the first type ('quiet' movies);
        therefore its loudness is not critical so much. Otherwise, in movies of
        the second type those sounds (even with the small duration) form the mood
      of the movie. </p>
      <p> Another conspicuous feature - high 'humps' in Cube and Interstate 60 movies.
        There is a constant quiet background hum in the Cube movie. This is why
        the graph has 'hump' at loudness of approximately -50 dB. The same thing
        relates to the Interstate 60 movie - it is car travel and, consequently,
        there is a constant sound of moving car. Shapes of both histograms are very
        similar; however, the maximum of the histogram for the Interstate 60 movie
        is lower by 10 dB. As the voice levels are the same in both movies, one
        can immediately conclude that sound in the Cube movie is much quieter. This
        conclusion is far from an obvious one. Let us recall hearing adaptation
        - if we shift graphs to align their maximums at one level, the Cube movie
      will be perceived as 'quiet' all the same. </p>
      
      <p> The other movies have no such well-marked background sounds, so their
      graphs are more distributed across the dynamic range. </p>
      <p> About Schmidt movie has 'hump' at the level of -70 dB - -80 dB. These
        are recor ding noises; and they are relatively loud in this movie, as compared
      with other movies, but quiet enough and do not hinder viewing. </p>
      <p> So far, we considered solely movies. Now let us have a look at music: </p>
      <a name="theory_loudness_pic_music"></a>
      <div class="image">
        <img alt="" src="pic/h_music.png" height="451" width="623">
      </div>
      <p> Right off, it strikes the eye that distribution of loudness is absolutely
        different. ( To show a variety, there are histograms of various music styles
        having different quality collected. They do not show a real balance of different
        types of compositions .) All sounds are very much shifted towards the 'loud'
        part of the dynamic range. The difference between middle-level loudness
        of movies reaches 40 dB. Besides, a characteristic feature of the movies
        is a smooth decrease of the histogram in the loud area, whereas for music
        a histogram maximum often reaches the highest level (0 dB). A small number
      of such graphs is provided; nevertheless, such situation is very widespread. </p>
      <p> The dialogue level concept is often inapplicable to music, thus it is
        very difficult to separate loud and quiet sounds. Therefore, it is also
        difficult to determine a subjective loudness of a composition. So, a subjectively
        loud composition may be objectively quieter than a subjectively loud one.
        Positive or negative <em>drops</em> of the loudness have a great importance
      here; these drops are not visible on the histograms. </p>
      <p> Absence of a common reference mark results in a chaos - sounds from different
        sources have different loudness; difference between maximums of composition
        histograms reaches 20 dB. Besides, in general it is very difficult to formalize
        a concept of a 'composition's loudness' anyhow. Certainly, many people are
        familiar with a situation when there is a variety of music from different
        sources and during its successive playback (e.g., if music is recorded on
        an audio CD), loudness changes at every passing from one composition to
        another. It is unpleasant (the mentioned effect of a mismatch between actual
        loudness and subjective loudness may more embarrass a perception). The provided
      graphs illustrate this situation very well. </p>
      <p> Dynamic range of musical compositions (difference between the loudest
        and the quietest sounds) is 20-40 dB that is far less than dynamic range
      (70 dB) of movies. </p>
  </div>  
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.3. DVD loudness problem</h4>
      <p> The average loudness level of musical records (as well as of Windows system
        sounds) is notably higher than a loudness of DVD movies. Therefore, under
        the same settings of the system loudness the absolute loudness of movies
        will be significantly lower. In the presence of external noises loudness
        may turn out to be insufficient, hearing will be poor (sic!) and it will
        seem that the sound is of a poor quality. Gain increase in system settings
        and in amplifier, even to a maximum, may fail to resolve the problem: difference
        of average loudness reaches 40 dB; it is too high. However, even if an amplifier's
        power turns out to be sufficient and a DVD is played with sufficient absolute
        loudness it is not always suitable, as sounds of operating system, which
        have normal absolute loudness under normal gain settings, will be simply
      thundering. </p>
      <p> This problem is typical mainly for computer playback, as in hardware players
        gain level is controlled by the decoder itself. Some program DVD players
        are able to control the system loudness, but it is not always suitable,
        as in this case loudness of <em>all </em>system sounds will be changed (you
        may accidentally deafen your neighbors). Besides, in any case, the program
        cannot control loudness at an external amplifier. So, it is just a partial
      solution of the problem. </p>
      <p> A compromise solution is to process the sound immediately before playback.
        Such processing can greatly enhance quality of <em>certain</em> record playback
        under <em>certain</em> conditions. Many people may object that in doing
        so 'quality' will be lost; however, as it has been already mentioned, there
        is no absolute quality. We do not set ourselves a goal to <em>cue</em> the
        sound; our goal is to ensure a pleasant <em>listening</em> to it under our
        conditions. If an acoustic system does not have sufficient power or if you
        have nervous neighbors it will be just unpleasant to view a movie with lowered
        loudness when you cannot distinguish a half of words and a half of quiet
        sounds is not heard. Even self-suggestion that maximum quality is achieved
        will not smooth this impression. I should repeat once more the key idea: <em>quality
        is estimated by o</em><em>ur ears</em> . The sound passes many processing
        stages before it reaches a listener, and a variety of acoustic devices and
        their characteristics is so wide that the last processing stage before playback
      is actually a necessity. </p>
    </div>
      
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.4. Level change. Overflow, clipping and limiting.</h4>
      
      <p> Level change is simply multiplication of signal amplitude by a defined
        value. It results in a change (increase or decrease) of the entire signal
      loudness.</p>
      <div align="center"> <img alt="" src="pic/a_gain.png" height="354" width="448"> </div>
      <p> Logarithmically, multiplication by a number is just an addition of a constant.
        So, if the same number is added to all levels the levels' histogram will
      be simply shifted: </p>
      <div align="center"> <img alt="" src="pic/h_gain.png" height="409" width="596"> </div>
      <p> If we multiply the signal by a too big number, it may result in an overflow.
        If an overflow is not tracked the amplitude will be equal to virtually
        random values (see the figure), and this results in frequent clicks,
        which are very noticeable audibly. The easiest way to struggle with this
        defect is <dfn>clipping</dfn>. That is, a signal is clipped when
        its amplitude goes beyond limits (see the figure). If the overflow is
        small, the clipping is almost imperceptible audibly; however, when the
        level increased clipping is heard in the sound as 'sand'. </p>
      <div align="center"> <img alt="" src="pic/a_overflow.png" height="356" width="794"> </div>
      <p> More complicated, but more efficient way is <dfn>limiting</dfn>. It
        consists in an automatic decrease of the signal level to prevent overflow.
        To do this, it is necessary to use automatic gain control (AGC), which
        will adjust t he current signal level. Thus, when there is no overflowing
        AGS does not change a signal, and as soon as a signal exceeds the maximum
        level, adjustment is made, which changes the signal to make its level
        lower than the maximum one. As it can be seen on the figure, the signal
        completely preserves its form! However, at that loudness remains at maximum. </p>
      <a name="theory_loudness_pic_limiting"></a>
      <div align="center"> <img alt="" src="pic/l_limiting.png" height="600" width="400"> </div>
      <p> It is necessary to take into account that the previous picture shows amplitude
        and this one shows loudness (defined on the basis of <em>a large
        group</em> of amplitudes). Therefore, notwithstanding that loudness graph
        is 'cut off', the form of the signal itself is distorted in minimum.
        This way is not free from shortcomings also. Initially, loudness of the
        signal itself varied, and after the limitation, all sounds that go beyond
        the limits have the same loudness. As a result, the sound may become 'flat'
        and inexpressive. Let us look at histograms (Fight Club): </p>
      <a name="theory_loudness_pic_gain"></a>
      <div align="center"> <img alt="" src="pic/h_overflow.png" height="391" width="595"> </div>
      <p> An example of unsuccessful gain is shown here. With gain of +10 dB, distortions
        are still less noticeable (there is still a relatively small number of scenes
        in the movie where overflow takes place). However, with an increase of gain,
        the level is limited more and more often, and when the level is equal to
        +30 dB voice begins to be limited that is highly noticeable. Shortcomings
        of the limitation are especially noticeable when loudness changes significantly
        over a short time period - subjectively, loudness begins to jump up and
        down. If, against a background conversation (which, at the gain of +30 dB,
        is already reproduced with maximum loudness), loud sound is heard (which
        is louder than the voice in the original, e.g. a telephone ring) the gain
        level is decreased to prevent distortion of loud sound, but at that the
        conversation loudness drops abruptly, too. When the loud sound ceases, the
      conversation loudness returns to the original level, abruptly as well: </p>
      <div align="center"> <img alt="" src="pic/l_loudness_jump.png" height="800" width="400"> </div>
      <p> Thus, relative loudness of various sounds reproduced simultaneously is
        preserved, but gain level is continuously varying. It is well noticeable
        and very unpleasant. Thus, at high gain levels (20-30 dB and more) the
      limitation also produces a <em>bad</em> result.</p>
      <p> When gain levels are small, the signal limitation defects are practically
        unnoticeable, whereas the signal clipping is heard well virtually always.
        That is, under otherwise equal conditions, limitation gives more good result.
        The filter always performs either limitation (the <span class="option">AGC</span> option is switched
        on) or clipping (the <span class="option">AGC</span> option is switched off). Hereafter, unless otherwise
        specified explicitly, it will be assumed that the limitation is switched
      on. Thus, it is recommended to keep the <span class="option">AGC</span> option active. </p>
  </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.5. Normalization</h4>
      
      <p> Let us set a goal to raise loudness without any loss of quality at all.
        Is it possible? Yes, if there is a 'margin' of the dynamic range. Let us
        look again at <a href="#theory_loudness_pic_movies">movies'
        histograms</a>, Cube movie in particular (the yellow graph). One can see
        on the histogram that loudness does not rise higher than -15 dB (it is possible
        that in the entire movie there are one-two such occasions; however, for
        the purposes of this review we will assume that there are no loud sounds
        at all). So, as there are no loud sounds, it is possible to raise loudness
      by 15 dB without loss of quality! </p>
      <div align="center"> <img alt="" src="pic/l_normalize.png" height="402" width="400"> </div>
      <p> Except for increase of loudness, there are no other changes in the signal.
        At that, the histogram will shift close by the right-hand margin without
      changing a form:</p>
      <a name="theory_loudness_pic_normalize"></a>
      <div align="center"> <img alt="" src="pic/h_normalize.png" height="409" width="595"> </div>
      <p> Thus, it will turn out that there is now a sound in the movie having maximum
        loudness. However, if we continue to increase loudness the distortions (described
        above) will appear. Such signal form where there is a sound of maximum loudness
        without introduced distortions is called <dfn>normalized</dfn> and the process
        is called <dfn>normalization</dfn>. Normalization is often carried out at
        the musical records preparation stage, and the sound reaches us already
        normalized (e.g. AudioCD). However, the normalization is not carried
      out for movies. Why? </p>
      <p> Let us recall histograms for music and a chaos relating to loudness. For
        music, it is important to playback with maximum loudness, as it is meant
        for maximum target audience - CD players, a noisy street, underground, cheap
        earphones, croaky radio stations where low sounds less than -40 dB are not
        hearable. (Let us have a one more look at <a href="#theory_loudness_pic_music">graphs
      for music</a> - minimum loudness is approximately equal to - 40 dB.) </p>
      <p> For DVD it is not so. They are primarily designed for quality home cinema.
        Playback equipment should be calibrated to reproduce dialogs always with
        the same absolute loudness for <em>any </em>movie, will it be an action
        movie with explosions smashing a wall or a melodrama with soft rustle of
        grass. At that, playback system should <em>always </em>be ready to playback
        these sounds without necessity to change the gain level manually. Thus,
        the most important is not a necessity to make a record maximum loud, but
        a necessity to have fixed reference level to make it possible for a decoder
        to adjust gain level automatically. This reference level may be any (as
        a matter of fact, this is not important, i.e. if there is a reference level,
        corresponding adjustment may be made at any time). The standard de facto
        for DVD is the dialog level equal to -27 dB. Thus, even if a movie does
        not contain loud sounds, one should not carry out normalization at the disc
      creation stage and the dynamic range remains unspent. </p>
  </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.6. One-pass normalization</h4>
      <p> So, for the purpose of loudness increasing normalization is useful. However,
        to carry out normalization, one needs to know maximum recording level. To
        identify it, one needs to review the whole record beforehand. However, it
        is not always possible and is inconvenient. There is a normalization method,
        which does not need preview of the whole record - the one-pass normalization.
        The method consists in a <em>constant </em>search for maximum when we are
        watching a movie. At the initial moment, the gain is at maximum. When an
      overflow arises, we decrease gain: </p>
      <div align="center"> <img alt="" src="pic/l_onepass.png" height="600" width="400"> </div>
      <p> As it shown on the figure, the first loudness peak is clipped almost in
        the same way as in the case of usual overflow, but duration of 'clipping'
        is significantly shorter (compare with <a href="#theory_loudness_pic_limiting">simple
        limitating</a>) and later there will be no overflows. Thus, gain will
        be adjusted when every new maximum is found, and, as a result, the histogram
      is automatically shifted to achieve maximum loudness. </p>
      <p> As all other, the method is not free from shortcomings. First, the method
        introduces distortions (though they are low observable, it is necessary
        to know precisely what to listen to in order to notice the one-pass normalization).
        Second, loudness is continuously decreasing during a movie show (though
        usually the main loudness decrease process ends during the first 10-15 minutes
        of a movie and so it is practically unnoticeable). And third, it may be
        that the main goal (loudness increase) will not be achieved - everything
        depends upon the movie itself (it relates also to the usual normalization).
        Here is an example of histograms obtained in the case of one-pass normalization
        of the Cube (where normalization is possible) and Fight Club (where normalization
      will not give the desirable effect) movies: </p>
      <div align="center"> <img alt="" src="pic/h_onepass.png" height="409" width="595"> </div>
      <p> As it seen on these histograms, the result is drastically different. Activation
        of one-pass normalization gives a substantial positive effect for the Cube
        movie - sound has become noticeably louder (our assumption that sounds louder
        than -15 dB are absent in the movie was confirmed - compare with <a href="#theory_loudness_pic_normalize">normalization
        graph</a>). However, in the Fight Club movie no increase of loudness took
        place at all - thus the desired effect was not achieved, but additional
      distortions were introduced. </p>
      <p> It is necessary to note once more that for one-pass normalization operation
        preliminary (initial) gain is needed - without level rising, the one-way
        normalization is senseless. As well as the normal gain, it is set by the <span class="option">Master</span> level.
        However, if it is too strong loudness drop from the beginning of the
      algorithm operation will be very noticeable. </p>
  </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.7. Dynamic range compression</h4>
      <p> Let us think: what for do we need to raise loudness? Is it needed in order
        to hear quiet sounds, which are inaudible in our circumstances (e.g., if
        it is impossible to listen loud sounds, if there are unwanted noises in
        the room, etc.)? Is it possible to amplify quiet sounds without processing
        loud sounds? It turns out that it is possible. This technique is called
        the Dynamic Range Compression (DRC). For this compression, it is necessary
        to change the current loudness constantly: to amplify quiet sounds and not
        to amplify loud ones. The simplest law of loudness change is linear, i.e.
        loudness is changed according to the law: output_loudness = k * input_loudness,
      where k - dynamic range compression coefficient: </p>
      <div align="center"> <img alt="" src="pic/drc_linear.png" height="405" width="388"> </div>
      <p> When k = 1, no changes are made (output loudness is equal to input one).
        When k &lt; 1, loudness will increase and the dynamic range will be contracted.
        Let us have a look at the graph (k=1/2) - quiet sound with loudness equal
        to -50 dB will be higher by 25 dB, that is significantly louder. Meanwhile
        dialog loudness (-27 dB) will rise only by 13.5 dB, and loudness of the
        loudest sounds (0 dB) will not change at all. When k &gt; 1, loudness will
      decrease and the dynamic range will increase. </p>
      <p> Let us look at loudness graphs (k = 1/2: the dynamic range will be compressed
      in double): </p>
      <div align="center"> <img alt="" src="pic/l_drc.png" height="402" width="400"> </div>
      <p> As it may be seen, there were very quiet sounds in the original that were
        lower than dialog level by 30 dB, as well as very loud ones higher than
        dialog level by 30 dB. Thus, the dynamic range is 60 dB. After compression,
        loud sounds are higher just by 15 dB, and quiet ones are lower than dialog
        level by 15 dB (the dynamic range is now equal to 30 dB). Thus, loud sounds
        have become significantly quieter, and quiet sounds - significantly louder.
      At that, there is no overflow! </p>
      <p> Let us now consider histograms:</p>
      <a name="theory_loudness_pic_drc"></a>
      <div align="center"> <img alt="" src="pic/h_drc.png" height="426" width="595"> </div>
      <p> As it clearly seen, when gain level is up to +30 dB the histogram form
        is well preserved. It means that loud sounds remain well marked (they do
        not become maximum and are not clipped as in the process of <a href="#theory_loudness_pic_gain">simple
        gain</a>). At that, quiet sounds are identified. The histogram shows it
        poorly but the difference is very noticeable by ears. The method's shortcoming:
        the same jumps of loudness. However, their generation mechanism differs
        from jumps of loudness arising during clipping, and their character is completely
        different: they arise generally in the case of very high gain of quiet sounds
        (and not during clipping of loud sounds as in the process of the normal
        gain). Excessive compression level results in flattening of the sound pattern:
      all sounds tend to be equally loud and inexpressive. </p>
      <p> High gain of quiet sounds may result in audible recording noise. Thus,
        the filter uses a somewhat modified algorithm to lessen an increase of
      noise level: </p>
      <div align="center"> <img alt="" src="pic/drc_bended.png" height="405" width="388"> </div>
      <p> That is, at loudness level equal to -50 dB there is a knee of the transfer
        function and noises will be amplified less (yellow line). When there is
        no such knee, noises will be significantly louder (grey line). Such simple
        modification significantly decreases noise level even at very high compression
        levels (on the figure - compression is equal to 1.5). The <span class="option">DRC</span> level
        of the filter defines gain level for quiet sounds (-50 dB), thus the
        compression level 1/5 shown on the figure corresponds to +40 dB level in
      filter settings. </p>
  </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.9. Mixing and loudness</h4>
      <p> There is one more detail not obvious, which may highly influence loudness
        during playback of multichannel records on a stereo system (or using headphones).
        Let us suppose that we have an initial record in the 5.1 format and it is
        necessary to obtain two channels at the output. Into each output channel
        there are mixed: one front channel, one rear channel, the LFE channel and
        part of the central channel: </p>
      L' = L + 0.7*C + SL + LFE<br>
      R' = R + 0.7*C + SR + LFE
      <p> Let us suppose that there is maximum loud sound simultaneously in all input
        channels (though it is not probable enough). Then the amplitude in the output
        channel will be 3.7 times more than maximum (by 11 dB), i.e. there will be
        the highest overflow. To prevent overflow, mixing formulas should be rewritten
        in the following way: </p>
      L' = (L + 0.7*C + SL + LFE) / 3.7<br>
      R' = (R + 0.7*C + SR + LFE) / 3.7
      <p>This is a normalized mixing (you should not confuse it with normalization
        of record itself) - this guarantees absence of an overflow. However, sound
        mixed in this way is quieter by 11 dB! Is it possible not to carry out normalization?
        Yes. However, in this case there are possible overflow and related distortions.
        Overflow arises only then when all input channels simultaneously reproduce
        a loud sound. It is not typical for movies (usually rear channels are noticeably
        quieter than front ones and the LFE channel is used far from always), but it
        is usual for multichannel musical records. That is why one may leave the non-normalized
        mixing for musical records, and for music, it is better to switch the normalization
        on. (In the filter, normalization of mixing is controlled by the <span class="option">Normalize
      matrix</span> option).</p>
  </div>
    <!-- ---------------------------------------------------------------------- -->
    <div class="subsubchapter">
      <h4>7.1.10. Recommendations.</h4>
      <p> Setting recommendations are highly depend on specific conditions of listening
      and a goal set. Conditionally, all conditions may be categorized as follows: </p>
      <ol>
        <li> High-quality home cinema and good listening conditions - no unwanted
          sounds (street noise, neighbors from above, children running about and
          a possibility to make noise (neighbors are absent). For this category all
        post-processing may be switched off (preset standard). </li>
        <li> Good acoustics, but there is external noise. It is possible to use small
        gain and small compression level. </li>
        <li> One cannot make noise him(her)self (night, neighbors/children), ordinary
          acoustics (cheap headphones, weak speakers). There is necessary high compression
        level plus an increase of the level or the one-pass normalization. </li>
      </ol>
      <p> The best results may be achieved only by combining all methods. In this
        section, we will consider only a case of viewing DVD movies. For other cases
        (music, MPEG4 movies, etc.) sound characteristics are very different. However,
        after familiarization with the filter's setting for DVD-movies it is not
      difficult to study other cases. </p>
      <p> Gain (<span class="option">Master</span> level). Jumps of loudness arising in the case of overflow
        are unnoticeable only then when the sound being clipped is much louder than
        the basic one: in the example, relating to a telephone ring loudness of
        the telephone sound is comparable with loudness of voice sound. However,
        if instead of a telephone there will be a thundering explosion, voice sound
        will be indistinguishable in any case. Therefore, a limitation of the loudest
        sounds is admissible and practically unnoticeable. As very loud one may
        consider sounds from +15...+20 dB as related to dialog level. Thus, when
        dialog level is equal to -27 dB (de facto for DVD), the admissible gain
        level is equal to +7...+12 dB. As one more reference, one may address <a href="#theory_loudness_pic_gain">gain
        histograms</a>: gain up to +10 dB does not highly influence the histogram
        form, while at gain equal to +20 dB a very large number of sounds will be
        limited. Thus, one may consider gain up to +10 dB as admissible. This value
        may be kept practically always: in movies with quiet sound, it will notably
        raise loudness, and in loud ones, it will not hinder very much. (We should
        note once more that the reasoning is provided only for the case of watching
        DVD movies; for music and for most mpeg4 movies it is inapplicable, as histograms'
      characteristics are very different). </p>
      <p>Gain can also be used for limiting signal loudness (e.g. for listening at night).
        When dialog levels are equal to -27 dB and gain is equal to +17 dB dialog levels
        after gain will be equal to -10 dB, and level of the loudest sound will be equal,
        as usual, to 0 dB that is just by +10 dB higher than dialog level. Thus, setting
        gain in the filter equal to +17 dB and adjusting the system loudness so that
        dialogs will be reproduced with acceptable absolute loudness, we will get a guarantee
        that the loudest sounds will not exceed dialog levels by more than 10 dB (though,
      certainly, in this case signal limitation will be used for loud sounds).</p>
      <p> Dynamic range compression (DRC). It is much more difficult
        to determine bounds of using compression, as audibility of compression
        defects is highly dependable on acoustic system, listening conditions
        and the listener him(her)self. If histograms are used to solve this issue
        the upper limit of compression applicability may be estimated as +20...+30
        dB (see <a href="#theory_loudness_pic_drc">histograms</a>).
        In this case, loud sounds still remain distinguished from quiet ones
        by loudness. Thus, compression level is selected only audibly, until
        the necessary loudness is achieved and defects will remain unnoticeable. </p>
      <p> It is necessary to take into account that compression and gain are applied
        simultaneously. Thus, when the gain level is +20 dB and compression is twofold
        (+25 dB) the actual gain level will be equal to +10 dB. It is normal, as
      a requirement for gain is also decreased with an increase of compression.</p>
      <p> One-pass normalization. It is also applicable practically always. For
        high-quality systems with low gain level it will allow to diminish number
        of overflows; and in other cases, combined with compression, it will
        allow to achieve maximum loudness, also with minimum of distortions related
        to overflow. An initial gain level (<span class="option">Master</span> level) for normalization is selected
        on the basis of goals; if a high gain is not needed the desirable gain
        is set. To achieve maximum loudness, one may set a level equal to +20 dB. </p>
  </div>
  </div> <!-- <div id="theory_loudness" class="subchapter"> -->

  <!-- ---------------------------------------------------------------------- -->
  <div id="theory_lfe" class="subchapter">
    <h3><a name="theory_lfe">7.2. What is LFE?</a></h3>
    
    <p> The first that should be noted: <em>LFE is not the same as a subwoofer</em>! In
      addition, the designation '5.1' for AC3 does not coincide with '5.1' for
    an acoustic system. Thus, let us begin from considering this difference. </p>
    <p>The AC3 format was created for cinema and not at all for a computer. At cinemas,
quality acoustics may reproduce low frequencies quite adequately, whereas LFE
was designed as a channel for powerful low-frequency <em>effects </em>that is
effects, with which usual acoustics cannot cope any more. It is used in order
to make walls to shake, people to cry from a horror and weak-nerved young ladies
to faint. Thus, <em>all</em> channels of the ac-3 stream contain low frequencies
and only sometime (in especially explosive moments) the LFE channel begins to
operate, just to help the basic acoustics to shake wal ls. It may quite happen
so that the LFE channel will never be switched on during the entire movie. This
also will be normal. </p>
    <p> The computer acoustics has quite another specific character. Most of
      contemporary 5.1 acoustics just is not able to reproduce low frequency
      through main speakers (satellites) and subwoofer should be entirely responsible
      for its reproduction. Thus, if we connect 5.1 acoustics and begin to watch
      movie with sound track of the 5.1 format assigning the LFE channel to the
      subwoofer (without redirection of low frequencies from main channels) we
    risk not to hear low frequencies at all! </p>
    <p> Acoustic systems with subwoofer may be divided into several categories.
      First, an acoustic system may have a subwoofer, and, however, not have
      separate input for it. In this case, the acoustic system itself separates
      input signal into low-frequency signal for the subwoofer and signal for
      main speakers. It is necessary for such systems that all low-frequency
      information is already contained in the signal for main speakers, i.e.
      it is necessary to mix the LFE channel into all main channels. Thus, output
      mode should be indicated <em>without</em> subwoofer. (From the point of
      view of operating system and sound card, the acoustic system has no subwoofer,
    as the acoustic system has no separate input for it). </p>
    <p> Systems where subwoofer is controlled separately may be divided into
    two categories. </p>
    <ul>
      <li> Main speakers cannot reproduce low frequencies, thus <em>only </em>subwoofer
        is responsible for reproduction of low frequencies. In this case, bass
        redirection from main channels to subwoofer is necessary! Cutoff frequency
        of subwoofer may be found in the acoustic system's documentation. Cutoff
        frequency, equal to 120 Hz and set as default, is suitable for most of
      such systems. </li>
      <li>Main columns are broad-banded and are capable to reproduce low frequencies independently,
        and subwoofer plays a supporting role only. In this case, bass redirection is
      optional, but it may be used for the lowest frequencies (~40 Hz).</li>
    </ul>
    <p> To obtain more detailed information on purposes of channels, subwoofer
    and bass control, address the Dolby site: <a href="http://www.dolby.com/tech/c.in.0011.LFE.pdf">http://www.dolby.com/tech/c.in.0011.LFE.pdf</a> (Eng). </p>
  </div> <!-- <div id="theory_lfe" class="subchapter"> -->
  
  <!-- ---------------------------------------------------------------------- -->
  
  <div id="theory_spdif" class="subchapter">
    <h3><a name="theory_spdif">7.3. SPDIF</a></h3>
    <p> SPDIF (S/P DIF, Sony/Philips Digital Interface, IEC958 &quot;Digital audio
    interface&quot; standard) is digital interface for sound transfer. </p>
    <p> When the connection is analog, an acoustic system is connected in the following
    way: </p>
    <div class="image">
      <img alt="" src="pic/con_analog.png" height="393" width="741">
    </div>
    <p> Digital-to-analog converter (<dfn>DAC</dfn>) is situated on the sound card, and sound
      is transferred out of computer in the analog form. For connection, one
      needs three stereo wires (for 6-channel system) from sound card to amplifier
      and six wires from amplifier to each speaker. </p>
    <p> When the connection is digital the following connection scheme is us ed: </p>
    <div class="image">
      <img alt="" src="pic/con_spdif.png" height="393" width="741">
    </div>
    <p> Here, to connect a receiver, only one wire is needed, and sound is transferred
      in digital form. DAC and amplifier are situated in the receiver. As DAC is
      subjected to lesser influence of electronic noises outside computer, and
      amplifier is situated nearby, the receiver can provide better sound quality
    in the digital transfer mode. </p>
    <p> Initially, the SPDIF standard enabled transmission only of uncompressed
      PCM audio in stereo mode. However, as the transfer is made in digital form,
      one may transfer data of any format, if only transmission rate is satisfactory.
      So, the standard for transferring of compressed multichannel audio is SPDIF-passthrough
      mode. (A multichannel sound cannot be transmitted in uncompressed mode,
    as the transmission rate is limited.) </p>
    <p> The pass-through communication mode may be illustrated in the following
    way: </p>
    <div class="image">
      <img alt="" src="pic/con_passthrough.png" height="393" width="741">
    </div>
    <p> Thus, sound is transmitted <em>unchanged </em>through the entire system
      from DVD disc (or other sound source) to receiver; it explains the mode's
      name. As the data are transferred without changes, other computer sound processing
      options, including change of loudness, are unavailable. All settings may
      be made for receiver <em>only</em>. Besides, at the same time only one sound
    source may be reproduced, as mixing of compressed sound is impossible. </p>
    <p> As sound is transmitted in compressed form, receiver should be able to
      decode it. There are many sound compression formats, and it is obvious that
      receiver cannot support all existing formats. So the following formats are
      supported: AC3 (DolbyDigital), DTS, MPEG Audio (including MP3). However,
      not all receivers support even this set of formats, usually the AC3 is supported,
      rarely - the DTS format and more rarely - the MPEG Audio format. The DTS
      format ensures higher quality of sound, but the AC4 format is more widespread,
    as it is the standard for DVD. </p>
    <p> As a decoder, a digital-to-analog converter and an amplifier are in the
      same device, it is possible to adjust the gain level automatically. It eliminates
    loudness problem. </p>
    <p> To use the pass-through transfer mode there are necessary: </p>
    <ul>
          <li> Support of the format by receiver. </li>
          <li> Support of operating system (see the <a href="#system_setup_windows">compatibility
              table</a>). </li>
          <li> Support of sound card by driver. </li>
      <li>Support by audio decoder (the
              AC3Filter supports this mode). </li>
    </ul>
    <p> However, even when all these requirements are met the pass-through transfer
      mode may be used far from always. E.g., the SPDIF standard allows to use
      just three sampling rate: 48 kHz (DVD), 44.1 kHz (AudioCD) and 32 kHz. If
      the source has another sampling rate, the pass-through transfer is impossible.
      Besides, some sound cards (e.g. Creative) support only 48 kHz frequency,
      i.e. the mode may be used for DVD only and cannot be used with many other
      sources. </p>
    <p> Some sound tracks of the DTS format also cannot be transmitted in the pass-through
      transfer mode. The thing is that this format ensures very good quality of
      sound; however, this format has lower compression level. Some DTS records
      have too low compression level and SPDIF bandwidth is insufficient. </p>
    <p> A short comparison table for analog and digital connections: </p>
    <table border="1" cellspacing="0">
      <tr>
        <th bgcolor="#E0E0E0"> <strong> Analog connection </strong> </th>
        <th bgcolor="#E0E0E0"> <strong> Digital connection</strong> </th>
      </tr>
      <tr>
        <td bgcolor="#FFE0E0">(-) Many wires </td>
        <td bgcolor="#E0FFE0">(+) One wire </td>
      </tr>
      <tr>
        <td bgcolor="#FFE0E0">(-) DAC is situated on sound card and is subjected
          to electronic noises inside computer</td>
        <td bgcolor="#E0FFE0">(+) DAC is situated in an external device and can ensure
          better sound quality</td>
      </tr>
      <tr>
        <td bgcolor="#E0FFE0">(+) The format is practically unrestricted</td>
        <td bgcolor="#FFE0E0">(-) There are many restrictions on a format of transmitted
          data</td>
      </tr>
      <tr>
        <td bgcolor="#E0FFE0">(+) It is possible to reproduce several sounds simultaneously</td>
        <td bgcolor="#FFE0E0">(-) Only one sound source may be used</td>
      </tr>
      <tr>
        <td bgcolor="#E0FFE0">(+) Setting is more simple</td>
        <td bgcolor="#FFE0E0">(-) Setting is more difficult</td>
      </tr>
      <tr>
        <td bgcolor="#E0FFE0">(+) Possibility of sound processing on computer</td>
        <td bgcolor="#FFE0E0">(-) Sound processing on computer is impossible</td>
      </tr>
      <tr>
        <td bgcolor="#E0FFE0">(+) The price is lower</td>
        <td bgcolor="#FFE0E0">(-) The price is higher</td>
      </tr>
    </table>
    <p> In some cases there is a possibility to transmit multichannel sound even
      when the pass-through transfer mode is unavailable (the format is not supported
      by receiver). To this effect, it is necessary to convert the format into
      a form understood by receiver: </p>
    <p> Such model of operation enables to bypass many restrictions on the pass-through
      transfer mode. However, it is necessary to remember that coding to AC3 always
      results in quality loss (the AC3 format is a format of coding with losses,
      as well as e.g. the MP3 format), i.e. the main advantage of the digital connection
      turns out to be questionable. In these cases, it is recommended to use analog
      connection as it may ensure better quality. </p>
  </div> <!-- <div id="theory_loudness" class="subchapter"> -->
</div>

<!-- ==========================================================================
                                  Distribution
=========================================================================== -->

<div id="distribution" class="chapter">
  <h2><a name="distribution"></a>8. Distribution </h2>
  
  <p> This software product is distributed under the GNU General Public License
    v2, the text is appended as the GNU_eng.txt file in English and the GNU_rus.txt
    in Russian. The variant in Russian is provided as a reference only; in case
    of any discrepancies, the English version prevails. </p>
  <p> This software product may be used only for demonstration and training purposes.
    Any use for other purposes may be prohibited in some countries. This product
    may be distributed freely, except for cases prohibited by the legislation. </p>
  <p> This software product is distributed exceptionally with a hope that it will
    be useful; however, <strong>without any guarantees</strong> of operation on
    a specific equipment, of meeting any conditions, standards or needs. I <strong>do
    not undertake</strong> an assurance of twenty-four-hour (or any) support,
    of an error correction, of recovery of data lost due to operation of the program,
    of liability for spoilt hardware as well as for lost working time. I am not
    responsible for legality of multimedia products reproduced by this program. </p>
  <p> This software product may be distributed in form of installation package
    ($download_bin) in CD collections or along with other programs. No author
    permission is needed for it. For codec-packs, it is admissible to distribute
    the filter as individual module. </p>
</div>

<!-- ==========================================================================
                                  Contact author
=========================================================================== -->

<div id="contact_author" class="chapter">
  <h2><a name="contact_author"></a>9. Ñâÿçü ñ àâòîðîì</h2>
  <p> All questions relating to the filter operation, errors, new ideas, proposals,
    etc. should be addressed to the following address : <script language="JavaScript"><!--
          function h979(){var et8="@"; et8=et8+"ma"; et8="alex%20%3Cxvalex"+et8; et8=et8+"il.ru%3E"; et8="V"+et8; return et8};
          function ge(){var d6y="ter"; d6y="AC3Fil"+d6y; return d6y};
          function xq2nz(){return "?Subject=AC3Filter"};
          function df(){status="mailto:"+h979()+xq2nz()};
          function i5p0f(){status=""};
          function nbx8v(){this.location="mailto:"+h979()+xq2nz(); return false};
          document.write("<a href='mailto:[antispam_protected]' onMouseOver='df()' onMouseLeave='i5p0f()' onClick='return nbx8v()'>"+ge()+"</a>");
        //--></script>
        <noscript>
        AC3Filter
        </noscript>
        . 


Due to a vast number of spam, filtering is used, so the subject of the message
itself should contain <em>AC3Filter</em> word and the message size should
not exceed 20Ê. If you wish to send files send a preliminary notice. </p>
  <p> If you have a problem, describe it in detail, up to a sequence of pressed
    keys. Information on the system's configuration (OS version, sound card),
    the player being used, filter settings (it is desirable to indicate fields)
    is required. Here is an example of a style that should not be used in a letter
  (a real message): </p>
    <blockquote> You have a cool prog, but I failed toanderstand anything. I
      have such stuff Topdevice 440D/5.1 and tsenter does not plough with ÀÑ-3
      only 5.1? big requezt wha should be done for a tsentor to play (Winamp
      playr). One more requezt if you can this all quicker (a big desire that
    everything work &quot;OK&quot;).</blockquote>
    <p> Such letters will be simply ignored. And now this is an example of a
    well-made message, which helped to solve the problem quickly: </p>
    <blockquote>
       Good day,<br>
       I have found a link to your codec at the IXBT forum, downloaded it, installed
       and a problem arouse.<br>
       To begin with, I inform you on my configuration.<br>
       Windows 98SE, C-Media 8738 (PCI) card, speaker mode - 5.1<br>
       I used 3 different players: WMP 6.01.05.0217, ZoomPlayer 2.5, BsPlayer
       0.86.<br>
       The problem is: while playing DivX+AC-3 a sound is reproduced, but not
       AC-3, to be more precise, not a full-fledged AC-3. In the Output levels
       of codec's properties level of only three channels can be changed: two
       front and the central ones (see the figure). The subwoofer sound exists,
       but it is quiet and very &quot;dirty&quot;, and there is no subwoofer
       level in Output levels. Rear speakers are silent.<br>
       Default WaveOut Device properties are:<br>
       wFormatTag: 65534<br>
       nChannels: 6<br>
       I wish to warn right away, that I downloaded and installed a patch for
       W98, a reference to which you gave on the project page. <br>
       I send registry branch and the Main page of codec's properties as attached
    files. </blockquote>
  <p> Before writing on an existence of a problem, make sure that the problem
    is really caused by the filter: uninstall the filter. If the problem remains,
    the filter has no connection to it - during deinstallation, the filter completely
  removes itself from the system leaving no traces. </p>
  <p> I try to review all incoming problems, but simply do not have a physical
    capacity to deal with every problem individually. However, in any case, your
    messages are not lost for nothing - using accumulated statistics often leads
  to a successful solution of very knotty cases. </p>
  <p> Read the documentation! Many &quot;problems&quot; are successfully solved
  by available settings. </p>
  <p> Besides, I recommend to use the forum: you may find people with similar
  problems, which were successfully solved. </p>
</div>

<!-- ==========================================================================
                                  Donations
=========================================================================== -->

<div id="donations" class="chapter">
<h2><a name="donations"></a>10. Donations</h2>
  <p> The project needs your help! If you like the program, it enables you to
    solve your problems, you will use it at home or in your professional activities,
    and if you have ideas how to improve it, you may support the further project
    development. </p>
  <p> A financial support is accepted at this address: </p>
  
    <div align="center"><a href="http://order.kagi.com/?6CZJZ">Donate!</a></div>
    <p> Any sum is important; this is not only money, but a moral support too. </p>
  <p> You may support the project not only financially, I accept any help. In
    the first place, I need equipment for testing. E.g., a large number of problems
    relating to the SPDIF mode are caused by fact that I have absolutely no SPDIF
    equipment. </p>
  <p> Besides, the project needs a site and its maintenance. In addition, first
    of all, a support of the forum is needed to provide a patient help to beginners
    as well as to identify really serious problems. </p>
  <p> It is required to translate the documentation, as for large number of users
    neither Russian, nor English languages are the native ones. Unfortunately,
    interface translation is not planned yet, but translation of documentation
    is necessary. </p>
</div>

<div id="changelog" class="chapter">
<h2><a name="changelog"></a>11. Changelog.</h2>
<tt>$changelog</tt>
</div>

<hr size="2" width="100%">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td valign="top"><i><small> Copyright (c) 2002-2004 by
        <script language="JavaScript"><!--
          function h979(){var et8="@"; et8=et8+"ma"; et8="alex%20%3Cxvalex"+et8; et8=et8+"il.ru%3E"; et8="V"+et8; return et8};
          function ge(){var d6y="sky"; d6y="Alexander Vigov"+d6y; return d6y};
          function xq2nz(){return "?Subject=AC3Filter"};
          function df(){status="mailto:"+h979()+xq2nz()};
          function i5p0f(){status=""};
          function nbx8v(){this.location="mailto:"+h979()+xq2nz(); return false};
          document.write("<a href='mailto:[antispam_protected]' onMouseOver='df()' onMouseLeave='i5p0f()' onClick='return nbx8v()'>"+ge()+"</a>");
        //--></script>
        <noscript>
        Alexander Vigovsky
        </noscript>
        </small></i></td>
      <td align="right" valign="top"><i><small> Last updated $date</small></i></td>
    </tr>
  </tbody>
</table>
</body>
</html>
